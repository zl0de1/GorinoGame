// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var r,aa,ba,ea,fa,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ea,Fa,v,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Ra,Sa,Ta,Ua,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec={},fc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,c,d){this.set(a,b,c,d)}function c(){this.Dc=this.Cc=this.Fc=this.Ec=this.Pc=this.Oc=this.Mb=this.Lb=0}function b(a,b,c,d){a<b?c<d?(s=a<c?a:c,u=b>d?b:d):(s=a<d?a:d,u=b>c?b:c):c<d?(s=b<c?b:c,u=a>d?a:d):(s=b<d?b:d,u=a>c?a:c)}function d(){this.items=this.Kg=null;this.jm=0;y&&(this.Kg=new Set);this.Vm=[];this.hj=!0}function e(a){C[I++]=a}function g(){this.Va=this.Fs=this.y=this.D=0}function f(a){this.Mc=[];this.Vp=this.Xp=this.Yp=this.Wp=0;this.pq=null;this.gp(a)}function m(a,
b){this.Wt=a;this.Vt=b;this.cells={}}function k(a,b){this.Wt=a;this.Vt=b;this.cells={}}function h(a,b,c){var d;return E.length?(d=E.pop(),d.Ku=a,d.x=b,d.y=c,d):new ba(a,b,c)}function n(a,b,c){this.Ku=a;this.x=b;this.y=c;this.Dd=new ea}function l(a,b,c){var d;return D.length?(d=D.pop(),d.Ku=a,d.x=b,d.y=c,d):new fa(a,b,c)}function q(a,b,c){this.Ku=a;this.x=b;this.y=c;this.Dd=[];this.gm=!0;this.yh=new ea;this.Bn=!1}function p(a,b){return a.Qg-b.Qg}ha=function(a){window.console&&window.console.log&&window.console.log(a)};
ia=function(a){window.console&&window.console.error&&window.console.error(a)};aa=function(a){return a};ja=function(a){return"undefined"===typeof a};ka=function(a){return"number"===typeof a};la=function(a){return"string"===typeof a};ma=function(a){return 0<a&&0===(a-1&a)};na=function(a){--a;for(var b=1;32>b;b<<=1)a|=a>>b;return a+1};oa=function(a){return 0>a?-a:a};pa=function(a,b){return a>b?a:b};qa=function(a,b){return a<b?a:b};ra=Math.PI;ta=function(a){return 0<=a?a|0:(a|0)-1};ua=function(a){var b=
a|0;return b===a?b:b+1};va=function(a,b,c,d,g,l,f,e){var y,n,k,m;a<c?(n=a,y=c):(n=c,y=a);g<f?(m=g,k=f):(m=f,k=g);if(y<m||n>k)return!1;b<d?(n=b,y=d):(n=d,y=b);l<e?(m=l,k=e):(m=e,k=l);if(y<m||n>k)return!1;y=g-a+f-c;n=l-b+e-d;a=c-a;b=d-b;g=f-g;l=e-l;e=oa(b*g-l*a);return oa(g*n-l*y)>e?!1:oa(a*n-b*y)<=e};a.prototype.set=function(a,b,c,d){this.left=a;this.top=b;this.right=c;this.bottom=d};a.prototype.Jn=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=
function(){return this.right-this.left};a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.LG=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.MG=
function(a,b,c){return!(a.right+b<this.left||a.bottom+c<this.top||a.left+b>this.right||a.top+c>this.bottom)};a.prototype.fe=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};a.prototype.Dq=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};wa=a;c.prototype.fp=function(a){this.Lb=a.left;this.Mb=a.top;this.Oc=a.right;this.Pc=a.top;this.Ec=a.right;this.Fc=a.bottom;this.Cc=a.left;this.Dc=a.bottom};c.prototype.dB=function(a,
b){if(0===b)this.fp(a);else{var c=Math.sin(b),d=Math.cos(b),g=a.left*c,l=a.top*c,f=a.right*c,c=a.bottom*c,e=a.left*d,y=a.top*d,n=a.right*d,d=a.bottom*d;this.Lb=e-l;this.Mb=y+g;this.Oc=n-l;this.Pc=y+f;this.Ec=n-c;this.Fc=d+f;this.Cc=e-c;this.Dc=d+g}};c.prototype.offset=function(a,b){this.Lb+=a;this.Mb+=b;this.Oc+=a;this.Pc+=b;this.Ec+=a;this.Fc+=b;this.Cc+=a;this.Dc+=b;return this};var s=0,u=0;c.prototype.ty=function(a){b(this.Lb,this.Oc,this.Ec,this.Cc);a.left=s;a.right=u;b(this.Mb,this.Pc,this.Fc,
this.Dc);a.top=s;a.bottom=u};c.prototype.fe=function(a,b){var c=this.Oc-this.Lb,d=this.Pc-this.Mb,g=this.Ec-this.Lb,l=this.Fc-this.Mb,f=a-this.Lb,e=b-this.Mb,y=c*c+d*d,n=c*g+d*l,d=c*f+d*e,k=g*g+l*l,m=g*f+l*e,h=1/(y*k-n*n),c=(k*d-n*m)*h,y=(y*m-n*d)*h;if(0<=c&&0<y&&1>c+y)return!0;c=this.Cc-this.Lb;d=this.Dc-this.Mb;y=c*c+d*d;n=c*g+d*l;d=c*f+d*e;h=1/(y*k-n*n);c=(k*d-n*m)*h;y=(y*m-n*d)*h;return 0<=c&&0<y&&1>c+y};c.prototype.ej=function(a,b){if(b)switch(a){case 0:return this.Lb;case 1:return this.Oc;case 2:return this.Ec;
case 3:return this.Cc;case 4:return this.Lb;default:return this.Lb}else switch(a){case 0:return this.Mb;case 1:return this.Pc;case 2:return this.Fc;case 3:return this.Dc;case 4:return this.Mb;default:return this.Mb}};c.prototype.Mj=function(){return(this.Lb+this.Oc+this.Ec+this.Cc)/4};c.prototype.Nj=function(){return(this.Mb+this.Pc+this.Fc+this.Dc)/4};c.prototype.pz=function(a){var b=a.Mj(),c=a.Nj();if(this.fe(b,c))return!0;b=this.Mj();c=this.Nj();if(a.fe(b,c))return!0;var d,g,l,f,e,y,n,k;for(n=
0;4>n;n++)for(k=0;4>k;k++)if(b=this.ej(n,!0),c=this.ej(n,!1),d=this.ej(n+1,!0),g=this.ej(n+1,!1),l=a.ej(k,!0),f=a.ej(k,!1),e=a.ej(k+1,!0),y=a.ej(k+1,!1),va(b,c,d,g,l,f,e,y))return!0;return!1};xa=c;ya=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};za=function(a,b){var c,d;b=ta(b);if(!(0>b||b>=a.length)){c=b;for(d=a.length-1;c<d;c++)a[c]=a[c+1];a.length=d}};Aa=function(a,b){a.length=b.length;var c,d;c=0;for(d=b.length;c<d;c++)a[c]=b[c]};Ba=function(a,b){a.push.apply(a,b)};Ea=
function(a,b){var c,d;c=0;for(d=a.length;c<d;++c)if(a[c]===b)return c;return-1};Fa=function(a,b){var c=Ea(a,b);-1!==c&&za(a,c)};v=function(a){return a/(180/ra)};Ga=function(a){return 180/ra*a};Ha=function(a){a%=360;0>a&&(a+=360);return a};Ia=function(a){a%=2*ra;0>a&&(a+=2*ra);return a};Ja=function(a){return Ha(Ga(a))};Ka=function(a){return Ia(v(a))};La=function(a,b,c,d){return Math.atan2(d-b,c-a)};Ma=function(a,b){if(a===b)return 0;var c=Math.sin(a),d=Math.cos(a),g=Math.sin(b),l=Math.cos(b),c=c*g+
d*l;return 1<=c?0:-1>=c?ra:Math.acos(c)};Na=function(a,b,c){var d=Math.sin(a),g=Math.cos(a),l=Math.sin(b),f=Math.cos(b);return Math.acos(d*l+g*f)>c?0<g*l-d*f?Ia(a+c):Ia(a-c):Ia(b)};Oa=function(a,b){var c=Math.sin(a),d=Math.cos(a),g=Math.sin(b),l=Math.cos(b);return 0>=d*g-c*l};Ra=function(a,b,c,d,g,l){if(0===c)return l?a:b;var f=Math.sin(c);c=Math.cos(c);a-=d;b-=g;var e=a*f;a=a*c-b*f;b=b*c+e;return l?a+d:b+g};Sa=function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)};Ta=function(a,b){return!a!==!b};
Ua=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};Wa=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var t=+new Date;Xa=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-t};var z=!1,A=z=!1,H=!1;"undefined"!==typeof window&&
(z=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),z=!z&&/safari/i.test(navigator.userAgent),A=/(iphone|ipod|ipad)/i.test(navigator.userAgent),H=window.c2ejecta);var y=!z&&!H&&!A&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.ki()?!1:y?this.Kg.has(a):this.items&&this.items.hasOwnProperty(a)};d.prototype.add=function(a){if(y)this.Kg.has(a)||(this.Kg.add(a),this.hj=!1);else{var b=a.toString(),c=this.items;
c?c.hasOwnProperty(b)||(c[b]=a,this.jm++,this.hj=!1):(this.items={},this.items[b]=a,this.jm=1,this.hj=!1)}};d.prototype.remove=function(a){if(!this.ki())if(y)this.Kg.has(a)&&(this.Kg["delete"](a),this.hj=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.jm--,this.hj=!1)}};d.prototype.clear=function(){this.ki()||(y?this.Kg.clear():(this.items=null,this.jm=0),this.Vm.length=0,this.hj=!0)};d.prototype.ki=function(){return 0===this.count()};d.prototype.count=
function(){return y?this.Kg.size:this.jm};var C=null,I=0;d.prototype.BI=function(){if(!this.hj){if(y)this.Vm.length=this.Kg.size,C=this.Vm,I=0,this.Kg.forEach(e),C=null,I=0;else{var a=this.Vm;a.length=this.jm;var b,c=0,d=this.items;if(d)for(b in d)d.hasOwnProperty(b)&&(a[c++]=d[b])}this.hj=!0}};d.prototype.Pg=function(){this.BI();return this.Vm};ea=d;new ea;Ya=function(a,b){y?Za(a,b.Kg):$a(a,b.Pg())};Za=function(a,b){var c,d,g,l;d=c=0;for(g=a.length;c<g;++c)l=a[c],b.has(l)||(a[d++]=l);a.length=d};
$a=function(a,b){var c,d,g,l;d=c=0;for(g=a.length;c<g;++c)l=a[c],-1===Ea(b,l)&&(a[d++]=l);a.length=d};g.prototype.add=function(a){this.y=a-this.D;this.Fs=this.Va+this.y;this.D=this.Fs-this.Va-this.y;this.Va=this.Fs};g.prototype.reset=function(){this.Va=this.Fs=this.y=this.D=0};ab=g;bb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};f.prototype.gp=function(a){this.OA=a;this.Af=a.length/2;this.Mc.length=a.length;this.fq=this.gq=-1;this.xy=0};f.prototype.Ok=function(){return!this.OA.length};
f.prototype.ib=function(){for(var a=this.Mc,b=a[0],c=b,d=a[1],g=d,l,f,e=1,y=this.Af;e<y;++e)f=2*e,l=a[f],f=a[f+1],l<b&&(b=l),l>c&&(c=l),f<d&&(d=f),f>g&&(g=f);this.Wp=b;this.Xp=c;this.Yp=d;this.Vp=g};f.prototype.fp=function(a,b,c){this.Mc.length=8;this.Af=4;var d=this.Mc;d[0]=a.left-b;d[1]=a.top-c;d[2]=a.right-b;d[3]=a.top-c;d[4]=a.right-b;d[5]=a.bottom-c;d[6]=a.left-b;d[7]=a.bottom-c;this.gq=a.right-a.left;this.fq=a.bottom-a.top;this.ib()};f.prototype.Qm=function(a,b,c,d,g){this.Mc.length=8;this.Af=
4;var l=this.Mc;l[0]=a.Lb-b;l[1]=a.Mb-c;l[2]=a.Oc-b;l[3]=a.Pc-c;l[4]=a.Ec-b;l[5]=a.Fc-c;l[6]=a.Cc-b;l[7]=a.Dc-c;this.gq=d;this.fq=g;this.ib()};f.prototype.cB=function(a){this.Af=a.Af;Aa(this.Mc,a.Mc);this.Wp=a.Wp;this.Yp-a.Yp;this.Xp=a.Xp;this.Vp=a.Vp};f.prototype.rk=function(a,b,c){if(this.gq!==a||this.fq!==b||this.xy!==c){this.gq=a;this.fq=b;this.xy=c;var d,g,l,f,e,y=0,n=1,k=this.OA,m=this.Mc;0!==c&&(y=Math.sin(c),n=Math.cos(c));c=0;for(l=this.Af;c<l;c++)d=2*c,g=d+1,f=k[d]*a,e=k[g]*b,m[d]=f*n-e*
y,m[g]=e*n+f*y;this.ib()}};f.prototype.fe=function(a,b){var c=this.Mc;if(a===c[0]&&b===c[1])return!0;var d,g,l,f=this.Af,e=this.Wp-110,y=this.Yp-101,n=this.Xp+131,k=this.Vp+120,m,h,q=0,C=0;for(d=0;d<f;d++)g=2*d,l=(d+1)%f*2,m=c[g],g=c[g+1],h=c[l],l=c[l+1],va(e,y,a,b,m,g,h,l)&&q++,va(n,k,a,b,m,g,h,l)&&C++;return 1===q%2||1===C%2};f.prototype.co=function(a,b,c){var d=a.Mc,g=this.Mc;if(this.fe(d[0]+b,d[1]+c)||a.fe(g[0]-b,g[1]-c))return!0;var l,f,e,y,n,k,m,h,q,C,p,t;l=0;for(y=this.Af;l<y;l++)for(f=2*l,
e=(l+1)%y*2,h=g[f],f=g[f+1],q=g[e],C=g[e+1],e=0,m=a.Af;e<m;e++)if(n=2*e,k=(e+1)%m*2,p=d[n]+b,n=d[n+1]+c,t=d[k]+b,k=d[k+1]+c,va(h,f,q,C,p,n,t,k))return!0;return!1};cb=f;m.prototype.rj=function(a,b,c){var d;d=this.cells[a];return d?(d=d[b])?d:c?(d=h(this,a,b),this.cells[a][b]=d):null:c?(d=h(this,a,b),this.cells[a]={},this.cells[a][b]=d):null};m.prototype.kf=function(a){return ta(a/this.Wt)};m.prototype.lf=function(a){return ta(a/this.Vt)};m.prototype.update=function(a,b,c){var d,g,l,f,e;if(b)for(d=
b.left,g=b.right;d<=g;++d)for(l=b.top,f=b.bottom;l<=f;++l)if(!c||!c.fe(d,l))if(e=this.rj(d,l,!1))e.remove(a),e.ki()&&(e.Dd.clear(),1E3>E.length&&E.push(e),this.cells[d][l]=null);if(c)for(d=c.left,g=c.right;d<=g;++d)for(l=c.top,f=c.bottom;l<=f;++l)b&&b.fe(d,l)||this.rj(d,l,!0).Wu(a)};m.prototype.gs=function(a,b){var c,d,l,g,f,e;c=this.kf(a.left);l=this.lf(a.top);d=this.kf(a.right);for(f=this.lf(a.bottom);c<=d;++c)for(g=l;g<=f;++g)(e=this.rj(c,g,!1))&&e.dump(b)};db=m;k.prototype.rj=function(a,b,c){var d;
d=this.cells[a];return d?(d=d[b])?d:c?(d=l(this,a,b),this.cells[a][b]=d):null:c?(d=l(this,a,b),this.cells[a]={},this.cells[a][b]=d):null};k.prototype.kf=function(a){return ta(a/this.Wt)};k.prototype.lf=function(a){return ta(a/this.Vt)};k.prototype.update=function(a,b,c){var d,g,l,f,e;if(b)for(d=b.left,g=b.right;d<=g;++d)for(l=b.top,f=b.bottom;l<=f;++l)if(!c||!c.fe(d,l))if(e=this.rj(d,l,!1))e.remove(a),e.ki()&&(e.reset(),1E3>D.length&&D.push(e),this.cells[d][l]=null);if(c)for(d=c.left,g=c.right;d<=
g;++d)for(l=c.top,f=c.bottom;l<=f;++l)b&&b.fe(d,l)||this.rj(d,l,!0).Wu(a)};k.prototype.gs=function(a,b,c,d,l){var g,f;a=this.kf(a);b=this.lf(b);c=this.kf(c);for(g=this.lf(d);a<=c;++a)for(d=b;d<=g;++d)(f=this.rj(a,d,!1))&&f.dump(l)};k.prototype.wH=function(a){var b,c,d,l,g;b=a.left;d=a.top;c=a.right;for(l=a.bottom;b<=c;++b)for(a=d;a<=l;++a)if(g=this.rj(b,a,!1))g.gm=!1};eb=k;var E=[];n.prototype.ki=function(){return this.Dd.ki()};n.prototype.Wu=function(a){this.Dd.add(a)};n.prototype.remove=function(a){this.Dd.remove(a)};
n.prototype.dump=function(a){Ba(a,this.Dd.Pg())};ba=n;var D=[];q.prototype.ki=function(){if(!this.Dd.length)return!0;if(this.Dd.length>this.yh.count())return!1;this.uu();return!0};q.prototype.Wu=function(a){this.yh.contains(a)?(this.yh.remove(a),this.yh.ki()&&(this.Bn=!1)):this.Dd.length?(this.Dd[this.Dd.length-1].gh()>a.gh()&&(this.gm=!1),this.Dd.push(a)):(this.Dd.push(a),this.gm=!0)};q.prototype.remove=function(a){this.yh.add(a);this.Bn=!0;30<=this.yh.count()&&this.uu()};q.prototype.uu=function(){this.Bn&&
(this.yh.count()===this.Dd.length?this.reset():(Ya(this.Dd,this.yh),this.yh.clear(),this.Bn=!1))};q.prototype.wF=function(){this.gm||(this.Dd.sort(p),this.gm=!0)};q.prototype.reset=function(){this.Dd.length=0;this.gm=!0;this.yh.clear();this.Bn=!1};q.prototype.dump=function(a){this.uu();this.wF();this.Dd.length&&a.push(this.Dd)};fa=q;var x="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");gb=function(a){return 0>=a||11<=
a?"source-over":x[a-1]};hb=function(a,b,c){if(c)switch(a.Wd=c.ONE,a.Qd=c.ONE_MINUS_SRC_ALPHA,b){case 1:a.Wd=c.ONE;a.Qd=c.ONE;break;case 3:a.Wd=c.ONE;a.Qd=c.ZERO;break;case 4:a.Wd=c.ONE_MINUS_DST_ALPHA;a.Qd=c.ONE;break;case 5:a.Wd=c.DST_ALPHA;a.Qd=c.ZERO;break;case 6:a.Wd=c.ZERO;a.Qd=c.SRC_ALPHA;break;case 7:a.Wd=c.ONE_MINUS_DST_ALPHA;a.Qd=c.ZERO;break;case 8:a.Wd=c.ZERO;a.Qd=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.Wd=c.DST_ALPHA;a.Qd=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.Wd=c.ONE_MINUS_DST_ALPHA,a.Qd=
c.SRC_ALPHA}};ib=function(a){return Math.round(1E6*a)/1E6};jb=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};kb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||jb(a.tagName,"canvas")?!0:!1}})();var gc="undefined"!==typeof Float32Array?Float32Array:Array;function hc(a){var c=new gc(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}
function ic(a){var c=new gc(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}function jc(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}
function kc(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function lc(a,c,b,d){d||(d=ic());var e,g,f,m,k,h,n,l,q=a[0],p=a[1];a=a[2];g=b[0];f=b[1];e=b[2];b=c[1];h=c[2];q===c[0]&&p===b&&a===h?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=q-c[0],h=p-c[1],n=a-c[2],l=1/Math.sqrt(b*b+h*h+n*n),b*=l,h*=l,n*=l,c=f*n-e*h,e=e*b-g*n,g=g*h-f*b,(l=Math.sqrt(c*c+e*e+g*g))?(l=1/l,c*=l,e*=l,g*=l):g=e=c=0,f=h*g-n*e,m=n*c-b*g,k=b*e-h*c,(l=Math.sqrt(f*f+m*m+k*k))?(l=1/l,f*=l,m*=l,k*=l):k=m=f=0,
d[0]=c,d[1]=f,d[2]=b,d[3]=0,d[4]=e,d[5]=m,d[6]=h,d[7]=0,d[8]=g,d[9]=k,d[10]=n,d[11]=0,d[12]=-(c*q+e*p+g*a),d[13]=-(f*q+m*p+k*a),d[14]=-(b*q+h*p+n*a),d[15]=1)}
(function(){function a(a){this.wj=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.yy=hc([0,0,100]);this.Lz=hc([0,0,0]);this.zB=hc([0,1,0]);this.ix=hc([1,1,1]);this.Oy=!0;this.Wv=ic();this.Xf=ic();this.Dz=ic();this.fu=ic();this.ea=a;this.lz()}function c(a,b,c){this.ea=a;this.hp=b;this.name=c;this.Tf=a.getAttribLocation(b,"aPos");this.Gj=a.getAttribLocation(b,"aTex");this.Jz=a.getUniformLocation(b,"matP");this.Dr=a.getUniformLocation(b,"matMV");
this.um=a.getUniformLocation(b,"opacity");this.Kz=a.getUniformLocation(b,"samplerFront");this.yo=a.getUniformLocation(b,"samplerBack");this.Yk=a.getUniformLocation(b,"destStart");this.Xk=a.getUniformLocation(b,"destEnd");this.Bv=a.getUniformLocation(b,"seconds");this.Av=a.getUniformLocation(b,"pixelWidth");this.zv=a.getUniformLocation(b,"pixelHeight");this.xo=a.getUniformLocation(b,"layerScale");this.wo=a.getUniformLocation(b,"layerAngle");this.Ao=a.getUniformLocation(b,"viewOrigin");this.zo=a.getUniformLocation(b,
"scrollPos");this.GG=!!(this.Av||this.zv||this.Bv||this.yo||this.Yk||this.Xk||this.xo||this.wo||this.Ao||this.zo);this.Tz=this.Uz=-999;this.Gr=1;this.Pz=this.Oz=0;this.Rz=this.Nz=this.Mz=1;this.Wz=this.Vz=this.Yz=this.Xz=this.Qz=0;this.kv=[];this.Sz=ic();this.um&&a.uniform1f(this.um,1);this.Kz&&a.uniform1i(this.Kz,0);this.yo&&a.uniform1i(this.yo,1);this.Yk&&a.uniform2f(this.Yk,0,0);this.Xk&&a.uniform2f(this.Xk,1,1);this.xo&&a.uniform1f(this.xo,1);this.wo&&a.uniform1f(this.wo,0);this.Ao&&a.uniform2f(this.Ao,
0,0);this.zo&&a.uniform2f(this.zo,0,0);this.Gk=!1}function b(a,b){this.type=a;this.fa=b;this.ea=b.ea;this.hh=this.gg=this.wA=0;this.Hb=this.Mg=null;this.eB=[]}a.prototype.lz=function(){var a=this.ea,b;this.Ez=1;this.Rk=this.Cj=null;this.vq=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.Fz=a.ONE;this.Cz=a.ONE_MINUS_SRC_ALPHA;this.lw=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.lw);
this.up=Array(4);this.mp=Array(4);for(b=0;4>b;b++)this.up[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.up[b]),this.mp[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.mp[b]);this.$h=0;this.JG=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.JG);this.ax=new Float32Array(16E3);this.Nw=new Float32Array(16E3);this.RH=new Float32Array(32E3);for(var c=new Uint16Array(12E3),d=b=0;12E3>b;)c[b++]=d,c[b++]=d+1,c[b++]=d+2,c[b++]=d,c[b++]=d+2,c[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,
c,a.STATIC_DRAW);this.mw=this.Lh=0;this.ud=[];b=this.eu({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.ud.push(b);b=this.eu({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.ud.push(b);for(var e in mc)mc.hasOwnProperty(e)&&this.ud.push(this.eu(mc[e],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.gj=[];this.Wh=0;this.Ue=!1;this.Jy=this.qo=-1;this.Ln=null;this.VF=a.createFramebuffer();this.WA=null;this.Zj=hc([0,0,0]);this.iA=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.iA&&
(this.iA=2048);this.Fh(0)};c.prototype.Uw=function(a){var b=this.Sz;if(b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]||b[3]!==a[3]||b[4]!==a[4]||b[5]!==a[5]||b[6]!==a[6]||b[7]!==a[7]||b[8]!==a[8]||b[9]!==a[9]||b[10]!==a[10]||b[11]!==a[11]||b[12]!==a[12]||b[13]!==a[13]||b[14]!==a[14]||b[15]!==a[15])jc(a,this.Sz),this.ea.uniformMatrix4fv(this.Dr,!1,a)};a.prototype.eu=function(a,b,d){var e=this.ea,h=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(h,a.src);e.compileShader(h);if(!e.getShaderParameter(h,e.COMPILE_STATUS))return e.deleteShader(h),
null;var n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,b);e.compileShader(n);if(!e.getShaderParameter(n,e.COMPILE_STATUS))return e.deleteShader(h),e.deleteShader(n),null;b=e.createProgram();e.attachShader(b,h);e.attachShader(b,n);e.linkProgram(b);if(!e.getProgramParameter(b,e.LINK_STATUS))return e.deleteShader(h),e.deleteShader(n),e.deleteProgram(b),null;e.useProgram(b);e.deleteShader(h);e.deleteShader(n);d=new c(e,b,d);d.ou=a.ou||0;d.pu=a.pu||0;d.Hy=!!a.Hy;d.jy=!!a.jy;d.Ta=a.Ta||[];a=0;for(h=
d.Ta.length;a<h;a++)d.Ta[a][1]=e.getUniformLocation(b,d.Ta[a][0]),d.kv.push(0),e.uniform1f(d.Ta[a][1],0);return d};a.prototype.Hu=function(a){var b,c;b=0;for(c=this.ud.length;b<c;b++)if(this.ud[b].name===a)return b;return-1};a.prototype.NA=function(a,b,c){var d=this.Xf,e=this.Wv,n=[0,0,0,0,0,0,0,0];n[0]=d[0]*a+d[4]*b+d[12];n[1]=d[1]*a+d[5]*b+d[13];n[2]=d[2]*a+d[6]*b+d[14];n[3]=d[3]*a+d[7]*b+d[15];n[4]=e[0]*n[0]+e[4]*n[1]+e[8]*n[2]+e[12]*n[3];n[5]=e[1]*n[0]+e[5]*n[1]+e[9]*n[2]+e[13]*n[3];n[6]=e[2]*
n[0]+e[6]*n[1]+e[10]*n[2]+e[14]*n[3];n[7]=-n[2];0!==n[7]&&(n[7]=1/n[7],n[4]*=n[7],n[5]*=n[7],n[6]*=n[7],c[0]=(.5*n[4]+.5)*this.width,c[1]=(.5*n[5]+.5)*this.height)};a.prototype.Pm=function(a,b,c){if(this.width!==a||this.height!==b||c){this.pj();this.width=a;this.height=b;this.ea.viewport(0,0,a,b);b=a/b;var d=this.Wv,e;e=1*Math.tan(45*Math.PI/360);b*=e;a=-b;c=-e;d||(d=ic());var n=b-a,l=e-c;d[0]=2/n;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/l;d[6]=0;d[7]=0;d[8]=(b+a)/n;d[9]=(e+c)/l;d[10]=-1001/999;d[11]=-1;
d[12]=0;d[13]=0;d[14]=-2E3/999;d[15]=0;lc(this.yy,this.Lz,this.zB,this.Xf);a=[0,0];b=[0,0];this.NA(0,0,a);this.NA(1,1,b);this.ix[0]=1/(b[0]-a[0]);this.ix[1]=-1/(b[1]-a[1]);a=0;for(b=this.ud.length;a<b;a++)c=this.ud[a],c.Gk=!1,c.Jz&&(this.ea.useProgram(c.hp),this.ea.uniformMatrix4fv(c.Jz,!1,this.Wv));this.ea.useProgram(this.ud[this.qo].hp);this.ea.bindTexture(this.ea.TEXTURE_2D,null);this.ea.activeTexture(this.ea.TEXTURE1);this.ea.bindTexture(this.ea.TEXTURE_2D,null);this.ea.activeTexture(this.ea.TEXTURE0);
this.Rk=this.Cj=null}};a.prototype.Ch=function(){lc(this.yy,this.Lz,this.zB,this.Xf);kc(this.Xf,this.ix)};a.prototype.translate=function(a,b){if(0!==a||0!==b){this.Zj[0]=a;this.Zj[1]=b;this.Zj[2]=0;var c=this.Xf,d=this.Zj,e=d[0],n=d[1],d=d[2];c[12]=c[0]*e+c[4]*n+c[8]*d+c[12];c[13]=c[1]*e+c[5]*n+c[9]*d+c[13];c[14]=c[2]*e+c[6]*n+c[10]*d+c[14];c[15]=c[3]*e+c[7]*n+c[11]*d+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.Zj[0]=a,this.Zj[1]=b,this.Zj[2]=1,kc(this.Xf,this.Zj)};a.prototype.yw=
function(a){if(0!==a){var b=this.Xf,c,d=Math.sin(a);a=Math.cos(a);var e=b[0],n=b[1],l=b[2],q=b[3],p=b[4],s=b[5],u=b[6],t=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=e*a+p*d;c[1]=n*a+s*d;c[2]=l*a+u*d;c[3]=q*a+t*d;c[4]=e*-d+p*a;c[5]=n*-d+s*a;c[6]=l*-d+u*a;c[7]=q*-d+t*a}};a.prototype.Kh=function(){for(var a=!1,b=0;16>b;b++)if(this.Dz[b]!==this.Xf[b]){a=!0;break}a&&(a=this.Ig(),a.type=5,a.Hb?jc(this.Xf,a.Hb):a.Hb=ic(this.Xf),jc(this.Xf,
this.Dz),this.Ue=!1)};b.prototype.fF=function(){this.ea.bindTexture(this.ea.TEXTURE_2D,this.Mg)};b.prototype.gF=function(){var a=this.ea;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Mg);a.activeTexture(a.TEXTURE0)};b.prototype.cF=function(){var a=this.wA,b=this.fa;b.vq=a;b=b.Ln;b.um&&b.Gr!==a&&(b.Gr=a,this.ea.uniform1f(b.um,a))};b.prototype.$E=function(){this.ea.drawElements(this.ea.TRIANGLES,this.hh,this.ea.UNSIGNED_SHORT,2*this.gg)};b.prototype.bF=function(){this.ea.blendFunc(this.gg,
this.hh)};b.prototype.hF=function(){var a,b,c,d=this.fa.ud,e=this.fa.Jy;a=0;for(b=d.length;a<b;a++)c=d[a],a===e&&c.Dr?(c.Uw(this.Hb),c.Gk=!0):c.Gk=!1;jc(this.Hb,this.fa.fu)};b.prototype.aF=function(){var a=this.ea,b=this.fa;this.Mg?(b.Rk===this.Mg&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.Rk=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.VF),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Mg,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,
a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};b.prototype.VE=function(){var a=this.ea;0===this.gg?(a.clearColor(this.Hb[0],this.Hb[1],this.Hb[2],this.Hb[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.Hb[0],this.Hb[1],this.Hb[2],this.Hb[3]),a.clearColor(0,0,0,0),a.clear(this.ea.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};b.prototype.ZE=function(){var a=this.ea,b=this.fa,c=b.ud[1];a.useProgram(c.hp);!c.Gk&&c.Dr&&(c.Uw(b.fu),c.Gk=!0);a.enableVertexAttribArray(c.Tf);
a.bindBuffer(a.ARRAY_BUFFER,b.lw);a.vertexAttribPointer(c.Tf,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.gg/4,this.hh);c=b.Ln;a.useProgram(c.hp);0<=c.Tf&&(a.enableVertexAttribArray(c.Tf),a.bindBuffer(a.ARRAY_BUFFER,b.up[b.$h]),a.vertexAttribPointer(c.Tf,2,a.FLOAT,!1,0,0));0<=c.Gj&&(a.enableVertexAttribArray(c.Gj),a.bindBuffer(a.ARRAY_BUFFER,b.mp[b.$h]),a.vertexAttribPointer(c.Gj,2,a.FLOAT,!1,0,0))};b.prototype.dF=function(){var a=this.ea,b=this.fa,c=b.ud[this.gg];b.Jy=this.gg;b.Ln=c;a.useProgram(c.hp);
!c.Gk&&c.Dr&&(c.Uw(b.fu),c.Gk=!0);c.um&&c.Gr!==b.vq&&(c.Gr=b.vq,a.uniform1f(c.um,b.vq));0<=c.Tf&&(a.enableVertexAttribArray(c.Tf),a.bindBuffer(a.ARRAY_BUFFER,b.up[b.$h]),a.vertexAttribPointer(c.Tf,2,a.FLOAT,!1,0,0));0<=c.Gj&&(a.enableVertexAttribArray(c.Gj),a.bindBuffer(a.ARRAY_BUFFER,b.mp[b.$h]),a.vertexAttribPointer(c.Gj,2,a.FLOAT,!1,0,0))};b.prototype.eF=function(){var a,b,c=this.fa.Ln,d=this.ea;a=this.Hb;c.yo&&this.fa.Rk!==this.Mg&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.Mg),
this.fa.Rk=this.Mg,d.activeTexture(d.TEXTURE0));var e=a[0];c.Av&&e!==c.Uz&&(c.Uz=e,d.uniform1f(c.Av,e));e=a[1];c.zv&&e!==c.Tz&&(c.Tz=e,d.uniform1f(c.zv,e));e=a[2];b=a[3];!c.Yk||e===c.Oz&&b===c.Pz||(c.Oz=e,c.Pz=b,d.uniform2f(c.Yk,e,b));e=a[4];b=a[5];!c.Xk||e===c.Mz&&b===c.Nz||(c.Mz=e,c.Nz=e,d.uniform2f(c.Xk,e,b));e=a[6];c.xo&&e!==c.Rz&&(c.Rz=e,d.uniform1f(c.xo,e));e=a[7];c.wo&&e!==c.Qz&&(c.Qz=e,d.uniform1f(c.wo,e));e=a[8];b=a[9];!c.Ao||e===c.Xz&&b===c.Yz||(c.Xz=e,c.Yz=b,d.uniform2f(c.Ao,e,b));e=a[10];
b=a[11];!c.zo||e===c.Vz&&b===c.Wz||(c.Vz=e,c.Wz=b,d.uniform2f(c.zo,e,b));c.Bv&&d.uniform1f(c.Bv,Xa()/1E3);if(c.Ta.length)for(a=0,b=c.Ta.length;a<b;a++)e=this.eB[a],e!==c.kv[a]&&(c.kv[a]=e,d.uniform1f(c.Ta[a][1],e))};a.prototype.Ig=function(){this.Wh===this.gj.length&&this.gj.push(new b(0,this));return this.gj[this.Wh++]};a.prototype.pj=function(){if(0!==this.Wh&&!this.ea.isContextLost()){var a=this.ea;0<this.mw&&(a.bindBuffer(a.ARRAY_BUFFER,this.lw),a.bufferData(a.ARRAY_BUFFER,this.RH.subarray(0,
this.mw),a.STREAM_DRAW),b&&0<=b.Tf&&"<point>"===b.name&&a.vertexAttribPointer(b.Tf,4,a.FLOAT,!1,0,0));if(0<this.Lh){var b=this.Ln;a.bindBuffer(a.ARRAY_BUFFER,this.up[this.$h]);a.bufferData(a.ARRAY_BUFFER,this.ax.subarray(0,this.Lh),a.STREAM_DRAW);b&&0<=b.Tf&&"<point>"!==b.name&&a.vertexAttribPointer(b.Tf,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.mp[this.$h]);a.bufferData(a.ARRAY_BUFFER,this.Nw.subarray(0,this.Lh),a.STREAM_DRAW);b&&0<=b.Gj&&"<point>"!==b.name&&a.vertexAttribPointer(b.Gj,2,
a.FLOAT,!1,0,0)}for(var c,a=0,b=this.Wh;a<b;a++)switch(c=this.gj[a],c.type){case 1:c.$E();break;case 2:c.fF();break;case 3:c.cF();break;case 4:c.bF();break;case 5:c.hF();break;case 6:c.aF();break;case 7:c.VE();break;case 8:c.ZE();break;case 9:c.dF();break;case 10:c.eF();break;case 11:c.gF()}this.mw=this.Lh=this.Wh=0;this.Ue=!1;this.$h++;4<=this.$h&&(this.$h=0)}};a.prototype.Tj=function(a){if(a!==this.Ez){var b=this.Ig();b.type=3;this.Ez=b.wA=a;this.Ue=!1}};a.prototype.He=function(a){if(a!==this.Cj){var b=
this.Ig();b.type=2;this.Cj=b.Mg=a;this.Ue=!1}};a.prototype.Sj=function(a,b){if(a!==this.Fz||b!==this.Cz){var c=this.Ig();c.type=4;c.gg=a;c.hh=b;this.Fz=a;this.Cz=b;this.Ue=!1}};a.prototype.$A=function(){this.Sj(this.ea.ONE,this.ea.ONE_MINUS_SRC_ALPHA)};a.prototype.es=function(a,b,c,d,e,n,l,q){15992<=this.Lh&&this.pj();var p=this.Lh,s=this.ax,u=this.Nw;if(this.Ue)this.gj[this.Wh-1].hh+=6;else{var t=this.Ig();t.type=1;t.gg=p/4*3;t.hh=6;this.Ue=!0}s[p]=a;u[p++]=0;s[p]=b;u[p++]=0;s[p]=c;u[p++]=1;s[p]=
d;u[p++]=0;s[p]=e;u[p++]=1;s[p]=n;u[p++]=1;s[p]=l;u[p++]=0;s[p]=q;u[p++]=1;this.Lh=p};a.prototype.Jg=function(a,b,c,d,e,n,l,q,p){15992<=this.Lh&&this.pj();var s=this.Lh,u=this.ax,t=this.Nw;if(this.Ue)this.gj[this.Wh-1].hh+=6;else{var z=this.Ig();z.type=1;z.gg=s/4*3;z.hh=6;this.Ue=!0}var z=p.left,A=p.top,H=p.right;p=p.bottom;u[s]=a;t[s++]=z;u[s]=b;t[s++]=A;u[s]=c;t[s++]=H;u[s]=d;t[s++]=A;u[s]=e;t[s++]=H;u[s]=n;t[s++]=p;u[s]=l;t[s++]=z;u[s]=q;t[s++]=p;this.Lh=s};a.prototype.Fh=function(a){if(this.qo!==
a){if(!this.ud[a]){if(0===this.qo)return;a=0}var b=this.Ig();b.type=9;this.qo=b.gg=a;this.Ue=!1}};a.prototype.Xo=function(a){a=this.ud[a];return!(!a.Yk&&!a.Xk)};a.prototype.ow=function(a){a=this.ud[a];return!!(a.Yk||a.Xk||a.Hy)};a.prototype.WH=function(a){a=this.ud[a];return 0!==a.ou||0!==a.pu};a.prototype.mG=function(a){return this.ud[a].ou};a.prototype.nG=function(a){return this.ud[a].pu};a.prototype.oG=function(a,b){return this.ud[a].Ta[b][2]};a.prototype.cs=function(a){return this.ud[a].jy};a.prototype.Om=
function(a,b,c,d,e,n,l,q,p,s,u,t,z,A){var H=this.ud[this.qo],y,C;if(H.GG||A.length){y=this.Ig();y.type=10;y.Hb?jc(this.Xf,y.Hb):y.Hb=ic();C=y.Hb;C[0]=b;C[1]=c;C[2]=d;C[3]=e;C[4]=n;C[5]=l;C[6]=q;C[7]=p;C[8]=s;C[9]=u;C[10]=t;C[11]=z;y.Mg=H.yo?a:null;if(A.length)for(c=y.eB,c.length=A.length,a=0,b=A.length;a<b;a++)c[a]=A[a];this.Ue=!1}};a.prototype.clear=function(a,b,c,d){var e=this.Ig();e.type=7;e.gg=0;e.Hb||(e.Hb=ic());e.Hb[0]=a;e.Hb[1]=b;e.Hb[2]=c;e.Hb[3]=d;this.Ue=!1};a.prototype.clearRect=function(a,
b,c,d){if(!(0>c||0>d)){var e=this.Ig();e.type=7;e.gg=1;e.Hb||(e.Hb=ic());e.Hb[0]=a;e.Hb[1]=b;e.Hb[2]=c;e.Hb[3]=d;this.Ue=!1}};a.prototype.VH=function(){this.pj();this.ea.flush()};var d=[],e={};a.prototype.ME=function(){d.length=0;e={}};a.prototype.qm=function(a,b,c,k){b=!!b;c=!!c;var h=a.src+","+b+","+c+(b?",undefined":""),n=null;if("undefined"!==typeof a.src&&e.hasOwnProperty(h))return n=e[h],n.dq++,n;this.pj();var l=this.ea,q=ma(a.width)&&ma(a.height),n=l.createTexture();l.bindTexture(l.TEXTURE_2D,
n);l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var p=l.RGBA,s=l.RGBA,u=l.UNSIGNED_BYTE;if(k&&!this.wj)switch(k){case 1:s=p=l.RGB;break;case 2:u=l.UNSIGNED_SHORT_4_4_4_4;break;case 3:u=l.UNSIGNED_SHORT_5_5_5_1;break;case 4:s=p=l.RGB,u=l.UNSIGNED_SHORT_5_6_5}if(!q&&b){k=document.createElement("canvas");k.width=na(a.width);k.height=na(a.height);var t=k.getContext("2d");t.webkitImageSmoothingEnabled=c;t.mozImageSmoothingEnabled=c;t.msImageSmoothingEnabled=c;t.imageSmoothingEnabled=c;t.drawImage(a,
0,0,a.width,a.height,0,0,k.width,k.height);l.texImage2D(l.TEXTURE_2D,0,p,s,u,k)}else l.texImage2D(l.TEXTURE_2D,0,p,s,u,a);b?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.REPEAT)):(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE));c?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.LINEAR),q&&this.Oy?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR_MIPMAP_LINEAR),
l.generateMipmap(l.TEXTURE_2D)):l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR)):(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST));l.bindTexture(l.TEXTURE_2D,null);this.Cj=null;n.Gn=a.width;n.Fn=a.height;n.dq=1;n.wy=h;d.push(n);return e[h]=n};a.prototype.Zh=function(a,b,c,e){this.pj();var h=this.ea;this.wj&&(e=!1);var n=h.createTexture();h.bindTexture(h.TEXTURE_2D,n);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,a,b,0,h.RGBA,
e?h.UNSIGNED_SHORT_4_4_4_4:h.UNSIGNED_BYTE,null);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,c?h.LINEAR:h.NEAREST);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,c?h.LINEAR:h.NEAREST);h.bindTexture(h.TEXTURE_2D,null);this.Cj=null;n.Gn=a;n.Fn=b;d.push(n);return n};a.prototype.GI=function(a,b,c){this.pj();var d=this.ea;this.wj&&(c=!1);d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}d.bindTexture(d.TEXTURE_2D,null);this.Cj=null};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.dq&&1<a.dq?a.dq--:(this.pj(),a===this.Cj&&(this.ea.bindTexture(this.ea.TEXTURE_2D,null),this.Cj=null),a===this.Rk&&(this.ea.activeTexture(this.ea.TEXTURE1),this.ea.bindTexture(this.ea.TEXTURE_2D,null),this.ea.activeTexture(this.ea.TEXTURE0),
this.Rk=null),Fa(d,a),"undefined"!==typeof a.wy&&delete e[a.wy],this.ea.deleteTexture(a)))};a.prototype.Eh=function(a){if(a!==this.WA){var b=this.Ig();b.type=6;this.WA=b.Mg=a;this.Ue=!1}};lb=a})();
(function(){function a(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function c(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function b(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.vj=(this.fo=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Rd=!!a.dc;this.rz="undefined"!==typeof window.AppMobi||this.Rd;this.Rf=!!window.c2cocoonjs;this.wg=!!window.c2ejecta;this.Rf&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.wg&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",
function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.Ca=this.Rd||this.Rf||this.wg;this.wj=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.wz=/tizen/i.test(navigator.userAgent);this.$q=/android/i.test(navigator.userAgent)&&!this.wz&&!this.wj;this.dv=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.wj;this.Az=/ipad/i.test(navigator.userAgent);this.hr=this.dv||this.Az||this.wg;this.WG=this.dv&&/os\s6/i.test(navigator.userAgent);this.eo=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.wj;this.qz=/amazonwebappplatform/i.test(navigator.userAgent);this.QG=/firefox/i.test(navigator.userAgent);this.vz=/safari/i.test(navigator.userAgent)&&!this.eo&&!this.wj;this.TG=/windows/i.test(navigator.userAgent);this.xj="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);
this.yz=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.UG=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.dm=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.cr=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.xz=this.yz||this.UG||this.cr;this.OG=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.br=this.$q&&!this.eo&&!this.fo&&!this.QG&&!this.qz&&
!this.Ca;this.devicePixelRatio=1;this.ih=this.vj||this.fo||this.rz||this.Rf||this.$q||this.hr||this.dm||this.cr||this.OG||this.wz||this.wg;this.ih||(this.ih=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.xj||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.xj=!0);this.PG="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=
a;this.ij=document.getElementById("c2canvasdiv");this.Kb=this.fa=this.ea=null;this.xu="";this.Jq=!1;this.tA=this.uA=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Rd&&(window.c2runtime=this);this.xj&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},require("nw.gui").App.clearCache());this.br&&"undefined"!==
typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.Xa=this.width;this.Wa=this.height;this.tq=this.width;this.sq=this.height;this.so=window.innerWidth;this.ro=window.innerHeight;this.XF=!1;this.jb=!0;this.io=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.ja=[];this.Sc=[];this.pm={};this.zg=[];this.nu={};this.ci=[];this.Xm=[];this.Ps=[];this.xE=[];this.yE=[];this.Bz=this.jB=null;this.wk={};this.Yu=
this.uj=!1;this.xg=0;this.$u=!1;this.tg=[];this.ni=this.oe=this.uo=this.ts="";this.kp=this.hB=!1;this.du=this.Bo=this.bi=this.Ra=0;this.Jh=1;this.le=new ab;this.Mh=new ab;this.or=0;this.jA=!0;this.Ur=this.Oq=this.Ak=this.gf=this.Tk=this.wu=0;this.sk=null;this.Bq=[];this.mu=[];this.Eq=-1;this.Cv=[[]];this.Sw=this.Er=0;this.ds(null);this.Ev=[];this.Fr=-1;this.nA=this.Ro=0;this.rv=!0;this.Qn=0;this.lp=[];this.Js=this.ks=-1;this.hm=!0;this.tm=0;this.ho=!1;this.pI=0;this.Jl=null;this.EG=!1;this.nv=0;this.nc=
this.Lu=this.rw=!1;this.rA=new ea;this.dw=new ea;this.sA=new ea;this.ls=[];this.Lg=new cb([]);this.Mw=new cb([]);this.Il=[];this.Zn={};this.Nl={};this.Hl={};this.Wm={};this.ry={};this.Iz=this.xr=this.Ye=this.sf=this.Hz=this.ur=this.jc=null;this.Um=this.cv=!1;this.yu=[null,null];this.Bk=0;this.Rn="";this.Oj={};this.Ds=this.rm=null;this.Tr=[];this.$H()}}function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function e(a,b,c,e){var l=indexedDB.open("_C2SaveStates");l.onupgradeneeded=
d;l.onerror=e;l.onsuccess=function(d){d=d.target.result;d.onerror=e;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=c}}function g(a,b,c){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=d;e.onerror=c;e.onsuccess=function(d){d=d.target.result;d.onerror=c;var e=d.transaction(["saves"]).objectStore("saves").get(a);e.onsuccess=function(){e.result?b(e.result.data):b(null)}}}function f(){ha("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():
-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function m(a){var b,c={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ea||a[b]&&"undefined"!==typeof a[b].Zg||(c[b]=a[b]);return c}b.prototype.$H=function(){var a=this,b;b=this.dm?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var c="data.js";if(this.yz||this.dm||this.cr)c="data.json";b.open("GET",c,!0);var d=!1;if(!this.Ca&&"response"in b&&"responseType"in b)try{b.responseType=
"json",d="json"===b.responseType}catch(e){d=!1}if(!d&&"responseType"in b)try{b.responseType="text"}catch(l){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(n){}this.dm?b.onreadystatechange=function(){4===b.readyState&&a.Br(JSON.parse(b.responseText))}:(b.onload=function(){if(d)a.Br(b.response);else if(a.wg){var c=b.responseText,c=c.substr(c.indexOf("{"));a.Br(JSON.parse(c))}else a.Br(JSON.parse(b.responseText))},b.onerror=function(a){ia("Error requesting "+
c+":");ia(a)});b.send()};b.prototype.KG=function(){var b=this,d,e,l,n,f,g,k,h,q;this.devicePixelRatio=(this.Mk=(!this.Ca||this.wg)&&this.DI&&!this.br)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Nd();e=!(!this.XF&&(!this.Pt||this.xj||this.xz||this.dm||this.fo||this.vj||this.qz));0<this.Se&&this.setSize(a(),c(),!0);try{this.uF&&(this.Rf||this.wg||!this.Ca)&&(d={alpha:e,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},
this.ea=this.canvas.getContext("webgl",d)||this.canvas.getContext("experimental-webgl",d))}catch(p){}if(this.ea){this.Ca||(this.Jd=document.createElement("canvas"),jQuery(this.Jd).appendTo(this.canvas.parentNode),this.Jd.oncontextmenu=function(){return!1},this.Jd.onselectstart=function(){return!1},this.Jd.width=this.tq,this.Jd.height=this.sq,jQuery(this.Jd).css({width:this.tq+"px",height:this.sq+"px"}),this.JA(),this.kw=this.Jd.getContext("2d"));this.fa=new lb(this.ea,this.ih);this.fa.Pm(this.canvas.width,
this.canvas.height);this.fa.Oy=0!==this.iF;this.Kb=null;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();b.GH();ha("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){b.fa.lz();b.fa.Pm(b.fa.width,b.fa.height,!0);b.sf=null;b.Ye=null;b.yu[0]=null;b.yu[1]=null;b.HH();b.jb=!0;ha("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);d=0;for(e=this.ja.length;d<e;d++)for(f=this.ja[d],
l=0,n=f.Na.length;l<n;l++)k=f.Na[l],k.Ld=this.fa.Hu(k.id),this.Um=this.Um||this.fa.Xo(k.Ld);d=0;for(e=this.zg.length;d<e;d++){h=this.zg[d];l=0;for(n=h.Na.length;l<n;l++)k=h.Na[l],k.Ld=this.fa.Hu(k.id);l=0;for(n=h.Za.length;l<n;l++)for(q=h.Za[l],f=0,g=q.Na.length;f<g;f++)k=q.Na[f],k.Ld=this.fa.Hu(k.id),this.Um=this.Um||this.fa.Xo(k.Ld)}}else{if(0<this.Se&&this.Rd){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Kb=AppMobi.canvas.getContext("2d");
try{this.Kb.samplingMode=this.qb?"smooth":"sharp",this.Kb.globalScale=1,this.Kb.HTML5CompatibilityMode=!0,this.Kb.imageSmoothingEnabled=this.qb}catch(m){}0!==this.width&&0!==this.height&&(this.Kb.width=this.width,this.Kb.height=this.height)}this.Kb||(d=this.Rf?{antialias:!!this.qb,alpha:e}:{alpha:e},this.Kb=this.canvas.getContext("2d",d),this.Kb.webkitImageSmoothingEnabled=this.qb,this.Kb.mozImageSmoothingEnabled=this.qb,this.Kb.msImageSmoothingEnabled=this.qb,this.Kb.imageSmoothingEnabled=this.qb);
this.kw=this.Jd=null}this.Is=function(){b.Pb(!1)};window==window.top||this.Ca||this.xz||this.dm||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Rf&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(ha("Reloading for continuous preview"),this.uo="__c2_continuouspreview",this.kp=!0),this.PH&&!this.ih&&
(jQuery(window).focus(function(){b.setSuspended(!1)}),jQuery(window).blur(function(){b.setSuspended(!0)})));this.Ca||(d=function(a){if(kb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",d):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",d):document.addEventListener("touchstart",d),
document.addEventListener("mousedown",d));0===this.Se&&this.Mk&&1<this.devicePixelRatio&&this.setSize(this.sd,this.rd,!0);this.vB();this.CG();this.go();this.da={}};b.prototype.setSize=function(a,b,c){var d=0,e=0,l=0,n=0,n=0,f=this.WG&&this.vz&&!navigator.standalone&&!this.Ca&&!this.vj;f&&(b+=60);if(this.so!==a||this.ro!==b||c){this.so=a;this.ro=b;var g=this.Se,k=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.ho)&&!this.vj;if(k||0!==
this.Se||c)k&&0<this.Bk&&(g=this.Bk),c=this.devicePixelRatio,4<=g?(l=this.sd/this.rd,a/b>l?(l*=b,5===g?(n=l*c/this.sd,1<n?n=Math.floor(n):1>n&&(n=1/Math.ceil(1/n)),l=this.sd*n/c,n=this.rd*n/c,d=(a-l)/2,e=(b-n)/2,a=l,b=n):(d=(a-l)/2,a=l)):(n=a/l,5===g?(n=n*c/this.rd,1<n?n=Math.floor(n):1>n&&(n=1/Math.ceil(1/n)),l=this.sd*n/c,n=this.rd*n/c,d=(a-l)/2,e=(b-n)/2,a=l):e=(b-n)/2,b=n),k&&!this.xj&&(e=d=0)):this.xj&&this.ho&&0===this.Vy&&(d=Math.floor((a-this.sd)/2),e=Math.floor((b-this.rd)/2),a=this.sd,b=
this.rd),2>g&&(this.Dn=c),this.Mk&&this.Az&&1<c&&(1024<=a&&(a=1023),1024<=b&&(b=1023)),this.tq=Math.round(a),this.sq=Math.round(b),this.width=Math.round(a*c),this.height=Math.round(b*c),this.jb=!0,this.LB?(this.Xa=this.width,this.Wa=this.height,this.Pf=!0):this.width<this.sd&&this.height<this.rd||1===g?(this.Xa=this.width,this.Wa=this.height,this.Pf=!0):(this.Xa=this.sd,this.Wa=this.rd,this.Pf=!1,2===g?(l=this.sd/this.rd,g=this.so/this.ro,g<l?this.Xa=this.Wa*g:g>l&&(this.Wa=this.Xa/g)):3===g&&(l=
this.sd/this.rd,g=this.so/this.ro,g>l?this.Xa=this.Wa*g:g<l&&(this.Wa=this.Xa/g))),this.ij&&!this.Ca&&(jQuery(this.ij).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(e)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*c),this.canvas.height=Math.round(b*c),this.wg?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=
Math.floor(e)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.Mk&&!this.Ca&&jQuery(this.canvas).css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.Jd&&(this.Jd.width=Math.round(a),this.Jd.height=Math.round(b),jQuery(this.Jd).css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.fa&&this.fa.Pm(Math.round(a*c),Math.round(b*c)),this.Rd&&this.Kb&&(this.Kb.width=Math.round(a),this.Kb.height=Math.round(b)),this.Kb&&(this.Kb.webkitImageSmoothingEnabled=
this.qb,this.Kb.mozImageSmoothingEnabled=this.qb,this.Kb.msImageSmoothingEnabled=this.qb,this.Kb.imageSmoothingEnabled=this.qb),this.vB(),this.Ca||!f&&!this.dv||window.setTimeout(function(){window.scrollTo(0,1)},100)}};b.prototype.vB=function(){if(this.BE&&0!==this.iw){var a="portrait";2===this.iw&&(a="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?
screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}};b.prototype.GH=function(){this.fa.ME();this.cv=!0;var a,b,c;a=0;for(b=this.ja.length;a<b;a++)c=this.ja[a],c.To&&c.To()};b.prototype.HH=function(){this.cv=!1;var a,b,c;a=0;for(b=this.ja.length;a<b;a++)c=this.ja[a],c.Vr&&c.Vr()};b.prototype.JA=function(){if(!this.Ca){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.ho)&&!this.vj?jQuery(this.canvas).offset():
jQuery(this.canvas).position();a.position="absolute";jQuery(this.Jd).css(a)}};var k=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;b.prototype.setSuspended=function(a){var b;if(a&&!this.io)for(ha("[Construct 2] Suspending"),this.io=!0,-1!==this.ks&&k&&k(this.ks),-1!==this.Js&&clearTimeout(this.Js),a=0,b=this.lp.length;a<b;a++)this.lp[a](!0);else if(!a&&this.io){ha("[Construct 2] Resuming");
this.io=!1;this.or=Xa();this.Tk=Xa();a=this.Bo=this.Oq=0;for(b=this.lp.length;a<b;a++)this.lp[a](!1);this.Pb(!1)}};b.prototype.ey=function(a){this.lp.push(a)};b.prototype.Zi=function(a){return this.Tr[a]};b.prototype.Br=function(a){a&&a.project||ia("Project model unavailable");a=a.project;this.name=a[0];this.Uy=a[1];this.Se=a[12];this.Vy=a[12];this.sd=a[10];this.rd=a[11];this.DA=this.sd/2;this.EA=this.rd/2;this.Ca&&!this.wg&&(4<=a[12]||0===a[12])&&(ha("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.Vy=this.Se=3);this.Zw=a[18];this.vo=a[19];0===this.vo&&(this.rm=new Image,this.rm.src="loading-logo.png");this.Ro=a[21];this.Tr=nc();this.Gh=new w(this);var b,c,d,e,l,n,f,g,k;b=0;for(c=a[2].length;b<c;b++)f=a[2][b],d=this.Zi(f[0]),mb(f,d.prototype),k=new d(this),k.Cs=f[1],k.yj=f[2],k.lA=f[9],k.ma&&k.ma(),this.plugins.push(k);this.Tr=nc();b=0;for(c=a[3].length;b<c;b++){f=a[3][b];l=this.Zi(f[1]);k=null;d=0;for(e=this.plugins.length;d<e;d++)if(this.plugins[d]instanceof l){k=this.plugins[d];break}var h=
new k.Fa(k);h.name=f[0];h.xa=f[2];h.Xu=f[3].slice(0);h.FI=f[3].length;h.FE=f[4];h.ZF=f[5];h.lb=f[11];h.xa?(h.Fm=[],h.di=this.Qn++,h.mc=null):(h.Fm=null,h.di=-1,h.mc=[]);h.Gq=null;h.Ul=null;h.Qy=null;h.Ve=!1;h.Qe=null;f[6]?(h.Gs=f[6][0],h.Ow=f[6][1],h.np=f[6][2]):(h.Gs=null,h.Ow=0,h.np=0);h.Ne=f[7]?f[7]:null;h.index=b;h.C=[];h.yq=[];h.Wj=[new nb(h)];h.ai=0;h.Mf=null;h.SE=0;h.Sm=!0;h.Rs=ob;h.eG=pb;h.kG=qb;h.Ya=rb;h.Zo=sb;h.Mm=tb;h.Fi=ub;h.Sq=vb;h.Au=wb;h.Eu=xb;h.sg=yb;h.Zy=zb;h.lq=new db(this.sd,this.rd);
h.Tp=!0;h.Up=!1;h.da={};h.toString=Ab;h.Sc=[];d=0;for(e=f[8].length;d<e;d++){g=f[8][d];var q=this.Zi(g[1]),p=null;l=0;for(n=this.Sc.length;l<n;l++)if(this.Sc[l]instanceof q){p=this.Sc[l];break}p||(p=new q(this),p.Sr=[],p.Rr=new ea,p.ma&&p.ma(),this.Sc.push(p),oc&&p instanceof oc&&(this.jB=p),fc.YG&&p instanceof fc.YG&&(this.Bz=p));-1===p.Sr.indexOf(h)&&p.Sr.push(h);l=new p.Fa(p,h);l.name=g[0];l.lb=g[2];l.ma();h.Sc.push(l)}h.global=f[9];h.Zu=f[10];h.Na=[];d=0;for(e=f[12].length;d<e;d++)h.Na.push({id:f[12][d][0],
name:f[12][d][1],Ld:-1,Bc:!0,index:d});h.ZJ=f[13];this.Zw&&!h.xa&&!h.Zu&&k.yj||h.ma();h.name&&(this.types[h.name]=h);this.ja.push(h);k.Cs&&(d=new k.za(h),d.uid=this.Ro++,d.PA=this.nA++,d.Ik=0,d.Wn=Bb,d.toString=Cb,d.M=f[14],d.ma(),h.C.push(d),this.Oj[d.uid.toString()]=d)}b=0;for(c=a[4].length;b<c;b++)for(l=a[4][b],n=this.ja[l[0]],d=1,e=l.length;d<e;d++)f=this.ja[l[d]],f.mc.push(n),n.Fm.push(f);b=0;for(c=a[27].length;b<c;b++){l=a[27][b];n=[];d=0;for(e=l.length;d<e;d++)n.push(this.ja[l[d]]);d=0;for(e=
n.length;d<e;d++)n[d].Ve=!0,n[d].Qe=n}if(0<this.Qn)for(b=0,c=this.ja.length;b<c;b++)if(f=this.ja[b],!f.xa&&f.mc.length){f.Gq=Array(this.Qn);f.Ul=Array(this.Qn);f.Qy=Array(this.Qn);h=[];d=p=q=g=0;for(e=f.mc.length;d<e;d++)for(k=f.mc[d],f.Gq[k.di]=g,g+=k.FI,f.Ul[k.di]=q,q+=k.FE,f.Qy[k.di]=p,p+=k.ZF,l=0,n=k.Na.length;l<n;l++)h.push(ya({},k.Na[l]));f.Na=h.concat(f.Na);d=0;for(e=f.Na.length;d<e;d++)f.Na[d].index=d}b=0;for(c=a[5].length;b<c;b++)f=a[5][b],d=new Db(this,f),this.pm[d.name]=d,this.zg.push(d);
b=0;for(c=a[6].length;b<c;b++)f=a[6][b],d=new Eb(this,f),this.nu[d.name]=d,this.ci.push(d);b=0;for(c=this.ci.length;b<c;b++)this.ci[b].Lc();b=0;for(c=this.ci.length;b<c;b++)this.ci[b].CB();b=0;for(c=this.Ps.length;b<c;b++)this.Ps[b].Lc();this.Ps.length=0;this.AE=a[7];this.Rn=a[8];this.bg=a[9];this.Dn=1;this.uF=a[13];this.qb=a[14];this.Pt=a[15];this.DI=a[17];this.iw=a[20];this.BE=0<this.iw;this.PH=a[22];this.Pf=this.LB=a[23];this.iF=a[24];this.TH=a[25];this.Es=Date.now();this.Tr.length=0;this.KG()};
var h=!1;b.prototype.cx=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){h=a.uy=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",b)};this.wg?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){h=a.uy=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",c)}):a.src=b);this.Xm.push(a)};b.prototype.WF=function(a){var b,c;b=0;for(c=this.Xm.length;b<c;b++)if(this.Xm[b].NE===a)return this.Xm[b];
return null};var n=0,l=!1;b.prototype.CG=function(){this.Jl&&(n=this.Jl.mI(this.AE))};b.prototype.ky=function(){var a=n,b=0,c=0,d=!0,e,f,c=0;for(e=this.Xm.length;c<e;c++){f=this.Xm[c];var h=f.Fy;if(!h||0>=h)h=5E4;a+=h;f.src&&(f.complete||f.loaded)&&!f.uy?b+=h:d=!1}d&&this.TH&&this.Jl&&(l||(this.Jl.qI(),l=!0),c=this.Jl.lG(),b+=c,c<n&&(d=!1));this.nl=0==a?0:b/a;return d};b.prototype.go=function(){if(this.Kb||this.fa){var a=this.Kb||this.kw;this.Jd&&this.JA();this.nl=0;this.Gz=-1;if(this.ky())this.DG();
else{var b=Date.now()-this.Es;if(a){var c=this.width,d=this.height,e=this.devicePixelRatio;this.Jd&&(c=this.tq,d=this.sq,e=1);if(3!==this.vo&&(this.Rf||500<=b&&this.Gz!=this.nl)){a.clearRect(0,0,c,d);var b=c/2,d=d/2,c=0===this.vo&&this.rm.complete,l=40*e,n=0,f=80*e,g;c&&(f=this.rm.width*e,g=this.rm.height*e,l=f/2,n=g/2,a.drawImage(this.rm,ta(b-l),ta(d-n),f,g));1>=this.vo?(b=ta(b-l)+.5,d=ta(d+(n+(c?12*e:0)))+.5,a.fillStyle=h?"red":"DodgerBlue",a.fillRect(b,d,Math.floor(f*this.nl),6*e),a.strokeStyle=
"black",a.strokeRect(b,d,f,6*e),a.strokeStyle="white",a.strokeRect(b-1*e,d-1*e,f+2*e,8*e)):2===this.vo&&(a.font=this.wg?"12pt ArialMT":"12pt Arial",a.fillStyle=h?"#f00":"#999",a.YJ="middle",e=Math.round(100*this.nl)+"%",c=a.measureText?a.measureText(e):null,a.fillText(e,b-(c?c.width:0)/2,d))}this.Gz=this.nl}setTimeout(function(a){return function(){a.go()}}(this),this.Rf?10:100)}}};b.prototype.DG=function(){this.Jd&&(this.canvas.parentNode.removeChild(this.Jd),this.Jd=this.kw=null);this.Es=Date.now();
this.Tk=Xa();var a,b,c;if(this.Zw)for(a=0,b=this.ja.length;a<b;a++)c=this.ja[a],c.xa||c.Zu||!c.Ib.yj||c.ma();else this.hm=!1;a=0;for(b=this.zg.length;a<b;a++)this.zg[a].OE();2<=this.Se&&(a=this.sd/this.rd,b=this.width/this.height,this.Dn=2!==this.Se&&b>a||2===this.Se&&b<a?this.height/this.rd:this.width/this.sd);this.Uy?this.pm[this.Uy].Lw():this.zg[0].Lw();this.Zw||(this.tm=1,this.trigger(w.prototype.K.Jx,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=
0;for(b=this.ja.length;a<b;a++)c=this.ja[a],c.FH&&c.FH();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Pb(!1);this.Rd&&AppMobi.webview.execute("onGameReady();")};var q=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;b.prototype.Pb=function(b){if(this.jc){var d=Xa();if(this.EG&&this.rw&&29>d-this.nv)this.rw=!1,this.nv=d,q?this.ks=
q(this.Is,this.canvas):this.Js=setTimeout(this.Is,this.ih?1:16);else{this.rw=!0;this.nv=d;var e=this.Se,l=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.vj;(l||this.ho)&&0<this.Bk&&(e=this.Bk);0<e&&(!this.hr||window.self!==window.top)&&(e=window.innerHeight,this.so===window.innerWidth&&this.ro===e||this.setSize(a(),c()));this.Ca||(l?(this.Jq||(this.xu=jQuery(this.canvas).css("margin")||"0",this.Jq=!0),this.eo||this.xj||jQuery(this.canvas).css({"margin-left":""+
Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Jq?(this.eo||this.xj||jQuery(this.canvas).css("margin",this.xu),this.xu="",this.Jq=!1,0===this.Se&&this.setSize(Math.round(this.uA/this.devicePixelRatio),Math.round(this.tA/this.devicePixelRatio),!0)):(this.uA=this.width,this.tA=this.height));this.hm&&(l=this.ky(),this.tm=this.nl,l&&(this.hm=!1,this.nl=1,this.trigger(w.prototype.K.Jx,null)));
this.aH();!this.jb&&!this.Rf||this.cv||this.kp||b||(this.jb=!1,this.fa?this.ge():this.Re(),this.Ds&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.Ds[0],this.Ds[1]),this.trigger(w.prototype.K.XC,null)),this.Ds=null));this.RJ||(this.gf++,this.Ak++,this.Oq++);this.Bo+=Xa()-d;this.io||b||(q?this.ks=q(this.Is,this.canvas):this.Js=setTimeout(this.Is,this.ih?1:16))}}};b.prototype.aH=function(){var a,b,c,d,e,l,n,f,h;a=Xa();1E3<=a-this.Tk&&(this.Tk+=1E3,1E3<=a-this.Tk&&(this.Tk=a),this.wu=
this.Oq,this.Oq=0,this.du=this.Bo,this.Bo=0);this.jA&&(0!==this.or&&(b=a-this.or,0!==b||this.PG?(this.bi=b/1E3,.5<this.bi?this.bi=0:.1<this.bi&&(this.bi=.1)):(10<=this.aK&&(this.jA=!1),this.bi=1/60)),this.or=a);this.Ra=this.bi*this.Jh;this.le.add(this.Ra);this.Mh.add(this.bi);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.ho)&&!this.vj;2<=this.Se||a&&0<this.Bk?(b=this.sd/this.rd,c=this.width/this.height,d=this.Se,a&&0<this.Bk&&(d=
this.Bk),this.Dn=2!==d&&c>b||2===d&&c<b?this.height/this.rd:this.width/this.sd,this.jc&&(this.jc.Cw(this.jc.scrollX),this.jc.Dw(this.jc.scrollY))):this.Dn=this.Mk?this.devicePixelRatio:1;this.Nd();this.xg++;this.Gh.cI();this.xg--;this.Nd();this.xg++;c=this.rA.Pg();a=0;for(b=c.length;a<b;a++)c[a].TJ();a=0;for(b=this.ja.length;a<b;a++)if(n=this.ja[a],!n.xa&&(n.Sc.length||n.mc.length))for(c=0,d=n.C.length;c<d;c++)for(f=n.C[c],e=0,l=f.Qa.length;e<l;e++)f.Qa[e].Pb();a=0;for(b=this.ja.length;a<b;a++)if(n=
this.ja[a],!n.xa&&(n.Sc.length||n.mc.length))for(c=0,d=n.C.length;c<d;c++)for(f=n.C[c],e=0,l=f.Qa.length;e<l;e++)h=f.Qa[e],h.LA&&h.LA();c=this.dw.Pg();a=0;for(b=c.length;a<b;a++)c[a].Pb();this.xg--;this.FG();for(a=0;this.sk&&10>a++;)this.My(this.sk);a=0;for(b=this.ci.length;a<b;a++)this.ci[a].Ou=!1;this.jc.Nn&&this.jc.Nn.ed();this.ls.length=0;this.rv=!1;this.xg++;a=0;for(b=this.ja.length;a<b;a++)if(n=this.ja[a],!n.xa&&(n.Sc.length||n.mc.length))for(c=0,d=n.C.length;c<d;c++)for(f=n.C[c],e=0,l=f.Qa.length;e<
l;e++)h=f.Qa[e],h.Pw&&h.Pw();c=this.sA.Pg();a=0;for(b=c.length;a<b;a++)c[a].Pw();this.xg--};b.prototype.My=function(a){var b=this.jc;this.jc.sI();var c,d,e,l,n,f,h;if(this.fa)for(c=0,d=this.ja.length;c<d;c++)n=this.ja[c],n.xa||!n.Qs||n.global&&0!==n.C.length||-1!==a.bo.indexOf(n)||n.Qs();b==a&&(this.Gh.Je.length=0);a.Lw();c=0;for(d=this.ja.length;c<d;c++)if(n=this.ja[c],n.global||n.Ib.Cs)for(a=0,b=n.C.length;a<b;a++)if(f=n.C[a],f.hw&&f.hw(),f.Qa)for(e=0,l=f.Qa.length;e<l;e++)h=f.Qa[e],h.hw&&h.hw();
this.rv=this.jb=!0;this.Nd()};b.prototype.rl=function(a){this.dw.add(a)};b.prototype.sj=function(a){return a&&-1!==a.Qo?this.bi*a.Qo:this.Ra};b.prototype.Re=function(){this.jc.Re(this.Kb);this.Rd&&this.Kb.present()};b.prototype.ge=function(){this.jc.ge(this.fa);this.fa.VH()};b.prototype.Sp=function(a){a&&this.Bq.push(a)};b.prototype.VA=function(a){Fa(this.Bq,a)};b.prototype.fi=function(a){a=a.toString();return this.Oj.hasOwnProperty(a)?this.Oj[a]:null};var p=[];b.prototype.Qh=function(a){var b,c;
b=a.type.name;var d=null;if(this.wk.hasOwnProperty(b)){if(d=this.wk[b],d.contains(a))return}else d=p.length?p.pop():new ea,this.wk[b]=d;d.add(a);this.uj=!0;if(a.Ve)for(b=0,c=a.siblings.length;b<c;b++)this.Qh(a.siblings[b]);this.Yu&&d.Vm.push(a);this.xg++;this.trigger(Object.getPrototypeOf(a.type.Ib).K.ZC,a);this.xg--};b.prototype.Nd=function(){if(this.uj){var a,b,c,d,e,l;this.Yu=!0;c=0;for(e=this.tg.length;c<e;++c)for(a=this.tg[c],b=a.type,b.C.push(a),d=0,l=b.mc.length;d<l;++d)b.mc[d].C.push(a),b.mc[d].Sm=
!0;this.tg.length=0;this.JC();Wa(this.wk);this.uj=this.Yu=!1}};b.prototype.JC=function(){for(var a in this.wk)this.wk.hasOwnProperty(a)&&this.XB(this.wk[a])};b.prototype.XB=function(a){var b=a.Pg(),c=b[0].type,d,e,l,n,f,h;Ya(c.C,a);c.Sm=!0;0===c.C.length&&(c.Up=!1);d=0;for(e=c.mc.length;d<e;++d)h=c.mc[d],Ya(h.C,a),h.Sm=!0;d=0;for(e=this.Gh.Je.length;d<e;++d)if(f=this.Gh.Je[d],f.xe.hasOwnProperty(c.index)&&Ya(f.xe[c.index].hi,a),!c.xa)for(l=0,n=c.mc.length;l<n;++l)h=c.mc[l],f.xe.hasOwnProperty(h.index)&&
Ya(f.xe[h.index].hi,a);if(f=b[0].L){if(f.Ng)for(l=f.C,d=0,e=l.length;d<e;++d)n=l[d],a.contains(n)&&(n.ib(),f.ef.update(n,n.Fe,null),n.Fe.set(0,0,-1,-1));Ya(f.C,a);f.ep(0)}for(d=0;d<b.length;++d)this.WB(b[d],c);a.clear();p.push(a);this.jb=!0};b.prototype.WB=function(a,b){var c,d,e;c=0;for(d=this.Bq.length;c<d;++c)this.Bq[c](a);a.mj&&b.lq.update(a,a.mj,null);(c=a.L)&&c.Nm(a,!0);if(a.Qa)for(c=0,d=a.Qa.length;c<d;++c)e=a.Qa[c],e.Fg&&e.Fg(),e.behavior.Rr.remove(a);this.rA.remove(a);this.dw.remove(a);this.sA.remove(a);
a.Fg&&a.Fg();this.Oj.hasOwnProperty(a.uid.toString())&&delete this.Oj[a.uid.toString()];this.Ur--;100>b.yq.length&&b.yq.push(a)};b.prototype.Gy=function(a,b,c,d){if(a.xa){var e=ta(Math.random()*a.Fm.length);return this.Gy(a.Fm[e],b,c,d)}return a.Mf?this.nj(a.Mf,b,!1,c,d,!1):null};var s=[];b.prototype.nj=function(a,b,c,d,e,l){var n,f,h,g;if(!a)return null;var k=this.ja[a[1]],q=k.Ib.yj;if(this.hm&&q&&!k.Zu||q&&!this.fa&&11===a[0][11])return null;var p=b;q||(b=null);var m;k.yq.length?(m=k.yq.pop(),m.we=
!0,k.Ib.za.call(m,k)):(m=new k.Ib.za(k),m.we=!1);m.uid=c&&!l?a[2]:this.Ro++;this.Oj[m.uid.toString()]=m;m.PA=this.nA++;m.Ik=k.C.length;n=0;for(f=this.tg.length;n<f;++n)this.tg[n].type===k&&m.Ik++;m.Wn=Bb;m.toString=Cb;h=a[3];if(m.we)Wa(m.da);else{m.da={};if("undefined"!==typeof cr_is_preview)for(m.oz=[],m.oz.length=h.length,n=0,f=h.length;n<f;n++)m.oz[n]=h[n][1];m.qd=[];m.qd.length=h.length}n=0;for(f=h.length;n<f;n++)m.qd[n]=h[n][0];if(q){var t=a[0];m.x=ja(d)?t[0]:d;m.y=ja(e)?t[1]:e;m.z=t[2];m.width=
t[3];m.height=t[4];m.depth=t[5];m.N=t[6];m.opacity=t[7];m.je=t[8];m.ke=t[9];m.ze=t[10];n=t[11];!this.fa&&k.Na.length&&(m.ze=n);m.In=gb(m.ze);this.ea&&hb(m,m.ze,this.ea);if(m.we){n=0;for(f=t[12].length;n<f;n++)for(h=0,g=t[12][n].length;h<g;h++)m.qc[n][h]=t[12][n][h];m.ac.set(0,0,0,0);m.mj.set(0,0,-1,-1);m.Fe.set(0,0,-1,-1);m.Jb.fp(m.ac);m.Tt.length=0}else{m.qc=t[12].slice(0);n=0;for(f=m.qc.length;n<f;n++)m.qc[n]=t[12][n].slice(0);m.xb=[];m.cj=[];m.cj.length=k.Na.length;m.ac=new wa(0,0,0,0);m.mj=new wa(0,
0,-1,-1);m.Fe=new wa(0,0,-1,-1);m.Jb=new xa;m.Tt=[];m.ba=Fb;m.JJ=Gb;m.fe=Hb;m.ib=Mb;m.CI=Nb;m.GB=Ob;m.gh=Pb}m.Pi=!1;m.xI=0;m.wI=0;m.vI=null;14===t.length&&(m.Pi=!0,m.xI=t[13][0],m.wI=t[13][1],m.vI=t[13][2]);n=0;for(f=k.Na.length;n<f;n++)m.cj[n]=!0;m.Si=Qb;m.Si();m.IB=!!m.xb.length;m.St=!0;m.Ut=!0;k.Tp=!0;m.visible=!0;m.Qo=-1;m.L=b;m.Qg=b.C.length;"undefined"===typeof m.cb&&(m.cb=null);this.jb=m.Yh=!0}var z;n=s.length=0;for(f=k.mc.length;n<f;n++)s.push.apply(s,k.mc[n].Sc);s.push.apply(s,k.Sc);if(m.we)for(n=
0,f=s.length;n<f;n++){var u=s[n];z=m.Qa[n];z.we=!0;u.behavior.za.call(z,u,m);t=a[4][n];h=0;for(g=t.length;h<g;h++)z.M[h]=t[h];z.ma();u.behavior.Rr.add(m)}else for(m.Qa=[],n=0,f=s.length;n<f;n++)u=s[n],z=new u.behavior.za(u,m),z.we=!1,z.M=a[4][n].slice(0),z.ma(),m.Qa.push(z),u.behavior.Rr.add(m);t=a[5];if(m.we)for(n=0,f=t.length;n<f;n++)m.M[n]=t[n];else m.M=t.slice(0);this.tg.push(m);this.uj=!0;b&&(b.Cn(m,!0),1!==b.$f||1!==b.ag)&&(k.Up=!0);this.Ur++;if(k.Ve){if(m.Ve=!0,m.we?m.siblings.length=0:m.siblings=
[],!c&&!l){n=0;for(f=k.Qe.length;n<f;n++)if(k.Qe[n]!==k){if(!k.Qe[n].Mf)return null;m.siblings.push(this.nj(k.Qe[n].Mf,p,!1,q?m.x:d,q?m.y:e,!0))}n=0;for(f=m.siblings.length;n<f;n++)for(m.siblings[n].siblings.push(m),h=0;h<f;h++)n!==h&&m.siblings[n].siblings.push(m.siblings[h])}}else m.Ve=!1,m.siblings=null;m.ma();n=0;for(f=m.Qa.length;n<f;n++)m.Qa[n].KA&&m.Qa[n].KA();return m};b.prototype.Fu=function(a){var b,c;b=0;for(c=this.jc.Za.length;b<c;b++){var d=this.jc.Za[b];if(jb(d.name,a))return d}return null};
b.prototype.Un=function(a){a=ta(a);0>a&&(a=0);a>=this.jc.Za.length&&(a=this.jc.Za.length-1);return this.jc.Za[a]};b.prototype.Yt=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Ya().kb=!0};b.prototype.Zo=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Zo()};b.prototype.Mm=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Mm()};b.prototype.Fi=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Fi()};b.prototype.AB=function(a){if(a.Tp){var b,c,d=a.C;b=0;for(c=d.length;b<c;++b)d[b].GB();d=
this.tg;b=0;for(c=d.length;b<c;++b)d[b].type===a&&d[b].GB();a.Tp=!1}};b.prototype.Cu=function(a,b,c,d){var e,l,n=a?1!==a.$f||1!==a.ag:!1;if(b.xa)for(a=0,e=b.Fm.length;a<e;++a)l=b.Fm[a],n||l.Up?Ba(d,l.C):(this.AB(l),l.lq.gs(c,d));else n||b.Up?Ba(d,b.C):(this.AB(b),b.lq.gs(c,d))};b.prototype.dz=function(a,b,c,d){var e,l;e=0;for(l=b.length;e<l;++e)this.Cu(a,b[e],c,d)};b.prototype.pG=function(a,b,c){var d=this.jB;d&&this.dz(a,d.Sr,b,c)};b.prototype.iG=function(a,b,c){var d=this.Bz;d&&this.dz(a,d.Sr,b,
c)};b.prototype.oB=function(a,b,c,d){var e=a.Ya(),l,n,f,h,k,g;if(e.kb)for(d||(e.kb=!1,e.C.length=0),l=0,h=a.C.length;l<h;l++){if(f=a.C[l],f.ib(),k=f.L.Oe(b,c,!0),g=f.L.Oe(b,c,!1),f.fe(k,g)){if(d)return!1;e.C.push(f)}}else{l=n=0;for(h=e.C.length;l<h;l++)if(f=e.C[l],f.ib(),k=f.L.Oe(b,c,!0),g=f.L.Oe(b,c,!1),f.fe(k,g)){if(d)return!1;e.C[n]=e.C[l];n++}d||(e.C.length=n)}a.sg();return d?!0:e.Nu()};b.prototype.Ie=function(a,b){if(!(a&&b&&a!==b&&a.Yh&&b.Yh))return!1;a.ib();b.ib();var c=a.L,d=b.L,e,l,n,f,h,
k,g,m;if(c===d||c.$f===d.$f&&d.ag===d.ag&&c.scale===d.scale&&c.N===d.N&&c.Rg===d.Rg){if(!a.ac.LG(b.ac)||!a.Jb.pz(b.Jb)||a.Pi&&b.Pi)return!1;if(a.Pi)return this.pB(a,b);if(b.Pi)return this.pB(b,a);g=a.cb&&!a.cb.Ok();e=b.cb&&!b.cb.Ok();if(!g&&!e)return!0;g?(a.cb.rk(a.width,a.height,a.N),g=a.cb):(this.Lg.Qm(a.Jb,a.x,a.y,a.width,a.height),g=this.Lg);e?(b.cb.rk(b.width,b.height,b.N),m=b.cb):(this.Lg.Qm(b.Jb,b.x,b.y,b.width,b.height),m=this.Lg);return g.co(m,b.x-a.x,b.y-a.y)}g=a.cb&&!a.cb.Ok();e=b.cb&&
!b.cb.Ok();g?(a.cb.rk(a.width,a.height,a.N),this.Lg.cB(a.cb)):this.Lg.Qm(a.Jb,a.x,a.y,a.width,a.height);g=this.Lg;e?(b.cb.rk(b.width,b.height,b.N),this.Mw.cB(b.cb)):this.Mw.Qm(b.Jb,b.x,b.y,b.width,b.height);m=this.Mw;e=0;for(l=g.Af;e<l;e++)n=2*e,f=n+1,h=g.Mc[n],k=g.Mc[f],g.Mc[n]=c.eb(h+a.x,k+a.y,!0),g.Mc[f]=c.eb(h+a.x,k+a.y,!1);g.ib();e=0;for(l=m.Af;e<l;e++)n=2*e,f=n+1,h=m.Mc[n],k=m.Mc[f],m.Mc[n]=d.eb(h+b.x,k+b.y,!0),m.Mc[f]=d.eb(h+b.x,k+b.y,!1);m.ib();return g.co(m,0,0)};var u=new xa;new wa(0,0,
0,0);var t=[];b.prototype.pB=function(a,b){var c,d,e,l,n=b.ac,f=a.x,h=a.y;a.NJ(n,t);var k=b.cb&&!b.cb.Ok();c=0;for(d=t.length;c<d;++c)if(e=t[c],l=e.YH,n.MG(l,f,h)&&(u.fp(l),u.offset(f,h),u.pz(b.Jb)))if(k)if(b.cb.rk(b.width,b.height,b.N),e.zh){if(e.zh.co(b.cb,b.x-(f+l.left),b.y-(h+l.top)))return t.length=0,!0}else{if(this.Lg.Qm(u,0,0,l.right-l.left,l.bottom-l.top),this.Lg.co(b.cb,b.x,b.y))return t.length=0,!0}else if(e.zh){if(this.Lg.Qm(b.Jb,0,0,b.width,b.height),e.zh.co(this.Lg,-(f+l.left),-(h+l.top)))return t.length=
0,!0}else return t.length=0,!0;t.length=0;return!1};b.prototype.wB=function(a,b){if(!b)return!1;var c,d,e,l,n;c=0;for(d=a.Sc.length;c<d;c++)if(a.Sc[c].behavior instanceof b)return!0;if(!a.xa)for(c=0,d=a.mc.length;c<d;c++)for(n=a.mc[c],e=0,l=n.Sc.length;e<l;e++)if(n.Sc[e].behavior instanceof b)return!0;return!1};b.prototype.xB=function(a){return this.wB(a,fc.jJ)};b.prototype.Tw=function(a){return this.wB(a,fc.kJ)};var z=[];b.prototype.vd=function(a){var b,c,d;a.ib();this.pG(a.L,a.ac,z);b=0;for(c=z.length;b<
c;++b)if(d=z[b],d.da.solidEnabled&&this.Ie(a,d))return z.length=0,d;z.length=0;return null};var A=[];b.prototype.Yj=function(a,b){var c=null;b&&(c=A,c.length=0);a.ib();this.iG(a.L,a.ac,z);var d,e,l;d=0;for(e=z.length;d<e;++d)if(l=z[d],l.da.jumpthruEnabled&&this.Ie(a,l))if(b)c.push(l);else return z.length=0,l;z.length=0;return c};b.prototype.eg=function(a,b,c,d,e,l){d=d||50;var n=a.x,f=a.y,h,k=null,g=null;for(h=0;h<d;h++)if(a.x=n+b*h,a.y=f+c*h,a.ba(),!this.Ie(a,k)&&((k=this.vd(a))&&(g=k),!k&&(e&&(k=
l?this.Ie(a,l)?l:null:this.Yj(a))&&(g=k),!k)))return g&&this.pw(a,b,c,g),!0;a.x=n;a.y=f;a.ba();return!1};b.prototype.pw=function(a,b,c,d){var e=2,l,n=!1;l=!1;for(var f=a.x,h=a.y;16>=e;)l=1/e,e*=2,a.x+=b*l*(n?1:-1),a.y+=c*l*(n?1:-1),a.ba(),this.Ie(a,d)?l=n=!0:(l=n=!1,f=a.x,h=a.y);l&&(a.x=f,a.y=h,a.ba())};b.prototype.RA=function(a,b){var c=ja(b)?100:b,d=0,e=a.x,l=a.y,n=0,f=0,h=0,k=this.vd(a);if(!k)return!0;for(;d<=c;){switch(n){case 0:f=0;h=-1;d++;break;case 1:f=1;h=-1;break;case 2:f=1;h=0;break;case 3:h=
f=1;break;case 4:f=0;h=1;break;case 5:f=-1;h=1;break;case 6:f=-1;h=0;break;case 7:h=f=-1}n=(n+1)%8;a.x=ta(e+f*d);a.y=ta(l+h*d);a.ba();if(!this.Ie(a,k)&&(k=this.vd(a),!k))return!0}a.x=e;a.y=l;a.ba();return!1};b.prototype.ol=function(a,b){a.Yh&&b.Yh&&this.ls.push([a,b])};b.prototype.LE=function(a,b){var c,d,e;c=0;for(d=this.ls.length;c<d;c++)if(e=this.ls[c],e[0]==a&&e[1]==b||e[0]==b&&e[1]==a)return!0;return!1};b.prototype.JE=function(a,b,c){var d=a.x,e=a.y,l=pa(10,Sa(b,c,d,e)),n=La(b,c,d,e),f=this.vd(a);
if(!f)return Ia(n+ra);var h=f,k,g,m,q,p=v(5);for(k=1;36>k;k++)if(g=n-k*p,a.x=b+Math.cos(g)*l,a.y=c+Math.sin(g)*l,a.ba(),!this.Ie(a,h)&&(h=this.vd(a),!h)){m=g;break}36===k&&(m=Ia(n+ra));h=f;for(k=1;36>k;k++)if(g=n+k*p,a.x=b+Math.cos(g)*l,a.y=c+Math.sin(g)*l,a.ba(),!this.Ie(a,h)&&(h=this.vd(a),!h)){q=g;break}36===k&&(q=Ia(n+ra));a.x=d;a.y=e;a.ba();if(q===m)return q;a=Ma(q,m)/2;a=Oa(q,m)?Ia(m+a+ra):Ia(q+a);m=Math.cos(n);n=Math.sin(n);q=Math.cos(a);a=Math.sin(a);b=m*q+n*a;return La(0,0,m-2*b*q,n-2*b*
a)};var H=-1;b.prototype.trigger=function(a,b,c){if(!this.jc)return!1;var d=this.jc.Nn;if(!d)return!1;var e=!1,l,n,f;H++;var h=d.hu;n=0;for(f=h.length;n<f;++n)l=this.tB(a,b,h[n],c),e=e||l;l=this.tB(a,b,d,c);H--;return e||l};b.prototype.tB=function(a,b,c,d){var e=!1,l,n,f,h;if(b)for(f=this.Rw(a,b,b.type.name,c,d),e=e||f,h=b.type.mc,l=0,n=h.length;l<n;++l)f=this.Rw(a,b,h[l].name,c,d),e=e||f;else f=this.Rw(a,b,"system",c,d),e=e||f;return e};b.prototype.Rw=function(a,b,c,d,e){var l,n=!1,f=!1,f="undefined"!==
typeof e,h=(f?d.Sy:d.uB)[c];if(!h)return n;var k=null;d=0;for(l=h.length;d<l;++d)if(h[d].method==a){k=h[d].On;break}if(!k)return n;a=f?k[e]:k;if(!a)return null;d=0;for(l=a.length;d<l;d++)e=a[d][0],f=a[d][1],f=this.UF(b,c,e,f),n=n||f;return n};b.prototype.UF=function(a,b,c,d){var e,l,n=!1;this.Sw++;var f=this.Zc().Uc;f&&this.Zo(f.Uj);var h=1<this.Sw;this.Zo(c.Uj);h&&this.XH();var k=this.ds(c);k.Uc=c;a&&(e=this.types[b].Ya(),e.kb=!1,e.C.length=1,e.C[0]=a,this.types[b].sg());a=!0;if(c.parent){b=k.nB;
for(e=c.parent;e;)b.push(e),e=e.parent;b.reverse();e=0;for(l=b.length;e<l;e++)if(!b[e].eI()){a=!1;break}}a&&(this.Ak++,c.Zf?c.dI(d):c.ed(),n=n||k.Sk);this.Zr();h&&this.SH();this.Fi(c.Uj);f&&this.Fi(f.Uj);this.uj&&0===this.xg&&0===H&&!this.$u&&this.Nd();this.Sw--;return n};b.prototype.Ck=function(){var a=this.Zc();return a.Uc.jd[a.Tc]};b.prototype.cG=function(){var a=this.Zc();return a.Uc.Gf[a.ye]};b.prototype.XH=function(){this.Er++;this.Er>=this.Cv.length&&this.Cv.push([])};b.prototype.SH=function(){this.Er--};
b.prototype.Xy=function(){return this.Cv[this.Er]};b.prototype.ds=function(a){this.Eq++;this.Eq>=this.mu.length&&this.mu.push(new Rb);var b=this.Zc();b.reset(a);return b};b.prototype.Zr=function(){this.Eq--};b.prototype.Zc=function(){return this.mu[this.Eq]};b.prototype.QA=function(){this.Fr++;this.Fr>=this.Ev.length&&this.Ev.push(aa({name:void 0,index:0,Nc:!1}));var a=this.dG();a.name=void 0;a.index=0;a.Nc=!1;return a};b.prototype.IA=function(){this.Fr--};b.prototype.dG=function(){return this.Ev[this.Fr]};
b.prototype.Yy=function(a,b){for(var c,d,e,l,n,f;b;){c=0;for(d=b.hg.length;c<d;c++)if(f=b.hg[c],f instanceof Sb&&jb(a,f.name))return f;b=b.parent}c=0;for(d=this.ci.length;c<d;c++)for(n=this.ci[c],e=0,l=n.qj.length;e<l;e++)if(f=n.qj[e],f instanceof Sb&&jb(a,f.name))return f;return null};b.prototype.$y=function(a){var b,c;b=0;for(c=this.zg.length;b<c;b++)if(this.zg[b].lb===a)return this.zg[b];return null};b.prototype.Wq=function(a){var b,c;b=0;for(c=this.ja.length;b<c;b++)if(this.ja[b].lb===a)return this.ja[b];
return null};b.prototype.fG=function(a){var b,c;b=0;for(c=this.Il.length;b<c;b++)if(this.Il[b].lb===a)return this.Il[b];return null};b.prototype.FG=function(){var a=this,b=this.ts,c=this.ni,d=this.uo,l=!1;this.hB&&(l=!0,b="__c2_continuouspreview",this.hB=!1);if(b.length){this.Nd();c=this.jI();if(window.indexedDB&&!this.Rf)e(b,c,function(){ha("Saved state to IndexedDB storage ("+c.length+" bytes)");a.ni=c;a.trigger(w.prototype.K.xt,null);a.ni="";l&&f()},function(d){try{localStorage.setItem("__c2save_"+
b,c),ha("Saved state to WebStorage ("+c.length+" bytes)"),a.ni=c,a.trigger(w.prototype.K.xt,null),a.ni="",l&&f()}catch(e){ha("Failed to save game state: "+d+"; "+e)}});else try{localStorage.setItem("__c2save_"+b,c),ha("Saved state to WebStorage ("+c.length+" bytes)"),a.ni=c,this.trigger(w.prototype.K.xt,null),a.ni="",l&&f()}catch(n){ha("Error saving to WebStorage: "+n)}this.oe=this.uo=this.ts=""}d.length&&(window.indexedDB&&!this.Rf?g(d,function(b){b?(a.oe=b,ha("Loaded state from IndexedDB storage ("+
a.oe.length+" bytes)")):(a.oe=localStorage.getItem("__c2save_"+d)||"",ha("Loaded state from WebStorage ("+a.oe.length+" bytes)"));a.kp=!1;a.oe.length||a.trigger(w.prototype.K.tt,null)},function(){a.oe=localStorage.getItem("__c2save_"+d)||"";ha("Loaded state from WebStorage ("+a.oe.length+" bytes)");a.kp=!1;a.oe.length||a.trigger(w.prototype.K.tt,null)}):(this.oe=localStorage.getItem("__c2save_"+d)||"",ha("Loaded state from WebStorage ("+this.oe.length+" bytes)"),this.kp=!1,a.oe.length||a.trigger(w.prototype.K.tt,
null)),this.ts=this.uo="");this.oe.length&&(this.Nd(),this.$G(this.oe),this.ni=this.oe,this.trigger(w.prototype.K.hD,null),this.oe=this.ni="")};b.prototype.jI=function(){var a,b,c,d,e,l,n,f={c2save:!0,version:1,rt:{time:this.le.Va,walltime:this.Mh.Va,timescale:this.Jh,tickcount:this.gf,execcount:this.Ak,next_uid:this.Ro,running_layout:this.jc.lb,start_time_offset:Date.now()-this.Es},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.ja.length;a<b;a++)if(e=this.ja[a],!e.xa&&
!this.xB(e)){l={instances:[]};Ua(e.da)&&(l.ex=m(e.da));c=0;for(d=e.C.length;c<d;c++)l.instances.push(this.Bw(e.C[c]));f.types[e.lb.toString()]=l}a=0;for(b=this.zg.length;a<b;a++)c=this.zg[a],f.layouts[c.lb.toString()]=c.oc();d=f.events.groups;a=0;for(b=this.Il.length;a<b;a++)c=this.Il[a],d[c.lb.toString()]=this.Zn[c.Yn].Xn;b=f.events.cnds;for(n in this.Nl)this.Nl.hasOwnProperty(n)&&(a=this.Nl[n],Ua(a.da)&&(b[n]={ex:m(a.da)}));b=f.events.acts;for(n in this.Hl)this.Hl.hasOwnProperty(n)&&(a=this.Hl[n],
Ua(a.da)&&(b[n]={ex:a.da}));b=f.events.vars;for(n in this.Wm)this.Wm.hasOwnProperty(n)&&(a=this.Wm[n],a.dr||a.parent&&!a.ko||(b[n]=a.data));f.system=this.Gh.oc();return JSON.stringify(f)};b.prototype.UA=function(){var a,b,c,d,e,l;this.Oj={};a=0;for(b=this.ja.length;a<b;a++)if(c=this.ja[a],!c.xa)for(d=0,e=c.C.length;d<e;d++)l=c.C[d],this.Oj[l.uid.toString()]=l};b.prototype.$G=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var b=a.rt;this.le.reset();this.le.Va=b.time;this.Mh.reset();this.Mh.Va=
b.walltime||0;this.Jh=b.timescale;this.gf=b.tickcount;this.Ak=b.execcount;this.Es=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.jc.lb)if(c=this.$y(c))this.My(c);else return;var d,e,l,n,f,h,k;h=a.types;for(e in h)if(h.hasOwnProperty(e)&&(n=this.Wq(parseInt(e,10)))&&!n.xa&&!this.xB(n)){h[e].ex?n.da=h[e].ex:Wa(n.da);f=n.C;l=h[e].instances;c=0;for(d=qa(f.length,l.length);c<d;c++)this.Ar(f[c],l[c]);c=l.length;for(d=f.length;c<d;c++)this.Qh(f[c]);c=f.length;for(d=l.length;c<d;c++){f=
null;if(n.Ib.yj&&(f=this.jc.Vq(l[c].w.l),!f))continue;f=this.nj(n.Mf,f,!1,0,0,!0);this.Ar(f,l[c])}n.Sm=!0}this.Nd();this.UA();d=a.layouts;for(e in d)d.hasOwnProperty(e)&&(c=this.$y(parseInt(e,10)))&&c.Ic(d[e]);d=a.events.groups;for(e in d)d.hasOwnProperty(e)&&(c=this.fG(parseInt(e,10)))&&this.Zn[c.Yn]&&(this.Zn[c.Yn].Xn=d[e]);c=a.events.cnds;for(e in c)c.hasOwnProperty(e)&&this.Nl.hasOwnProperty(e)&&(this.Nl[e].da=c[e].ex);c=a.events.acts;for(e in c)c.hasOwnProperty(e)&&this.Hl.hasOwnProperty(e)&&
(this.Hl[e].da=c[e].ex);c=a.events.vars;for(e in c)c.hasOwnProperty(e)&&this.Wm.hasOwnProperty(e)&&(this.Wm[e].data=c[e]);this.Ro=b.next_uid;this.Gh.Ic(a.system);c=0;for(d=this.ja.length;c<d;c++)if(n=this.ja[c],!n.xa)for(e=0,a=n.C.length;e<a;e++){f=n.C[e];if(n.Ve)for(h=f.Wn(),b=f.siblings.length=0,l=n.Qe.length;b<l;b++)k=n.Qe[b],n!==k&&f.siblings.push(k.C[h]);f.pg&&f.pg();if(f.Qa)for(b=0,l=f.Qa.length;b<l;b++)h=f.Qa[b],h.pg&&h.pg()}this.jb=!0}};b.prototype.Bw=function(a,b){var c,d,e,l,n;l=a.type;
e=l.Ib;var f={};b?f.c2=!0:f.uid=a.uid;Ua(a.da)&&(f.ex=m(a.da));if(a.qd&&a.qd.length)for(f.ivs={},c=0,d=a.qd.length;c<d;c++)f.ivs[a.type.Xu[c].toString()]=a.qd[c];if(e.yj){e={x:a.x,y:a.y,w:a.width,h:a.height,l:a.L.lb,zi:a.gh()};0!==a.N&&(e.a=a.N);1!==a.opacity&&(e.o=a.opacity);.5!==a.je&&(e.hX=a.je);.5!==a.ke&&(e.hY=a.ke);0!==a.ze&&(e.bm=a.ze);a.visible||(e.v=a.visible);a.Yh||(e.ce=a.Yh);-1!==a.Qo&&(e.mts=a.Qo);if(l.Na.length)for(e.fx=[],c=0,d=l.Na.length;c<d;c++)n=l.Na[c],e.fx.push({name:n.name,active:a.cj[n.index],
params:a.qc[n.index]});f.w=e}if(a.Qa&&a.Qa.length)for(f.behs={},c=0,d=a.Qa.length;c<d;c++)l=a.Qa[c],l.oc&&(f.behs[l.type.lb.toString()]=l.oc());a.oc&&(f.data=a.oc());return f};b.prototype.hG=function(a,b){var c,d;c=0;for(d=a.Xu.length;c<d;c++)if(a.Xu[c]===b)return c;return-1};b.prototype.bG=function(a,b){var c,d;c=0;for(d=a.Qa.length;c<d;c++)if(a.Qa[c].type.lb===b)return c;return-1};b.prototype.Ar=function(a,b,c){var d,e,l,n,f;f=a.type;l=f.Ib;if(c){if(!b.c2)return}else a.uid=b.uid;b.ex?a.da=b.ex:
Wa(a.da);if(e=b.ivs)for(d in e)e.hasOwnProperty(d)&&(c=this.hG(f,parseInt(d,10)),0>c||c>=a.qd.length||(a.qd[c]=e[d]));if(l.yj){l=b.w;a.L.lb!==l.l&&(c=a.L,a.L=this.jc.Vq(l.l),a.L?(c.Nm(a,!0),a.L.Cn(a,!0),a.ba(),a.L.ep(0)):(a.L=c,this.Qh(a)));a.x=l.x;a.y=l.y;a.width=l.w;a.height=l.h;a.Qg=l.zi;a.N=l.hasOwnProperty("a")?l.a:0;a.opacity=l.hasOwnProperty("o")?l.o:1;a.je=l.hasOwnProperty("hX")?l.hX:.5;a.ke=l.hasOwnProperty("hY")?l.hY:.5;a.visible=l.hasOwnProperty("v")?l.v:!0;a.Yh=l.hasOwnProperty("ce")?
l.ce:!0;a.Qo=l.hasOwnProperty("mts")?l.mts:-1;a.ze=l.hasOwnProperty("bm")?l.bm:0;a.In=gb(a.ze);this.ea&&hb(a,a.ze,this.ea);a.ba();if(l.hasOwnProperty("fx"))for(c=0,e=l.fx.length;c<e;c++)n=f.Eu(l.fx[c].name),0>n||(a.cj[n]=l.fx[c].active,a.qc[n]=l.fx[c].params);a.Si()}if(f=b.behs)for(d in f)f.hasOwnProperty(d)&&(l=this.bG(a,parseInt(d,10)),0>l||a.Qa[l].Ic(f[d]));b.data&&a.Ic(b.data)};Tb=function(a){return new b(document.getElementById(a))};Ub=function(a,c){return new b({dc:!0,width:a,height:c})};window.cr_createRuntime=
Tb;window.cr_createDCRuntime=Ub;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.XJ=!0;document.body.appendChild(a);a=new b(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new b(document.getElementById("canvas"));
window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.j=a;this.Nn=null;this.scrollX=this.j.sd/2;this.scrollY=this.j.rd/2;this.scale=1;this.N=0;this.Vl=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.yB=b[3];this.fB=b[4];this.lb=b[5];var c=b[6],d,e;this.Za=[];this.bo=[];d=0;for(e=c.length;d<e;d++){var f=new Vb(this,c[d]);f.pA=d;this.Za.push(f)}c=b[7];this.Kk=[];d=0;for(e=c.length;d<e;d++){var f=c[d],h=this.j.ja[f[1]];h.Mf||(h.Mf=f);this.Kk.push(f);-1===this.bo.indexOf(h)&&this.bo.push(h)}this.Na=[];this.xb=[];
this.qc=[];d=0;for(e=b[8].length;d<e;d++)this.Na.push({id:b[8][d][0],name:b[8][d][1],Ld:-1,Bc:!0,index:d}),this.qc.push(b[8][d][2].slice(0));this.Si();this.Qj=new wa(0,0,1,1);this.sw=new wa(0,0,1,1);this.Pj={}}function c(a,b){return a.Qg-b.Qg}function b(a,b){this.$c=a;this.j=a.j;this.C=[];this.scale=1;this.N=0;this.xk=!1;this.Qi=new wa(0,0,0,0);this.rB=new xa;this.xc=this.lc=this.yc=this.kc=0;this.tl=!1;this.Vi=-1;this.name=b[0];this.index=b[1];this.lb=b[2];this.visible=b[3];this.fj=b[4];this.Ri=
b[5];this.$f=b[6];this.ag=b[7];this.opacity=b[8];this.vu=b[9];this.Ng=b[10];this.Rg=b[11];this.ze=b[12];this.tF=b[13];this.In="source-over";this.Qd=this.Wd=0;this.ef=null;this.nm=d();this.Ii=!0;this.nr=new wa(0,0,-1,-1);this.Lf=new wa(0,0,-1,-1);this.Ng&&(this.ef=new eb(this.j.sd,this.j.rd));this.Rj=!1;var c=b[14],e,f;this.Yl=[];e=0;for(f=c.length;e<f;e++){var h=c[e],k=this.j.ja[h[1]];k.Mf||(k.Mf=h,k.SE=this.index);this.Yl.push(h);-1===this.$c.bo.indexOf(k)&&this.$c.bo.push(k)}this.Na=[];this.xb=
[];this.qc=[];e=0;for(f=b[15].length;e<f;e++)this.Na.push({id:b[15][e][0],name:b[15][e][1],Ld:-1,Bc:!0,index:e}),this.qc.push(b[15][e][2].slice(0));this.Si();this.Qj=new wa(0,0,1,1);this.sw=new wa(0,0,1,1)}function d(){return m.length?m.pop():[]}function e(a){a.length=0;m.push(a)}a.prototype.iI=function(a){var b=a.type.lb.toString();this.Pj.hasOwnProperty(b)||(this.Pj[b]=[]);this.Pj[b].push(this.j.Bw(a))};a.prototype.gz=function(){var a=this.Za[0];return!a.Ri&&1===a.opacity&&!a.vu&&a.visible};a.prototype.Si=
function(){this.xb.length=0;var a,b,c;a=0;for(b=this.Na.length;a<b;a++)c=this.Na[a],c.Bc&&this.xb.push(c)};a.prototype.Du=function(a){var b,c,d;b=0;for(c=this.Na.length;b<c;b++)if(d=this.Na[b],d.name===a)return d;return null};var g=[],f=!0;a.prototype.Lw=function(){this.fB&&(this.Nn=this.j.nu[this.fB],this.Nn.CB());this.j.jc=this;this.scrollX=this.j.sd/2;this.scrollY=this.j.rd/2;var a,b,d,e,h,k,m;a=0;for(d=this.j.ja.length;a<d;a++)if(b=this.j.ja[a],!b.xa)for(h=b.C,b=0,e=h.length;b<e;b++)if(k=h[b],
k.L){var z=k.L.pA;z>=this.Za.length&&(z=this.Za.length-1);k.L=this.Za[z];-1===k.L.C.indexOf(k)&&k.L.C.push(k);k.L.tl=!0}if(!f)for(a=0,d=this.Za.length;a<d;++a)this.Za[a].C.sort(c);g.length=0;this.HE();a=0;for(d=this.Za.length;a<d;a++)k=this.Za[a],k.PE(),k.Vw();h=!1;if(!this.Vl){for(m in this.Pj)if(this.Pj.hasOwnProperty(m)&&(b=this.j.Wq(parseInt(m,10)))&&!b.xa&&this.j.Tw(b)){e=this.Pj[m];a=0;for(d=e.length;a<d;a++){k=null;if(b.Ib.yj&&(k=this.Vq(e[a].w.l),!k))continue;k=this.j.nj(b.Mf,k,!1,0,0,!0);
this.j.Ar(k,e[a]);h=!0;g.push(k)}e.length=0}a=0;for(d=this.Za.length;a<d;a++)this.Za[a].C.sort(c),this.Za[a].tl=!0}h&&(this.j.Nd(),this.j.UA());for(a=0;a<g.length;a++)if(k=g[a],k.type.Ve)for(d=k.Wn(),b=0,e=k.type.Qe.length;b<e;b++)m=k.type.Qe[b],k.type!==m&&(m.C.length>d?k.siblings.push(m.C[d]):m.Mf&&(h=this.j.nj(m.Mf,k.L,!0,k.x,k.y,!0),this.j.Nd(),m.Rs(),k.siblings.push(h),g.push(h)));a=0;for(d=this.Kk.length;a<d;a++)this.j.nj(this.Kk[a],null,!0);this.j.sk=null;this.j.Nd();if(this.j.Kb&&!this.j.Ca)for(a=
0,d=this.j.ja.length;a<d;a++)m=this.j.ja[a],!m.xa&&m.C.length&&m.bs&&m.bs(this.j.Kb);a=0;for(d=g.length;a<d;a++)k=g[a],this.j.trigger(Object.getPrototypeOf(k.type.Ib).K.ot,k);g.length=0;this.j.trigger(w.prototype.K.Ix,null);this.Vl=!1};a.prototype.OE=function(){var a,b,c,d,e;b=a=0;for(c=this.Kk.length;a<c;a++)d=this.Kk[a],e=this.j.ja[d[1]],e.global?this.j.nj(d,null,!0):(this.Kk[b]=d,b++);this.Kk.length=b};a.prototype.sI=function(){this.j.trigger(w.prototype.K.gD,null);this.j.Gh.Je.length=0;var a,
b,c,d,e,h;if(!this.Vl)for(a=0,b=this.Za.length;a<b;a++)for(this.Za[a].Ww(),e=this.Za[a].C,c=0,d=e.length;c<d;c++)h=e[c],h.type.global||this.j.Tw(h.type)&&this.iI(h);a=0;for(b=this.Za.length;a<b;a++){e=this.Za[a].C;c=0;for(d=e.length;c<d;c++)h=e[c],h.type.global||this.j.Qh(h);this.j.Nd();e.length=0;this.Za[a].tl=!0}a=0;for(b=this.j.ja.length;a<b;a++)if(e=this.j.ja[a],!(e.global||e.Ib.yj||e.Ib.Cs||e.xa)){c=0;for(d=e.C.length;c<d;c++)this.j.Qh(e.C[c]);this.j.Nd()}f=!1};new wa(0,0,0,0);a.prototype.Re=
function(a){var b,c=a,d=!1,e=!this.j.Pf;e&&(this.j.xr||(this.j.xr=document.createElement("canvas"),b=this.j.xr,b.width=this.j.Xa,b.height=this.j.Wa,this.j.Iz=b.getContext("2d"),d=!0),b=this.j.xr,c=this.j.Iz,b.width!==this.j.Xa&&(b.width=this.j.Xa,d=!0),b.height!==this.j.Wa&&(b.height=this.j.Wa,d=!0),d&&(c.webkitImageSmoothingEnabled=this.j.qb,c.mozImageSmoothingEnabled=this.j.qb,c.msImageSmoothingEnabled=this.j.qb,c.imageSmoothingEnabled=this.j.qb));c.globalAlpha=1;c.globalCompositeOperation="source-over";
this.j.Pt&&!this.gz()&&c.clearRect(0,0,this.j.Xa,this.j.Wa);var f,h,d=0;for(f=this.Za.length;d<f;d++)h=this.Za[d],h.visible&&0<h.opacity&&11!==h.ze&&(h.C.length||!h.Ri)?h.Re(c):h.Vw();e&&a.drawImage(b,0,0,this.j.width,this.j.height)};a.prototype.ge=function(a){var b=0<this.xb.length||this.j.Um||!this.j.Pf;if(b){this.j.Ye||(this.j.Ye=a.Zh(this.j.Xa,this.j.Wa,this.j.qb));if(this.j.Ye.Gn!==this.j.Xa||this.j.Ye.Fn!==this.j.Wa)a.deleteTexture(this.j.Ye),this.j.Ye=a.Zh(this.j.Xa,this.j.Wa,this.j.qb);a.Eh(this.j.Ye);
this.j.Pf||a.Pm(this.j.Xa,this.j.Wa)}else this.j.Ye&&(a.Eh(null),a.deleteTexture(this.j.Ye),this.j.Ye=null);this.j.Pt&&!this.gz()&&a.clear(0,0,0,0);var c,d,e;c=0;for(d=this.Za.length;c<d;c++)e=this.Za[c],e.visible&&0<e.opacity&&(e.C.length||!e.Ri)?e.ge(a):e.Vw();b&&(0===this.xb.length||1===this.xb.length&&this.j.Pf?(1===this.xb.length?(b=this.xb[0].index,a.Fh(this.xb[0].Ld),a.Om(null,1/this.j.Xa,1/this.j.Wa,0,0,1,1,this.scale,this.N,0,0,this.j.Xa/2,this.j.Wa/2,this.qc[b]),a.cs(this.xb[0].Ld)&&(this.j.jb=
!0)):a.Fh(0),this.j.Pf||a.Pm(this.j.width,this.j.height),a.Eh(null),a.Tj(1),a.He(this.j.Ye),a.$A(),a.Ch(),a.Kh(),b=this.j.width/2,c=this.j.height/2,a.es(-b,c,b,c,b,-c,-b,-c),a.He(null)):this.vw(a,null,null,null))};a.prototype.Vn=function(){return 0<this.xb.length||this.j.Um||!this.j.Pf?this.j.Ye:null};a.prototype.az=function(){var a=this.Za[0].ie(),b,c,d;b=1;for(c=this.Za.length;b<c;b++)d=this.Za[b],(0!==d.$f||0!==d.ag)&&d.ie()<a&&(a=d.ie());return a};a.prototype.Cw=function(a){if(!this.yB){var b=
1/this.az()*this.j.Xa/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.j.jb=!0)};a.prototype.Dw=function(a){if(!this.yB){var b=1/this.az()*this.j.Wa/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.j.jb=!0)};a.prototype.HE=function(){this.Cw(this.scrollX);this.Dw(this.scrollY)};a.prototype.vw=function(a,b,c,d){var e=c?c.xb:b?b.xb:this.xb,f=1,h=0,k=0,g=0,m=this.j.Xa,y=this.j.Wa;c?(f=c.L.ie(),h=c.L.Yc(),k=c.L.kc,g=c.L.lc,m=c.L.yc,
y=c.L.xc):b&&(f=b.ie(),h=b.Yc(),k=b.kc,g=b.lc,m=b.yc,y=b.xc);var C=this.j.yu,I,E,D,x,K=0,L=1,da,R=this.j.Xa,N=this.j.Wa,S=R/2,J=N/2,T=b?b.Qj:this.Qj,G=b?b.sw:this.sw,F=0,M=0,P=0,U=0,O=R,ca=R,Z=N,Ca=N,sa=D=0,Pa=c?c.L.Yc():0;if(c){I=0;for(E=e.length;I<E;I++)D+=a.mG(e[I].Ld),sa+=a.nG(e[I].Ld);x=c.ac;F=b.eb(x.left,x.top,!0,!0);P=b.eb(x.left,x.top,!1,!0);O=b.eb(x.right,x.bottom,!0,!0);Z=b.eb(x.right,x.bottom,!1,!0);0!==Pa&&(I=b.eb(x.right,x.top,!0,!0),E=b.eb(x.right,x.top,!1,!0),M=b.eb(x.left,x.bottom,
!0,!0),U=b.eb(x.left,x.bottom,!1,!0),x=Math.min(F,O,I,M),O=Math.max(F,O,I,M),F=x,x=Math.min(P,Z,E,U),Z=Math.max(P,Z,E,U),P=x);F-=D;P-=sa;O+=D;Z+=sa;G.left=F/R;G.top=1-P/N;G.right=O/R;G.bottom=1-Z/N;M=F=ta(F);U=P=ta(P);ca=O=ua(O);Ca=Z=ua(Z);M-=D;U-=sa;ca+=D;Ca+=sa;0>F&&(F=0);0>P&&(P=0);O>R&&(O=R);Z>N&&(Z=N);0>M&&(M=0);0>U&&(U=0);ca>R&&(ca=R);Ca>N&&(Ca=N);T.left=F/R;T.top=1-P/N;T.right=O/R;T.bottom=1-Z/N}else T.left=G.left=0,T.top=G.top=0,T.right=G.right=1,T.bottom=G.bottom=1;sa=c&&((c.N||Pa)&&a.Xo(e[0].Ld)||
0!==D||0!==sa||1!==c.opacity||c.type.Ib.lA)||b&&!c&&1!==b.opacity;a.$A();if(sa){C[K]||(C[K]=a.Zh(R,N,this.j.qb));if(C[K].Gn!==R||C[K].Fn!==N)a.deleteTexture(C[K]),C[K]=a.Zh(R,N,this.j.qb);a.Fh(0);a.Eh(C[K]);da=Ca-U;a.clearRect(M,N-U-da,ca-M,da);c?c.ge(a):(a.He(this.j.sf),a.Tj(b.opacity),a.Ch(),a.translate(-S,-J),a.Kh(),a.Jg(F,Z,O,Z,O,P,F,P,T));G.left=G.top=0;G.right=G.bottom=1;c&&(x=T.top,T.top=T.bottom,T.bottom=x);K=1;L=0}a.Tj(1);D=e.length-1;var Pa=a.ow(e[D].Ld)||!b&&!c&&!this.j.Pf,Qa=0;I=0;for(E=
e.length;I<E;I++){C[K]||(C[K]=a.Zh(R,N,this.j.qb));if(C[K].Gn!==R||C[K].Fn!==N)a.deleteTexture(C[K]),C[K]=a.Zh(R,N,this.j.qb);a.Fh(e[I].Ld);Qa=e[I].index;a.cs(e[I].Ld)&&(this.j.jb=!0);0!=I||sa?(a.Om(d,1/R,1/N,G.left,G.top,G.right,G.bottom,f,h,k,g,(k+m)/2,(g+y)/2,c?c.qc[Qa]:b?b.qc[Qa]:this.qc[Qa]),a.He(null),I!==D||Pa?(a.Eh(C[K]),da=Ca-U,x=N-U-da,a.clearRect(M,x,ca-M,da)):(c?a.Sj(c.Wd,c.Qd):b&&a.Sj(b.Wd,b.Qd),a.Eh(d)),a.He(C[L]),a.Ch(),a.translate(-S,-J),a.Kh(),a.Jg(F,Z,O,Z,O,P,F,P,T),I!==D||Pa||a.He(null)):
(a.Eh(C[K]),da=Ca-U,x=N-U-da,a.clearRect(M,x,ca-M,da),c?(a.Om(d,1/c.width,1/c.height,G.left,G.top,G.right,G.bottom,f,h,k,g,(k+m)/2,(g+y)/2,c.qc[Qa]),c.ge(a)):(a.Om(d,1/R,1/N,0,0,1,1,f,h,k,g,(k+m)/2,(g+y)/2,b?b.qc[Qa]:this.qc[Qa]),a.He(b?this.j.sf:this.j.Ye),a.Ch(),a.translate(-S,-J),a.Kh(),a.Jg(F,Z,O,Z,O,P,F,P,T)),G.left=G.top=0,G.right=G.bottom=1,c&&!Pa&&(x=Z,Z=P,P=x));K=0===K?1:0;L=0===K?1:0}Pa&&(a.Fh(0),c?a.Sj(c.Wd,c.Qd):b?a.Sj(b.Wd,b.Qd):this.j.Pf||(a.Pm(this.j.width,this.j.height),S=this.j.width/
2,J=this.j.height/2,P=F=0,O=this.j.width,Z=this.j.height),a.Eh(d),a.He(C[L]),a.Ch(),a.translate(-S,-J),a.Kh(),c&&1===e.length&&!sa?a.Jg(F,P,O,P,O,Z,F,Z,T):a.Jg(F,Z,O,Z,O,P,F,P,T),a.He(null))};a.prototype.Vq=function(a){var b,c;b=0;for(c=this.Za.length;b<c;b++)if(this.Za[b].lb===a)return this.Za[b];return null};a.prototype.oc=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.N,w:this.width,h:this.height,fv:this.Vl,persist:this.Pj,fx:[],layers:{}};a=0;for(b=this.Na.length;a<
b;a++)c=this.Na[a],d.fx.push({name:c.name,active:c.Bc,params:this.qc[c.index]});a=0;for(b=this.Za.length;a<b;a++)c=this.Za[a],d.layers[c.lb.toString()]=c.oc();return d};a.prototype.Ic=function(a){var b,c,d,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.N=a.a;this.width=a.w;this.height=a.h;this.Pj=a.persist;"undefined"!==typeof a.fv&&(this.Vl=a.fv);var f=a.fx;b=0;for(c=f.length;b<c;b++)if(d=this.Du(f[b].name))d.Bc=f[b].active,this.qc[d.index]=f[b].params;this.Si();b=a.layers;for(e in b)b.hasOwnProperty(e)&&
(a=this.Vq(parseInt(e,10)))&&a.Ic(b[e])};Db=a;b.prototype.Si=function(){this.xb.length=0;var a,b,c;a=0;for(b=this.Na.length;a<b;a++)c=this.Na[a],c.Bc&&this.xb.push(c)};b.prototype.Du=function(a){var b,c,d;b=0;for(c=this.Na.length;b<c;b++)if(d=this.Na[b],d.name===a)return d;return null};b.prototype.PE=function(){var a,b,c,d,e,f;b=a=0;for(c=this.Yl.length;a<c;a++){d=this.Yl[a];e=this.j.ja[d[1]];f=this.j.Tw(e);e=!0;if(!f||this.$c.Vl)d=this.j.nj(d,this,!0),g.push(d),d.type.global&&(e=!1);e&&(this.Yl[b]=
this.Yl[a],b++)}this.Yl.length=b;this.j.Nd();!this.j.fa&&this.Na.length&&(this.ze=this.tF);this.In=gb(this.ze);this.j.ea&&hb(this,this.ze,this.j.ea);this.Ii=!0};b.prototype.Nm=function(a,b){var c=Ea(this.C,a);0>c||(b&&this.Ng&&a.Fe&&a.Fe.right>=a.Fe.left&&(a.ib(),this.ef.update(a,a.Fe,null),a.Fe.set(0,0,-1,-1)),c===this.C.length-1?this.C.pop():(za(this.C,c),this.ep(c)),this.Ii=!0)};b.prototype.Cn=function(a,b){a.Qg=this.C.length;this.C.push(a);b&&this.Ng&&a.Fe&&a.ba();this.Ii=!0};b.prototype.UH=function(a){this.C.unshift(a);
this.ep(0)};b.prototype.DH=function(a,b,c){var d=a.gh();b=b.gh();za(this.C,d);d<b&&b--;c&&b++;b===this.C.length?this.C.push(a):this.C.splice(b,0,a);this.ep(d<b?d:b)};b.prototype.ep=function(a){-1===this.Vi?this.Vi=a:a<this.Vi&&(this.Vi=a);this.Ii=this.tl=!0};b.prototype.Ww=function(){if(this.tl){-1===this.Vi&&(this.Vi=0);var a,b,c;if(this.Ng)for(a=this.Vi,b=this.C.length;a<b;++a)c=this.C[a],c.Qg=a,this.ef.wH(c.Fe);else for(a=this.Vi,b=this.C.length;a<b;++a)this.C[a].Qg=a;this.tl=!1;this.Vi=-1}};b.prototype.ie=
function(a){return this.jG()*(this.j.Pf||a?this.j.Dn:1)};b.prototype.jG=function(){return(this.scale*this.$c.scale-1)*this.Rg+1};b.prototype.Yc=function(){return this.xk?0:Ia(this.$c.N+this.N)};var m=[],k=[],h=[];b.prototype.bz=function(){this.Ww();this.ef.gs(this.kc,this.lc,this.yc,this.xc,h);if(!h.length)return d();if(1===h.length){var a=d();Aa(a,h[0]);h.length=0;return a}for(var b=!0;1<h.length;){for(var a=h,c=void 0,f=void 0,g=void 0,m=void 0,t=void 0,c=0,f=a.length;c<f-1;c+=2){var g=a[c],m=a[c+
1],t=d(),z=g,A=m,H=t,y=0,C=0,I=0,E=z.length,D=A.length,x=void 0,K=void 0;for(H.length=E+D;y<E&&C<D;++I)x=z[y],K=A[C],x.Qg<K.Qg?(H[I]=x,++y):(H[I]=K,++C);for(;y<E;++y,++I)H[I]=z[y];for(;C<D;++C,++I)H[I]=A[C];b||(e(g),e(m));k.push(t)}1===f%2&&(b?(g=d(),Aa(g,a[f-1]),k.push(g)):k.push(a[f-1]));Aa(a,k);k.length=0;b=!1}a=h[0];h.length=0;return a};b.prototype.Re=function(a){this.Rj=this.vu||1!==this.opacity||0!==this.ze;var b=this.j.canvas,c=a,d=!1;this.Rj&&(this.j.ur||(this.j.ur=document.createElement("canvas"),
b=this.j.ur,b.width=this.j.Xa,b.height=this.j.Wa,this.j.Hz=b.getContext("2d"),d=!0),b=this.j.ur,c=this.j.Hz,b.width!==this.j.Xa&&(b.width=this.j.Xa,d=!0),b.height!==this.j.Wa&&(b.height=this.j.Wa,d=!0),d&&(c.webkitImageSmoothingEnabled=this.j.qb,c.mozImageSmoothingEnabled=this.j.qb,c.msImageSmoothingEnabled=this.j.qb,c.imageSmoothingEnabled=this.j.qb),this.Ri&&c.clearRect(0,0,this.j.Xa,this.j.Wa));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Ri||(c.fillStyle="rgb("+this.fj[0]+","+
this.fj[1]+","+this.fj[2]+")",c.fillRect(0,0,this.j.Xa,this.j.Wa));c.save();this.xk=!0;var d=this.Oe(0,0,!0,!0),f=this.Oe(0,0,!1,!0);this.xk=!1;this.j.bg&&(d=Math.round(d),f=Math.round(f));this.xw(d,f,c);var h=this.ie();c.scale(h,h);c.translate(-d,-f);this.Ng?(this.Lf.left=this.ef.kf(this.kc),this.Lf.top=this.ef.lf(this.lc),this.Lf.right=this.ef.kf(this.yc),this.Lf.bottom=this.ef.lf(this.xc),this.Ii||!this.Lf.Dq(this.nr)?(e(this.nm),d=this.bz(),this.Ii=!1,this.nr.Jn(this.Lf)):d=this.nm):d=this.C;
for(var k,g=null,f=0,h=d.length;f<h;++f)k=d[f],k!==g&&(this.jF(k,c),g=k);this.Ng&&(this.nm=d);c.restore();this.Rj&&(a.globalCompositeOperation=this.In,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.jF=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ib();var c=a.ac;c.right<this.kc||c.bottom<this.lc||c.left>this.yc||c.top>this.xc||(b.globalCompositeOperation=a.In,a.Re(b))}};b.prototype.Vw=function(){this.xk=!0;var a=this.Oe(0,0,!0,!0),b=this.Oe(0,0,!1,!0);this.xk=!1;this.j.bg&&
(a=Math.round(a),b=Math.round(b));this.xw(a,b,null)};b.prototype.xw=function(a,b,c){var d=this.ie();this.kc=a;this.lc=b;this.yc=a+1/d*this.j.Xa;this.xc=b+1/d*this.j.Wa;a=this.Yc();0!==a&&(c&&(c.translate(this.j.Xa/2,this.j.Wa/2),c.rotate(-a),c.translate(this.j.Xa/-2,this.j.Wa/-2)),this.Qi.set(this.kc,this.lc,this.yc,this.xc),this.Qi.offset((this.kc+this.yc)/-2,(this.lc+this.xc)/-2),this.rB.dB(this.Qi,a),this.rB.ty(this.Qi),this.Qi.offset((this.kc+this.yc)/2,(this.lc+this.xc)/2),this.kc=this.Qi.left,
this.lc=this.Qi.top,this.yc=this.Qi.right,this.xc=this.Qi.bottom)};b.prototype.ge=function(a){var b=0,c=0;if(this.Rj=this.vu||1!==this.opacity||0<this.xb.length||0!==this.ze){this.j.sf||(this.j.sf=a.Zh(this.j.Xa,this.j.Wa,this.j.qb));if(this.j.sf.Gn!==this.j.Xa||this.j.sf.Fn!==this.j.Wa)a.deleteTexture(this.j.sf),this.j.sf=a.Zh(this.j.Xa,this.j.Wa,this.j.qb);a.Eh(this.j.sf);this.Ri&&a.clear(0,0,0,0)}this.Ri||a.clear(this.fj[0]/255,this.fj[1]/255,this.fj[2]/255,1);this.xk=!0;var d=this.Oe(0,0,!0,!0),
b=this.Oe(0,0,!1,!0);this.xk=!1;this.j.bg&&(d=Math.round(d),b=Math.round(b));this.xw(d,b,null);d=this.ie();a.Ch();a.scale(d,d);a.yw(-this.Yc());a.translate((this.kc+this.yc)/-2,(this.lc+this.xc)/-2);a.Kh();this.Ng?(this.Lf.left=this.ef.kf(this.kc),this.Lf.top=this.ef.lf(this.lc),this.Lf.right=this.ef.kf(this.yc),this.Lf.bottom=this.ef.lf(this.xc),this.Ii||!this.Lf.Dq(this.nr)?(e(this.nm),b=this.bz(),this.Ii=!1,this.nr.Jn(this.Lf)):b=this.nm):b=this.C;var f,h,k=null,c=0;for(f=b.length;c<f;++c)h=b[c],
h!==k&&(this.kF(b[c],a),k=h);this.Ng&&(this.nm=b);this.Rj&&(b=this.xb.length?this.xb[0].Ld:0,c=this.xb.length?this.xb[0].index:0,0===this.xb.length||1===this.xb.length&&!a.ow(b)&&1===this.opacity?(1===this.xb.length?(a.Fh(b),a.Om(this.$c.Vn(),1/this.j.Xa,1/this.j.Wa,0,0,1,1,d,this.Yc(),this.kc,this.lc,(this.kc+this.yc)/2,(this.lc+this.xc)/2,this.qc[c]),a.cs(b)&&(this.j.jb=!0)):a.Fh(0),a.Eh(this.$c.Vn()),a.Tj(this.opacity),a.He(this.j.sf),a.Sj(this.Wd,this.Qd),a.Ch(),a.Kh(),d=this.j.Xa/2,b=this.j.Wa/
2,a.es(-d,b,d,b,d,-b,-d,-b),a.He(null)):this.$c.vw(a,this,null,this.$c.Vn()))};b.prototype.kF=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ib();var c=a.ac;c.right<this.kc||c.bottom<this.lc||c.left>this.yc||c.top>this.xc||(a.IB?this.lF(a,b):(b.Fh(0),b.Sj(a.Wd,a.Qd),a.ge(b)))}};b.prototype.lF=function(a,b){var c=a.xb[0].Ld,d=a.xb[0].index,e=this.ie();if(1!==a.xb.length||b.ow(c)||b.WH(c)||(a.N||a.L.Yc())&&b.Xo(c)||1!==a.opacity||a.type.Ib.lA)this.$c.vw(b,this,a,this.Rj?this.j.sf:this.$c.Vn()),
b.Ch(),b.scale(e,e),b.yw(-this.Yc()),b.translate((this.kc+this.yc)/-2,(this.lc+this.xc)/-2),b.Kh();else{b.Fh(c);b.Sj(a.Wd,a.Qd);b.cs(c)&&(this.j.jb=!0);var f=0,h=0,k=0,g=0;b.Xo(c)&&(c=a.ac,f=this.eb(c.left,c.top,!0,!0),h=this.eb(c.left,c.top,!1,!0),k=this.eb(c.right,c.bottom,!0,!0),c=this.eb(c.right,c.bottom,!1,!0),f/=windowWidth,h=1-h/windowHeight,k/=windowWidth,g=1-c/windowHeight);b.Om(this.Rj?this.j.sf:this.$c.Vn(),1/a.width,1/a.height,f,h,k,g,e,this.Yc(),this.kc,this.lc,(this.kc+this.yc)/2,(this.lc+
this.xc)/2,a.qc[d]);a.ge(b)}};b.prototype.Oe=function(a,b,c,d){var e=this.j.devicePixelRatio;this.j.Mk&&(a*=e,b*=e);var e=this.j.DA,f=this.j.EA,e=(this.$c.scrollX-e)*this.$f+e,f=(this.$c.scrollY-f)*this.ag+f,h=e,k=f,g=1/this.ie(!d);d?(h-=this.j.Xa*g/2,k-=this.j.Wa*g/2):(h-=this.j.width*g/2,k-=this.j.height*g/2);h+=a*g;k+=b*g;b=this.Yc();0!==b&&(h-=e,k-=f,a=Math.cos(b),b=Math.sin(b),d=h*a-k*b,k=k*a+h*b,h=d+e,k+=f);return c?h:k};b.prototype.eb=function(a,b,c,d){var e=this.j.DA,f=this.j.EA,h=(this.$c.scrollX-
e)*this.$f+e,k=(this.$c.scrollY-f)*this.ag+f,f=h,e=k,g=this.Yc();if(0!==g){a-=h;b-=k;var m=Math.cos(-g),g=Math.sin(-g),y=a*m-b*g;b=b*m+a*g;a=y+h;b+=k}h=1/this.ie(!d);d?(f-=this.j.Xa*h/2,e-=this.j.Wa*h/2):(f-=this.j.width*h/2,e-=this.j.height*h/2);f=(a-f)/h;e=(b-e)/h;a=this.j.devicePixelRatio;this.j.Mk&&!d&&(f/=a,e/=a);return c?f:e};b.prototype.oc=function(){var a,b,c,d={s:this.scale,a:this.N,vl:this.kc,vt:this.lc,vr:this.yc,vb:this.xc,v:this.visible,bc:this.fj,t:this.Ri,px:this.$f,py:this.ag,o:this.opacity,
zr:this.Rg,fx:[],instances:[]};a=0;for(b=this.Na.length;a<b;a++)c=this.Na[a],d.fx.push({name:c.name,active:c.Bc,params:this.qc[c.index]});return d};b.prototype.Ic=function(a){var b,d;this.scale=a.s;this.N=a.a;this.kc=a.vl;this.lc=a.vt;this.yc=a.vr;this.xc=a.vb;this.visible=a.v;this.fj=a.bc;this.Ri=a.t;this.$f=a.px;this.ag=a.py;this.opacity=a.o;this.Rg=a.zr;var e=a.fx;a=0;for(b=e.length;a<b;a++)if(d=this.Du(e[a].name))d.Bc=e[a].active,this.qc[d.index]=e[a].params;this.Si();this.C.sort(c);this.tl=!0};
Vb=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,e,f,l;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=p.length&&(p.length=b.length+1);p[b.length]||(p[b.length]=[]);l=p[b.length];d=0;for(e=l.length;d<e;d++)if(f=l[d],a(b,f))return f;l.push(b);return b}
function d(a,b){this.j=a;this.uB={};this.Sy={};this.Ou=!1;this.jz=new ea;this.hu=[];this.Qt=[];this.name=b[0];var c=b[1];this.qj=[];var d,e;d=0;for(e=c.length;d<e;d++)this.mz(c[d],null,this.qj)}function e(a){this.type=a;this.C=[];this.yb=[];this.kb=!0}function g(a,b,c){this.sheet=a;this.parent=b;this.j=a.j;this.Bb=[];this.Uj=[];this.hz=this.Ks=this.Qw=this.Vu=this.group=this.Kw=!1;this.jd=[];this.Gf=[];this.hg=[];this.Yn="";this.Xn=this.Vu=this.group=!1;this.Dy=null;c[1]&&(this.Yn=c[1][1].toLowerCase(),
this.group=!0,this.Vu=!!c[1][0],this.Dy=[],this.Xn=this.Vu,this.j.Il.push(this),this.j.Zn[this.Yn]=this);this.Zf=c[2];this.lb=c[4];this.group||(this.j.ry[this.lb.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Wb(this,d[a]);e.index=a;this.jd.push(e);this.cy(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Xb(this,d[a]),e.index=a,this.Gf.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.mz(c[a],this,this.hg);this.er=!1;this.jd.length&&(this.er=null==this.jd[0].type&&
this.jd[0].Id==w.prototype.K.jC)}function f(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Ve))for(c=0,d=a.Qe.length;c<d;c++)e=a.Qe[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function m(a,b){this.of=a;this.sheet=a.sheet;this.j=a.j;this.Ta=[];this.Nb=[];this.da={};this.index=-1;this.An=!1;this.Id=this.j.Zi(b[1]);this.trigger=0<b[3];this.Ry=2===b[3];this.mh=b[4];this.Zl=b[5];this.XG=b[6];this.lb=b[7];this.j.Nl[this.lb.toString()]=this;-1===b[0]?(this.type=null,this.ed=this.Aw,this.pk=null,this.Hf=
-1):(this.type=this.j.ja[b[0]],this.ed=this.XG?this.fI:this.zw,b[2]?(this.pk=this.type.Sq(b[2]),this.Hf=this.type.Au(b[2])):(this.pk=null,this.Hf=-1),this.of.parent&&this.of.parent.ys());this.Ry&&(this.ed=this.gI);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var f=new Yb(this,e[c]);this.Ta.push(f)}this.Nb.length=e.length}}function k(a,b){this.of=a;this.sheet=a.sheet;this.j=a.j;this.Ta=[];this.Nb=[];this.da={};this.index=-1;this.An=!1;this.Id=this.j.Zi(b[1]);-1===b[0]?(this.type=null,
this.ed=this.Aw,this.pk=null,this.Hf=-1):(this.type=this.j.ja[b[0]],this.ed=this.zw,b[2]?(this.pk=this.type.Sq(b[2]),this.Hf=this.type.Au(b[2])):(this.pk=null,this.Hf=-1));this.lb=b[3];this.j.Hl[this.lb.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var f=new Yb(this,e[c]);this.Ta.push(f)}this.Nb.length=e.length}}function h(a,b){this.wa=a;this.of=a.of;this.sheet=a.sheet;this.j=a.j;this.type=b[0];this.dh=null;this.Vj=0;this.get=null;this.Cy=0;this.$c=null;this.key=0;this.object=
null;this.index=0;this.pp=this.pl=this.pp=this.pl=this.Ty=this.zk=this.qp=null;this.ig=!1;var c,d,e;switch(b[0]){case 0:case 7:this.dh=new Zb(this,b[1]);this.Vj=0;this.get=this.tG;break;case 1:this.dh=new Zb(this,b[1]);this.Vj=0;this.get=this.uG;break;case 5:this.dh=new Zb(this,b[1]);this.Vj=0;this.get=this.yG;break;case 3:case 8:this.Cy=b[1];this.get=this.rG;break;case 6:this.$c=this.j.pm[b[1]];this.get=this.zG;break;case 9:this.key=b[1];this.get=this.xG;break;case 4:this.object=this.j.ja[b[1]];
this.get=this.AG;this.of.cy(this.object);this.wa instanceof Xb?this.of.ys():this.of.parent&&this.of.parent.ys();break;case 10:this.index=b[1];a.type.xa?(this.get=this.vG,this.ig=!0):this.get=this.wG;break;case 11:this.qp=b[1];this.zk=null;this.get=this.sG;break;case 2:case 12:this.Ty=b[1];this.get=this.qG;break;case 13:for(this.get=this.BG,this.pl=[],this.pp=[],c=1,d=b.length;c<d;c++)e=new Yb(this.wa,b[c]),this.pl.push(e),this.pp.push(0)}}function n(a,b,c){this.sheet=a;this.parent=b;this.j=a.j;this.Bb=
[];this.name=c[1];this.rp=c[2];this.Uu=c[3];this.ko=!!c[4];this.dr=!!c[5];this.lb=c[6];this.j.Wm[this.lb.toString()]=this;this.data=this.Uu;this.parent?(this.$k=this.ko||this.dr?-1:this.j.pI++,this.j.yE.push(this)):(this.$k=-1,this.j.xE.push(this))}function l(a,b,c){this.sheet=a;this.parent=b;this.j=a.j;this.Bb=[];this.ao=null;this.IG=c[1];this.Bc=!0}function q(){this.nB=[];this.reset(null)}var p=[];d.prototype.toString=function(){return this.name};d.prototype.mz=function(a,b,c){switch(a[0]){case 0:a=
new $b(this,b,a);if(a.Zf)for(c.push(a),c=0,b=a.jd.length;c<b;c++)a.jd[c].trigger&&this.nz(a,c);else a.zz()?this.nz(a,0):c.push(a);break;case 1:a=new Sb(this,b,a);c.push(a);break;case 2:a=new ac(this,b,a),c.push(a)}};d.prototype.Lc=function(){var a,b;a=0;for(b=this.qj.length;a<b;a++)this.qj[a].Lc(a<b-1&&this.qj[a+1].er)};d.prototype.CB=function(){this.hu.length=0;this.Qt.length=0;this.by(this);this.Qt.length=0};d.prototype.by=function(a){var b,c,d,e,f=a.hu,l=a.Qt,h=this.jz.Pg();b=0;for(c=h.length;b<
c;++b)d=h[b],e=d.ao,!d.Bc||a===e||-1<l.indexOf(e)||(l.push(e),e.by(a),f.push(e))};d.prototype.ed=function(a){this.j.UJ||(this.Ou=!0,a||(this.j.$u=!0));var b,c;b=0;for(c=this.qj.length;b<c;b++){var d=this.qj[b];d.ed();this.j.Yt(d.Bb);this.j.uj&&this.j.Nd()}a||(this.j.$u=!1)};d.prototype.nz=function(a,b){a.Zf||this.j.Ps.push(a);var c,d,e=a.jd[b],f;f=e.type?e.type.name:"system";var l=(c=e.Ry)?this.Sy:this.uB;l[f]||(l[f]=[]);f=l[f];l=e.Id;if(c){if(e.Ta.length&&(e=e.Ta[0],1===e.type&&2===e.dh.type)){e=
e.dh.value.toLowerCase();c=0;for(d=f.length;c<d;c++)if(f[c].method==l){c=f[c].On;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];f.push({method:l,On:c})}}else{c=0;for(d=f.length;c<d;c++)if(f[c].method==l){f[c].On.push([a,b]);return}B&&l===B.prototype.K.Fl?f.unshift({method:l,On:[[a,b]]}):f.push({method:l,On:[[a,b]]})}};Eb=d;e.prototype.Nu=function(){return this.kb?this.type.C.length:this.C.length};e.prototype.qf=function(){return this.kb?this.type.C:this.C};e.prototype.Vo=function(a){a&&
(a.j.Zc().Uc.Zf?(this.kb&&(this.C.length=0,Aa(this.yb,a.type.C),this.kb=!1),a=this.yb.indexOf(a),-1!==a&&(this.C.push(this.yb[a]),this.yb.splice(a,1))):(this.kb=!1,this.C.length=1,this.C[0]=a))};nb=e;window._c2hh_="08D43C3361C7BABE34292091F3C762C20A2FF34C";g.prototype.Lc=function(a){var c,d=this.parent;if(this.group)for(this.Ks=!0;d;){if(!d.group){this.Ks=!1;break}d=d.parent}this.Qw=!this.zz()&&(!this.parent||this.parent.group&&this.parent.Ks);this.hz=!!a;this.Uj=this.Bb.slice(0);for(d=this.parent;d;){a=
0;for(c=d.Bb.length;a<c;a++)this.vE(d.Bb[a]);d=d.parent}this.Bb=b(this.Bb);this.Uj=b(this.Uj);a=0;for(c=this.jd.length;a<c;a++)this.jd[a].Lc();a=0;for(c=this.Gf.length;a<c;a++)this.Gf[a].Lc();a=0;for(c=this.hg.length;a<c;a++)this.hg[a].Lc(a<c-1&&this.hg[a+1].er)};g.prototype.cy=function(a){f(a,this.Bb)};g.prototype.vE=function(a){f(a,this.Uj)};g.prototype.ys=function(){this.Kw=!0;this.parent&&this.parent.ys()};g.prototype.zz=function(){return this.jd.length?this.jd[0].trigger:!1};g.prototype.ed=function(){var a,
b=!1,c,d=this.j,e=this.j.Zc();e.Uc=this;var f=this.jd;this.er||(e.ku=!1);if(this.Zf){0===f.length&&(b=!0);e.Tc=0;for(a=f.length;e.Tc<a;e.Tc++)f[e.Tc].trigger||(c=f[e.Tc].ed())&&(b=!0);(e.Sk=b)&&this.qs()}else{e.Tc=0;for(a=f.length;e.Tc<a;e.Tc++)if(c=f[e.Tc].ed(),!c){e.Sk=!1;this.Qw&&d.uj&&d.Nd();return}e.Sk=!0;this.qs()}this.vF(e)};g.prototype.vF=function(a){a.Sk&&this.hz&&(a.ku=!0);this.Qw&&this.j.uj&&this.j.Nd()};g.prototype.dI=function(a){this.j.Zc().Uc=this;this.jd[a].ed()&&(this.qs(),this.j.Zc().Sk=
!0)};g.prototype.qs=function(){var a=this.j.Zc(),b;a.ye=0;for(b=this.Gf.length;a.ye<b;a.ye++)if(this.Gf[a.ye].ed())return;this.XA()};g.prototype.bI=function(){var a=this.j.Zc(),b;for(b=this.Gf.length;a.ye<b;a.ye++)if(this.Gf[a.ye].ed())return;this.XA()};g.prototype.XA=function(){if(this.hg.length){var a,b,c,d,e=this.hg.length-1;this.j.ds(this);if(this.Kw)for(a=0,b=this.hg.length;a<b;a++)c=this.hg[a],(d=!this.Ks||!this.group&&a<e)&&this.j.Mm(c.Bb),c.ed(),d?this.j.Fi(c.Bb):this.j.Yt(c.Bb);else for(a=
0,b=this.hg.length;a<b;a++)this.hg[a].ed();this.j.Zr()}};g.prototype.eI=function(){var a=this.j.Zc();a.Uc=this;var b=!1,c;a.Tc=0;for(c=this.jd.length;a.Tc<c;a.Tc++)if(this.jd[a.Tc].ed())b=!0;else if(!this.Zf)return!1;return this.Zf?b:!0};g.prototype.$o=function(){this.j.Ak++;var a=this.j.Zc().Tc,b=this.j.ds(this);if(!this.Zf)for(b.Tc=a+1,a=this.jd.length;b.Tc<a;b.Tc++)if(!this.jd[b.Tc].ed())return this.j.Zr(),!1;this.qs();this.j.Zr();return!0};g.prototype.RG=function(a){var b=a.index;if(0===b)return!0;
for(--b;0<=b;--b)if(this.jd[b].type===a.type)return!1;return!0};$b=g;m.prototype.Lc=function(){var a,b,c;a=0;for(b=this.Ta.length;a<b;a++)c=this.Ta[a],c.Lc(),c.ig&&(this.An=!0)};m.prototype.gI=function(){return!0};m.prototype.Aw=function(){var a,b;a=0;for(b=this.Ta.length;a<b;a++)this.Nb[a]=this.Ta[a].get();return Ta(this.Id.apply(this.j.Gh,this.Nb),this.Zl)};m.prototype.fI=function(){var a,b;a=0;for(b=this.Ta.length;a<b;a++)this.Nb[a]=this.Ta[a].get();a=this.Id.apply(this.pk?this.pk:this.type,this.Nb);
this.type.sg();return a};m.prototype.zw=function(){var a,b,c,d,e,f,l,h,k=this.type,g=k.Ya(),n=this.of.Zf&&!this.trigger;b=0;var m=k.Ve,p=k.xa,q=k.di,s=this.Hf,u=-1<s,J=this.An,T=this.Ta,G=this.Nb,F=this.Zl,M=this.Id,P;if(J)for(b=0,e=T.length;b<e;++b)f=T[b],f.ig||(G[b]=f.get(0));else for(b=0,e=T.length;b<e;++b)G[b]=T[b].get(0);if(g.kb){g.C.length=0;g.yb.length=0;P=k.C;a=0;for(d=P.length;a<d;++a){h=P[a];if(J)for(b=0,e=T.length;b<e;++b)f=T[b],f.ig&&(G[b]=f.get(a));u?(b=0,p&&(b=h.type.Ul[q]),b=M.apply(h.Qa[s+
b],G)):b=M.apply(h,G);(l=Ta(b,F))?g.C.push(h):n&&g.yb.push(h)}k.finish&&k.finish(!0);g.kb=!1;k.sg();return g.Nu()}c=0;P=(l=n&&!this.of.RG(this))?g.yb:g.C;var U=!1;a=0;for(d=P.length;a<d;++a){h=P[a];if(J)for(b=0,e=T.length;b<e;++b)f=T[b],f.ig&&(G[b]=f.get(a));u?(b=0,p&&(b=h.type.Ul[q]),b=M.apply(h.Qa[s+b],G)):b=M.apply(h,G);if(Ta(b,F))if(U=!0,l){if(g.C.push(h),m)for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],f.type.Ya().C.push(f)}else{P[c]=h;if(m)for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],
f.type.Ya().C[c]=f;c++}else if(l){P[c]=h;if(m)for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],f.type.Ya().yb[c]=f;c++}else if(n&&(g.yb.push(h),m))for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],f.type.Ya().yb.push(f)}P.length=c;if(m)for(p=k.Qe,a=0,d=p.length;a<d;a++)h=p[a].Ya(),l?h.yb.length=c:h.C.length=c;c=U;if(l&&!U)for(a=0,d=g.C.length;a<d;a++){h=g.C[a];if(J)for(b=0,e=T.length;b<e;b++)f=T[b],f.ig&&(G[b]=f.get(a));b=u?M.apply(h.Qa[s],G):M.apply(h,G);if(Ta(b,F)){U=!0;break}}k.finish&&k.finish(c||
n);return n?U:g.Nu()};Wb=m;k.prototype.Lc=function(){var a,b,c;a=0;for(b=this.Ta.length;a<b;a++)c=this.Ta[a],c.Lc(),c.ig&&(this.An=!0)};k.prototype.Aw=function(){var a,b;a=0;for(b=this.Ta.length;a<b;a++)this.Nb[a]=this.Ta[a].get();return this.Id.apply(this.j.Gh,this.Nb)};k.prototype.zw=function(){var a=this.type.Ya().qf(),b=this.type.xa,c=this.type.di,d=this.Hf,e=-1<d,f=this.An,l=this.Ta,h=this.Nb,k=this.Id,g,n,m,p,q,s;if(f)for(n=0,p=l.length;n<p;++n)q=l[n],q.ig||(h[n]=q.get(0));else for(n=0,p=l.length;n<
p;++n)h[n]=l[n].get(0);g=0;for(m=a.length;g<m;++g){s=a[g];if(f)for(n=0,p=l.length;n<p;++n)q=l[n],q.ig&&(h[n]=q.get(g));e?(n=0,b&&(n=s.type.Ul[c]),k.apply(s.Qa[d+n],h)):k.apply(s,h)}return!1};Xb=k;var s=[],u=-1;h.prototype.Lc=function(){var a,b;if(11===this.type)this.zk=this.j.Yy(this.qp,this.of.parent);else if(13===this.type)for(a=0,b=this.pl.length;a<b;a++)this.pl[a].Lc();this.dh&&this.dh.Lc()};h.prototype.zH=function(a){this.ig||!a||a.Ib.Cs||(this.ig=!0)};h.prototype.bB=function(){this.ig=!0};h.prototype.td=
function(){u++;s.length===u&&s.push(new bc);return s[u]};h.prototype.dd=function(){u--};h.prototype.tG=function(a){this.Vj=a||0;a=this.td();this.dh.get(a);this.dd();return a.data};h.prototype.uG=function(a){this.Vj=a||0;a=this.td();this.dh.get(a);this.dd();return la(a.data)?a.data:""};h.prototype.AG=function(){return this.object};h.prototype.rG=function(){return this.Cy};h.prototype.yG=function(a){this.Vj=a||0;a=this.td();this.dh.get(a);this.dd();return a.Bd()?this.j.Un(a.data):this.j.Fu(a.data)};
h.prototype.zG=function(){return this.$c};h.prototype.xG=function(){return this.key};h.prototype.wG=function(){return this.index};h.prototype.vG=function(a){a=a||0;var b=this.wa.type,c=null,c=b.Ya(),d=c.qf();if(d.length)c=d[a%d.length].type;else if(c.yb.length)c=c.yb[a%c.yb.length].type;else if(b.C.length)c=b.C[a%b.C.length].type;else return 0;return this.index+c.Gq[b.di]};h.prototype.sG=function(){return this.zk};h.prototype.qG=function(){return this.Ty};h.prototype.BG=function(){var a,b;a=0;for(b=
this.pl.length;a<b;a++)this.pp[a]=this.pl[a].get();return this.pp};Yb=h;n.prototype.Lc=function(){this.Bb=b(this.Bb)};n.prototype.Ni=function(a){var b=this.j.Xy();this.parent&&!this.ko&&b?(this.$k>=b.length&&(b.length=this.$k+1),b[this.$k]=a):this.data=a};n.prototype.Ek=function(){var a=this.j.Xy();return!this.parent||this.ko||!a||this.dr?this.data:this.$k>=a.length||"undefined"===typeof a[this.$k]?this.Uu:a[this.$k]};n.prototype.ed=function(){!this.parent||this.ko||this.dr||this.Ni(this.Uu)};Sb=
n;l.prototype.toString=function(){return"include:"+this.ao.toString()};l.prototype.Lc=function(){this.ao=this.j.nu[this.IG];this.sheet.jz.add(this);this.Bb=b(this.Bb);for(var a=this.parent;a;)a.group&&a.Dy.push(this),a=a.parent;this.zI()};l.prototype.ed=function(){this.parent&&this.j.Zo(this.j.ja);this.ao.Ou||this.ao.ed(!0);this.parent&&this.j.Fi(this.j.ja)};l.prototype.zI=function(){for(var a=this.parent;a;){if(a.group&&!a.Xn){this.Bc=!1;return}a=a.parent}this.Bc=!0};ac=l;q.prototype.reset=function(a){this.Uc=
a;this.ye=this.Tc=0;this.nB.length=0;this.ku=this.Sk=!1};q.prototype.tz=function(){return this.Uc.Kw?!0:this.Tc<this.Uc.jd.length-1?!!this.Uc.Bb.length:!1};Rb=q})();
(function(){function a(a,c){this.wa=a;this.j=a.j;this.type=c[0];this.get=[this.IF,this.EF,this.QF,this.TF,this.yF,this.RF,this.MF,this.BF,this.LF,this.PF,this.zF,this.OF,this.CF,this.NF,this.JF,this.KF,this.FF,this.GF,this.AF,this.SF,this.Py,this.HF,this.Py,this.DF][this.type];var e=null;this.Ee=this.Ta=this.Nb=this.Id=this.Hs=this.Fd=this.first=this.value=null;this.Hf=-1;this.gi=null;this.$w=-1;this.zk=this.qp=null;this.bp=!1;switch(this.type){case 0:case 1:case 2:this.value=c[1];break;case 3:this.first=
new Zb(a,c[1]);break;case 18:this.first=new Zb(a,c[1]);this.Fd=new Zb(a,c[2]);this.Hs=new Zb(a,c[3]);break;case 19:this.Id=this.j.Zi(c[1]);this.Id!==w.prototype.Cb.random&&this.Id!==w.prototype.Cb.Ay||this.wa.bB();this.Nb=[];this.Ta=[];3===c.length?(e=c[2],this.Nb.length=e.length+1):this.Nb.length=1;break;case 20:this.Ee=this.j.ja[c[1]];this.Hf=-1;this.Id=this.j.Zi(c[2]);this.bp=c[3];ec.Function&&this.Id===ec.Function.prototype.Cb.RI&&this.wa.bB();this.gi=c[4]?new Zb(a,c[4]):null;this.Nb=[];this.Ta=
[];6===c.length?(e=c[5],this.Nb.length=e.length+1):this.Nb.length=1;break;case 21:this.Ee=this.j.ja[c[1]];this.bp=c[2];this.gi=c[3]?new Zb(a,c[3]):null;this.$w=c[4];break;case 22:this.Ee=this.j.ja[c[1]];this.Ee.Sq(c[2]);this.Hf=this.Ee.Au(c[2]);this.Id=this.j.Zi(c[3]);this.bp=c[4];this.gi=c[5]?new Zb(a,c[5]):null;this.Nb=[];this.Ta=[];7===c.length?(e=c[6],this.Nb.length=e.length+1):this.Nb.length=1;break;case 23:this.qp=c[1],this.zk=null}this.wa.zH(this.Ee);4<=this.type&&17>=this.type&&(this.first=
new Zb(a,c[1]),this.Fd=new Zb(a,c[2]));if(e){var g,f;g=0;for(f=e.length;g<f;g++)this.Ta.push(new Zb(a,e[g]))}}function c(a,c){this.type=a||cc.El;this.data=c||0;this.Im=null;this.type==cc.El&&(this.data=Math.floor(this.data))}a.prototype.Lc=function(){23===this.type&&(this.zk=this.wa.j.Yy(this.qp,this.wa.of.parent));this.first&&this.first.Lc();this.Fd&&this.Fd.Lc();this.Hs&&this.Hs.Lc();this.gi&&this.gi.Lc();if(this.Ta){var a,c;a=0;for(c=this.Ta.length;a<c;a++)this.Ta[a].Lc()}};a.prototype.SF=function(a){this.Nb[0]=
a;a=this.wa.td();var c,e;c=0;for(e=this.Ta.length;c<e;c++)this.Ta[c].get(a),this.Nb[c+1]=a.data;this.wa.dd();this.Id.apply(this.j.Gh,this.Nb)};a.prototype.Py=function(a){var c=this.Ee.Ya(),e=c.qf();if(!e.length)if(c.yb.length)e=c.yb;else{this.bp?a.Kd(""):a.Ob(0);return}this.Nb[0]=a;a.Im=this.Ee;a=this.wa.td();var g,c=0;for(g=this.Ta.length;c<g;c++)this.Ta[c].get(a),this.Nb[c+1]=a.data;c=this.wa.Vj;this.gi&&(this.gi.get(a),a.Bd()&&(c=a.data,e=this.Ee.C));this.wa.dd();c%=e.length;0>c&&(c+=e.length);
e=e[c];-1<this.Hf?(a=0,this.Ee.xa&&(a=e.type.Ul[this.Ee.di]),this.Id.apply(e.Qa[this.Hf+a],this.Nb)):this.Id.apply(e,this.Nb)};a.prototype.HF=function(a){var c=this.Ee.Ya(),e=c.qf();if(!e.length)if(c.yb.length)e=c.yb;else{this.bp?a.Kd(""):a.Ob(0);return}c=this.wa.Vj;if(this.gi){var g=this.wa.td();this.gi.get(g);if(g.Bd()){c=g.data;e=this.Ee.C;c%=e.length;0>c&&(c+=e.length);e=e[c].qd[this.$w];la(e)?a.Kd(e):a.Da(e);this.wa.dd();return}this.wa.dd()}c%=e.length;0>c&&(c+=e.length);e=e[c];c=0;this.Ee.xa&&
(c=e.type.Gq[this.Ee.di]);e=e.qd[this.$w+c];la(e)?a.Kd(e):a.Da(e)};a.prototype.IF=function(a){a.type=cc.El;a.data=this.value};a.prototype.EF=function(a){a.type=cc.zl;a.data=this.value};a.prototype.QF=function(a){a.type=cc.String;a.data=this.value};a.prototype.TF=function(a){this.first.get(a);a.Bd()&&(a.data=-a.data)};a.prototype.yF=function(a){this.first.get(a);var c=this.wa.td();this.Fd.get(c);a.Bd()&&c.Bd()&&(a.data+=c.data,c.em()&&a.Dm());this.wa.dd()};a.prototype.RF=function(a){this.first.get(a);
var c=this.wa.td();this.Fd.get(c);a.Bd()&&c.Bd()&&(a.data-=c.data,c.em()&&a.Dm());this.wa.dd()};a.prototype.MF=function(a){this.first.get(a);var c=this.wa.td();this.Fd.get(c);a.Bd()&&c.Bd()&&(a.data*=c.data,c.em()&&a.Dm());this.wa.dd()};a.prototype.BF=function(a){this.first.get(a);var c=this.wa.td();this.Fd.get(c);a.Bd()&&c.Bd()&&(a.data/=c.data,a.Dm());this.wa.dd()};a.prototype.LF=function(a){this.first.get(a);var c=this.wa.td();this.Fd.get(c);a.Bd()&&c.Bd()&&(a.data%=c.data,c.em()&&a.Dm());this.wa.dd()};
a.prototype.PF=function(a){this.first.get(a);var c=this.wa.td();this.Fd.get(c);a.Bd()&&c.Bd()&&(a.data=Math.pow(a.data,c.data),c.em()&&a.Dm());this.wa.dd()};a.prototype.zF=function(a){this.first.get(a);var c=this.wa.td();this.Fd.get(c);a.Bd()?c.gr()?a.Kd(a.data.toString()+c.data):a.data&&c.data?a.Ob(1):a.Ob(0):a.gr()&&(a.data=c.gr()?a.data+c.data:a.data+(Math.round(1E10*c.data)/1E10).toString());this.wa.dd()};a.prototype.OF=function(a){this.first.get(a);var c=this.wa.td();this.Fd.get(c);a.Bd()&&c.Bd()&&
(a.data||c.data?a.Ob(1):a.Ob(0));this.wa.dd()};a.prototype.AF=function(a){this.first.get(a);a.data?this.Fd.get(a):this.Hs.get(a)};a.prototype.CF=function(a){this.first.get(a);var c=this.wa.td();this.Fd.get(c);a.Ob(a.data===c.data?1:0);this.wa.dd()};a.prototype.NF=function(a){this.first.get(a);var c=this.wa.td();this.Fd.get(c);a.Ob(a.data!==c.data?1:0);this.wa.dd()};a.prototype.JF=function(a){this.first.get(a);var c=this.wa.td();this.Fd.get(c);a.Ob(a.data<c.data?1:0);this.wa.dd()};a.prototype.KF=function(a){this.first.get(a);
var c=this.wa.td();this.Fd.get(c);a.Ob(a.data<=c.data?1:0);this.wa.dd()};a.prototype.FF=function(a){this.first.get(a);var c=this.wa.td();this.Fd.get(c);a.Ob(a.data>c.data?1:0);this.wa.dd()};a.prototype.GF=function(a){this.first.get(a);var c=this.wa.td();this.Fd.get(c);a.Ob(a.data>=c.data?1:0);this.wa.dd()};a.prototype.DF=function(a){var c=this.zk.Ek();ka(c)?a.Da(c):a.Kd(c)};Zb=a;c.prototype.em=function(){return this.type===cc.zl};c.prototype.Bd=function(){return this.type===cc.El||this.type===cc.zl};
c.prototype.gr=function(){return this.type===cc.String};c.prototype.Dm=function(){this.em()||(this.gr()&&(this.data=parseFloat(this.data)),this.type=cc.zl)};c.prototype.Ob=function(a){this.type=cc.El;this.data=Math.floor(a)};c.prototype.Da=function(a){this.type=cc.zl;this.data=a};c.prototype.Kd=function(a){this.type=cc.String;this.data=a};c.prototype.oI=function(a){ka(a)?(this.type=cc.zl,this.data=a):la(a)?(this.type=cc.String,this.data=a.toString()):(this.type=cc.El,this.data=0)};bc=c;cc={El:0,zl:1,
String:2}})();function w(a){this.j=a;this.Je=[]}
w.prototype.oc=function(){var a={},c,b,d,e,g,f,m,k;a.waits=[];var h=a.waits,n;c=0;for(b=this.Je.length;c<b;c++){f=this.Je[c];n={t:f.time,st:f.iB,s:f.Jw,ev:f.Rl.lb,sm:[],sols:{}};f.Rl.Gf[f.ye]&&(n.act=f.Rl.Gf[f.ye].lb);d=0;for(e=f.Bb.length;d<e;d++)n.sm.push(f.Bb[d].lb);for(g in f.xe)if(f.xe.hasOwnProperty(g)){m=this.j.ja[parseInt(g,10)];k={sa:f.xe[g].rs,insts:[]};d=0;for(e=f.xe[g].hi.length;d<e;d++)k.insts.push(f.xe[g].hi[d].uid);n.sols[m.lb.toString()]=k}h.push(n)}return a};
w.prototype.Ic=function(a){a=a.waits;var c,b,d,e,g,f,m,k,h,n,l;c=this.Je.length=0;for(b=a.length;c<b;c++)if(f=a[c],k=this.j.ry[f.ev.toString()]){h=-1;d=0;for(e=k.Gf.length;d<e;d++)if(k.Gf[d].lb===f.act){h=d;break}if(-1!==h){m={xe:{},Bb:[],iu:!1};m.time=f.t;m.iB=f.st||"";m.Jw=!!f.s;m.Rl=k;m.ye=h;d=0;for(e=f.sm.length;d<e;d++)(k=this.j.Wq(f.sm[d]))&&m.Bb.push(k);for(g in f.sols)if(f.sols.hasOwnProperty(g)&&(k=this.j.Wq(parseInt(g,10)))){h=f.sols[g];n={rs:h.sa,hi:[]};d=0;for(e=h.insts.length;d<e;d++)(l=
this.j.fi(h.insts[d]))&&n.hi.push(l);m.xe[k.index.toString()]=n}this.Je.push(m)}}};
(function(){function a(){}function c(){}function b(){}var d=w.prototype;a.prototype.lC=function(){return!0};a.prototype.Ix=function(){return!0};a.prototype.gD=function(){return!0};a.prototype.aC=function(a,b,c){return dc(a,b,c)};a.prototype.cC=function(a,b){var c=this.j.le.Va;if(0===a){var d=this.j.Ck();return!d.da.CompareTime_executed&&c>=b?d.da.CompareTime_executed=!0:!1}return dc(c,a,b)};a.prototype.KC=function(a){return a?a.visible:!1};a.prototype.jE=function(){var a=this.j.Zc(),b=a.Uc,c=a.tz(),
a=this.j.QA();if(c)for(c=0;!a.Nc;c++)this.j.Mm(b.Bb),a.index=c,b.$o()||(a.Nc=!0),this.j.Fi(b.Bb);else for(c=0;!a.Nc;c++)a.index=c,b.$o()||(a.Nc=!0);this.j.IA();return!1};var e=[],g=-1;a.prototype.nC=function(a){var b=a.Ya();g++;e.length===g&&e.push([]);var c=e[g];Aa(c,b.qf());var d=this.j.Zc(),f=d.Uc,m=d.tz(),d=this.j.QA(),s,u,t,z,A,H,y=a.Ve;if(m)for(m=0,s=c.length;m<s&&!d.Nc;m++){this.j.Mm(f.Bb);z=c[m];b=a.Ya();b.kb=!1;b.C.length=1;b.C[0]=z;if(y)for(u=0,t=z.siblings.length;u<t;u++)A=z.siblings[u],
H=A.type.Ya(),H.kb=!1,H.C.length=1,H.C[0]=A;d.index=m;f.$o();this.j.Fi(f.Bb)}else for(b.kb=!1,b.C.length=1,m=0,s=c.length;m<s&&!d.Nc;m++){z=c[m];b.C[0]=z;if(y)for(u=0,t=z.siblings.length;u<t;u++)A=z.siblings[u],H=A.type.Ya(),H.kb=!1,H.C.length=1,H.C[0]=A;d.index=m;f.$o()}c.length=0;this.j.IA();g--;return!1};a.prototype.fE=function(){var a=this.j.Ck().da;"undefined"===typeof a.TriggerOnce_lastTick&&(a.TriggerOnce_lastTick=-1);var b=a.TriggerOnce_lastTick,c=this.j.gf;a.TriggerOnce_lastTick=c;return this.j.rv||
b!==c-1};a.prototype.kC=function(a){var b=this.j.Ck(),c=b.da.Every_lastTime||0,d=this.j.le.Va;"undefined"===typeof b.da.Every_seconds&&(b.da.Every_seconds=a);var e=b.da.Every_seconds;if(d>=c+e)return b.da.Every_lastTime=c+e,d>=b.da.Every_lastTime+.04&&(b.da.Every_lastTime=d),b.da.Every_seconds=a,!0;d<c-.1&&(b.da.Every_lastTime=d);return!1};a.prototype.dC=function(a,b,c){return dc(a.Ek(),b,c)};a.prototype.zC=function(a){return(a=this.j.Zn[a.toLowerCase()])&&a.Xn};a.prototype.jC=function(){var a=this.j.Zc();
return a.ku?!1:!a.Sk};a.prototype.Jx=function(){return!0};a.prototype.XC=function(){return!0};a.prototype.xt=function(){return!0};a.prototype.hD=function(){return!0};a.prototype.tt=function(){return!0};a.prototype.TB=function(a,b,c){return Ma(v(a),v(c))<=v(b)};a.prototype.xC=function(a,b){return Oa(v(a),v(b))};a.prototype.Ax=function(a,b,c){a=Ka(a);b=Ka(b);c=Ka(c);return Oa(c,b)?Oa(a,b)&&!Oa(a,c):!(!Oa(a,b)&&Oa(a,c))};d.K=new a;c.prototype.tC=function(a){this.j.hm||this.j.sk||(this.j.sk=a)};c.prototype.JD=
function(a,b){a&&a.visible!==b&&(a.visible=b,this.j.jb=!0)};c.prototype.RD=function(a,b){0===a.rp?ka(b)?a.Ni(b):a.Ni(parseFloat(b)):1===a.rp&&a.Ni(b.toString())};c.prototype.RB=function(a,b){0===a.rp?ka(b)?a.Ni(a.Ek()+b):a.Ni(a.Ek()+parseFloat(b)):1===a.rp&&a.Ni(a.Ek()+b.toString())};c.prototype.dE=function(a,b){0===a.rp&&(ka(b)?a.Ni(a.Ek()-b):a.Ni(a.Ek()-parseFloat(b)))};c.prototype.PD=function(a){0>a&&(a=0);this.j.Jh=a};var f=[],m=[];c.prototype.iE=function(a){if(!(0>a)){var b,c,d,e=this.j.Zc(),
g;g=f.length?f.pop():{xe:{},Bb:[]};g.iu=!1;g.time=this.j.le.Va+a;g.iB="";g.Jw=!1;g.Rl=e.Uc;g.ye=e.ye+1;a=0;for(b=this.j.ja.length;a<b;a++)d=this.j.ja[a],c=d.Ya(),c.kb&&-1===e.Uc.Bb.indexOf(d)||(g.Bb.push(d),d=void 0,d=m.length?m.pop():{hi:[]},d.rs=!1,d.rs=c.kb,Aa(d.hi,c.C),g.xe[a.toString()]=d);this.Je.push(g);return!0}};c.prototype.uC=function(a){if(!this.j.hm&&!this.j.sk)for(var b in this.j.pm)if(this.j.pm.hasOwnProperty(b)&&jb(b,a)){this.j.sk=this.j.pm[b];break}};c.prototype.CD=function(a){this.j.ts=
a};c.prototype.MC=function(a){this.j.uo=a};d.ca=new c;b.prototype["int"]=function(a,b){la(b)?(a.Ob(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.Ob(b)};b.prototype["float"]=function(a,b){la(b)?(a.Da(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.Da(b)};b.prototype.random=function(a,b,c){void 0===c?a.Da(Math.random()*b):a.Da(Math.random()*(c-b)+b)};b.prototype.sqrt=function(a,b){a.Da(Math.sqrt(b))};b.prototype.abs=function(a,b){a.Da(Math.abs(b))};b.prototype.round=function(a,b){a.Ob(Math.round(b))};b.prototype.floor=
function(a,b){a.Ob(Math.floor(b))};b.prototype.ceil=function(a,b){a.Ob(Math.ceil(b))};b.prototype.sin=function(a,b){a.Da(Math.sin(v(b)))};b.prototype.cos=function(a,b){a.Da(Math.cos(v(b)))};b.prototype.tan=function(a,b){a.Da(Math.tan(v(b)))};b.prototype.asin=function(a,b){a.Da(Ga(Math.asin(b)))};b.prototype.acos=function(a,b){a.Da(Ga(Math.acos(b)))};b.prototype.atan=function(a,b){a.Da(Ga(Math.atan(b)))};b.prototype.exp=function(a,b){a.Da(Math.exp(b))};b.prototype.log10=function(a,b){a.Da(Math.log(b)/
Math.LN10)};b.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b<e&&(b=e);a.Da(b)};b.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b>e&&(b=e);a.Da(b)};b.prototype.Ra=function(a){a.Da(this.j.Ra)};b.prototype.Jh=function(a){a.Da(this.j.Jh)};b.prototype.time=function(a){a.Da(this.j.le.Va)};b.prototype.gf=
function(a){a.Ob(this.j.gf)};b.prototype.Ur=function(a){a.Ob(this.j.Ur)};b.prototype.wu=function(a){a.Ob(this.j.wu)};b.prototype.ah=function(a,b,c,d,e){a.Da(Sa(b,c,d,e))};b.prototype.N=function(a,b,c,d,e){a.Da(Ga(La(b,c,d,e)))};b.prototype.find=function(a,b,c){la(b)&&la(c)?a.Ob(b.search(new RegExp(bb(c),"i"))):a.Ob(-1)};b.prototype.left=function(a,b,c){a.Kd(la(b)?b.substr(0,c):"")};b.prototype.right=function(a,b,c){a.Kd(la(b)?b.substr(b.length-c):"")};b.prototype.replace=function(a,b,c,d){la(b)&&
la(c)&&la(d)?a.Kd(b.replace(new RegExp(bb(c),"gi"),d)):a.Kd(la(b)?b:"")};b.prototype.trim=function(a,b){a.Kd(la(b)?b.trim():"")};b.prototype.Ay=function(a){var b=ta(Math.random()*(arguments.length-1));a.oI(arguments[b+1])};b.prototype.du=function(a){a.Da(this.j.du/1E3)};b.prototype.tm=function(a){a.Da(this.j.tm)};d.Cb=new b;d.cI=function(){var a,b,c,d,e,g,s=this.j.Zc();a=0;for(c=this.Je.length;a<c;a++){d=this.Je[a];if(-1===d.time){if(!d.Jw)continue}else if(d.time>this.j.le.Va)continue;s.Uc=d.Rl;s.ye=
d.ye;s.Tc=0;for(b in d.xe)d.xe.hasOwnProperty(b)&&(e=this.j.ja[parseInt(b,10)].Ya(),g=d.xe[b],e.kb=g.rs,Aa(e.C,g.hi),e=g,e.hi.length=0,m.push(e));d.Rl.bI();this.j.Yt(d.Bb);d.iu=!0}b=a=0;for(c=this.Je.length;a<c;a++)d=this.Je[a],this.Je[b]=d,d.iu?(Wa(d.xe),d.Bb.length=0,f.push(d)):b++;this.Je.length=b}})();
(function(){mb=function(a,b){var d=a[1],e=a[3],g=a[4],f=a[5],m=a[6],k=a[7],h=a[8];b.K||(b.K={});b.ca||(b.ca={});b.Cb||(b.Cb={});var n=b.K,l=b.ca,q=b.Cb;e&&(n.eC=function(a,b){return dc(this.x,a,b)},n.VI=function(a,b){return dc(this.y,a,b)},n.DC=function(){var a=this.L;this.ib();var b=this.ac;return!(b.right<a.kc||b.bottom<a.lc||b.left>a.yc||b.top>a.xc)},n.EC=function(){this.ib();var a=this.ac,b=this.j.jc;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},n.mJ=function(a,b,c){var d=this.Ya(),
e=d.qf();if(!e.length)return!1;var f=e[0],l=f,g=Sa(f.x,f.y,b,c),h,m,n;h=1;for(m=e.length;h<m;h++)if(f=e[h],n=Sa(f.x,f.y,b,c),0===a&&n<g||1===a&&n>g)g=n,l=f;d.Vo(l);return!0},l.BJ=function(a){this.x!==a&&(this.x=a,this.ba())},l.CJ=function(a){this.y!==a&&(this.y=a,this.ba())},l.ND=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.ba()},l.OD=function(a,b){var c=a.kG(this);if(c){var d;c.Qf?(d=c.Qf(b,!0),c=c.Qf(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.ba()}},
l.fJ=function(a){0!==a&&(this.x+=Math.cos(this.N)*a,this.y+=Math.sin(this.N)*a,this.ba())},l.eJ=function(a,b){0!==b&&(this.x+=Math.cos(v(a))*b,this.y+=Math.sin(v(a))*b,this.ba())},q.Kt=function(a){a.Da(this.x)},q.Lt=function(a){a.Da(this.y)},q.Ra=function(a){a.Da(this.j.sj(this))});g&&(n.UI=function(a,b){return dc(this.width,a,b)},n.SI=function(a,b){return dc(this.height,a,b)},l.TD=function(a){this.width!==a&&(this.width=a,this.ba())},l.yJ=function(a){this.height!==a&&(this.height=a,this.ba())},l.AJ=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.ba()},q.GJ=function(a){a.Da(this.width)},q.XI=function(a){a.Da(this.height)},q.NI=function(a){this.ib();a.Da(this.ac.left)},q.QI=function(a){this.ib();a.Da(this.ac.top)},q.OI=function(a){this.ib();a.Da(this.ac.right)},q.MI=function(a){this.ib();a.Da(this.ac.bottom)});f&&(n.TB=function(a,b){return Ma(this.N,v(b))<=v(a)},n.xC=function(a){return Oa(this.N,v(a))},n.Ax=function(a,b){var c=Ka(a),d=Ka(b),e=Ia(this.N);return Oa(d,
c)?Oa(e,c)&&!Oa(e,d):!(!Oa(e,c)&&Oa(e,d))},l.un=function(a){a=v(Ha(a));isNaN(a)||this.N===a||(this.N=a,this.ba())},l.AD=function(a){0===a||isNaN(a)||(this.N+=v(a),this.N=Ia(this.N),this.ba())},l.sJ=function(a){0===a||isNaN(a)||(this.N-=v(a),this.N=Ia(this.N),this.ba())},l.tJ=function(a,b){var c=Na(this.N,v(b),v(a));isNaN(c)||this.N===c||(this.N=c,this.ba())},l.BD=function(a,b,c){a=Na(this.N,Math.atan2(c-this.y,b-this.x),v(a));isNaN(a)||this.N===a||(this.N=a,this.ba())},l.QD=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.N===c||(this.N=c,this.ba())},q.SB=function(a){a.Da(Ja(this.N))});d||(n.bC=function(a,b,c){return dc(this.qd[a],b,c)},n.ZI=function(a){return this.qd[a]},n.nJ=function(a,b){var c=this.Ya(),d=c.qf();if(!d.length)return!1;var e=d[0],f=e,l=e.qd[b],g,h,m;g=1;for(h=d.length;g<h;g++)if(e=d[g],m=e.qd[b],0===a&&m<l||1===a&&m>l)l=m,f=e;c.Vo(f);return!0},n.lJ=function(a){var b,c,d,e,f;if(this.j.Ck().Zl){f=this.Ya();if(f.kb)for(f.kb=!1,f.C.length=0,f.yb.length=0,d=this.C,b=0,c=
d.length;b<c;b++)e=d[b],e.uid===a?f.yb.push(e):f.C.push(e);else{d=b=0;for(c=f.C.length;b<c;b++)e=f.C[b],f.C[d]=e,e.uid===a?f.yb.push(e):d++;f.C.length=d}this.sg();return!!f.C.length}e=this.j.fi(a);if(!e)return!1;f=this.Ya();if(!f.kb&&-1===f.C.indexOf(e))return!1;if(this.xa)for(a=e.type.mc,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.Vo(e),this.sg(),!0}else if(e.type===this)return f.Vo(e),this.sg(),!0;return!1},n.ot=function(){return!0},n.ZC=function(){return!0},l.ID=function(a,b){var c=this.qd;
ka(c[a])?c[a]=ka(b)?b:parseFloat(b):la(c[a])&&(c[a]=la(b)?b:b.toString())},l.OB=function(a,b){var c=this.qd;ka(c[a])?c[a]=ka(b)?c[a]+b:c[a]+parseFloat(b):la(c[a])&&(c[a]=la(b)?c[a]+b:c[a]+b.toString())},l.cE=function(a,b){var c=this.qd;ka(c[a])&&(c[a]=ka(b)?c[a]-b:c[a]-parseFloat(b))},l.uJ=function(a,b){this.qd[a]=b?1:0},l.EJ=function(a){this.qd[a]=1-this.qd[a]},l.Yd=function(){this.j.Qh(this)},l.LC||(l.LC=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.j.Ar(this,b,!0);this.pg&&this.pg();
if(this.Qa)for(a=0,b=this.Qa.length;a<b;++a)c=this.Qa[a],c.pg&&c.pg()}),q.WI=function(a){var b=a.Im.C.length,c,d,e;c=0;for(d=this.j.tg.length;c<d;c++)e=this.j.tg[c],a.Im.xa?0<=e.type.mc.indexOf(a.Im)&&b++:e.type===a.Im&&b++;a.Ob(b)},q.pJ=function(a){a.Ob(a.Im.Ya().qf().length)},q.FJ=function(a){a.Ob(this.uid)},q.YI=function(a){a.Ob(this.Wn())},q.UB||(q.UB=function(a){a.Kd(JSON.stringify(this.j.Bw(this,!0)))}));m&&(n.IC=function(){return this.visible},l.Qp=function(a){!a!==!this.visible&&(this.visible=
a,this.j.jb=!0)},n.TI=function(a,b){return dc(ib(100*this.opacity),a,b)},l.zJ=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.j.jb=!0)},q.Opacity=function(a){a.Da(ib(100*this.opacity))});k&&(n.$I=function(a){return a?this.L===a:!1},n.oJ=function(a){var b=this.Ya(),c=b.qf();if(!c.length)return!1;var d=c[0],e=d,f,l;f=1;for(l=c.length;f<l;f++)if(d=c[f],0===a){if(d.L.index>e.L.index||d.L.index===e.L.index&&d.gh()>e.gh())e=d}else if(d.L.index<e.L.index||d.L.index===e.L.index&&
d.gh()<e.gh())e=d;b.Vo(e);return!0},l.OC=function(){var a=this.L,b=a.C;b.length&&b[b.length-1]===this||(a.Nm(this,!1),a.Cn(this,!1),this.j.jb=!0)},l.gJ=function(){var a=this.L,b=a.C;b.length&&b[0]===this||(a.Nm(this,!1),a.UH(this),this.j.jb=!0)},l.hJ=function(a){a&&a!=this.L&&(this.L.Nm(this,!0),this.L=a,a.Cn(this,!0),this.j.jb=!0)},l.IJ=function(a,b){var c=0===a;if(b){var d=b.eG(this);d&&d.uid!==this.uid&&(this.L.index!==d.L.index&&(this.L.Nm(this,!0),this.L=d.L,d.L.Cn(this,!0)),this.L.DH(this,d,
c),this.j.jb=!0)}},q.cJ=function(a){a.Ob(this.L.pA)},q.bJ=function(a){a.Kd(this.L.name)},q.HJ=function(a){a.Ob(this.gh())});h&&(l.wJ=function(a,b){if(this.j.fa){var c=this.type.Eu(b);if(!(0>c)){var d=1===a;this.cj[c]!==d&&(this.cj[c]=d,this.Si(),this.j.jb=!0)}}},l.xJ=function(a,b,c){if(this.j.fa){var d=this.type.Eu(a);0>d||(a=this.type.Na[d],d=this.qc[d],b=Math.floor(b),0>b||b>=d.length||(1===this.j.fa.oG(a.Ld,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Bc&&(this.j.jb=!0))))}})};Fb=function(){this.Ut=this.St=
!0;this.type.Tp=!0;this.j.jb=!0;var a,b,d=this.Tt;a=0;for(b=d.length;a<b;++a)d[a](this);this.L.Ng&&this.ib()};Gb=function(a){a&&this.Tt.push(a)};Mb=function(){if(this.St){var a=this.ac,b=this.Jb;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.je*this.width,-this.ke*this.height);this.N?(a.offset(-this.x,-this.y),b.dB(a,this.N),b.offset(this.x,this.y),b.ty(a)):b.fp(a);a.normalize();this.St=!1;this.CI()}};var a=new wa(0,0,0,0);Nb=function(){if(this.L.Ng){var c=this.L.ef,b=this.ac;
a.set(c.kf(b.left),c.lf(b.top),c.kf(b.right),c.lf(b.bottom));this.Fe.Dq(a)||(this.Fe.right<this.Fe.left?c.update(this,null,a):c.update(this,this.Fe,a),this.Fe.Jn(a),this.L.Ii=!0)}};Ob=function(){if(this.Ut&&this.Yh){this.ib();var c=this.type.lq,b=this.ac;a.set(c.kf(b.left),c.lf(b.top),c.kf(b.right),c.lf(b.bottom));this.mj.Dq(a)||(this.mj.right<this.mj.left?c.update(this,null,a):c.update(this,this.mj,a),this.mj.Jn(a),this.Ut=!1)}};Hb=function(a,b){return this.ac.fe(a,b)&&this.Jb.fe(a,b)?this.cb&&!this.cb.Ok()?
(this.cb.rk(this.width,this.height,this.N),this.cb.fe(a-this.x,b-this.y)):!0:!1};Bb=function(){this.type.Rs();return this.Ik};Pb=function(){this.L.Ww();return this.Qg};Qb=function(){this.xb.length=0;var a,b;a=0;for(b=this.cj.length;a<b;a++)this.cj[a]&&this.xb.push(this.type.Na[a]);this.IB=!!this.xb.length};Cb=function(){return"Inst"+this.PA};pb=function(a){if(a&&a.Ve&&a.type!=this){var b,d,e;b=0;for(d=a.siblings.length;b<d;b++)if(e=a.siblings[b],e.type==this)return e}a=this.Ya().qf();return a.length?
a[0]:null};qb=function(a){var b=this.Ya().qf();return b.length?b[a.Wn()%b.length]:null};ob=function(){if(this.Sm&&!this.xa){var a,b;a=0;for(b=this.C.length;a<b;a++)this.C[a].Ik=a;var d=a,e=this.j.tg;a=0;for(b=e.length;a<b;++a)e[a].type===this&&(e[a].Ik=d++);this.Sm=!1}};zb=function(a){if(a<this.C.length)return this.C[a];a-=this.C.length;var b=this.j.tg,d,e;d=0;for(e=b.length;d<e;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};rb=function(){return this.Wj[this.ai]};sb=function(){this.ai++;
this.ai===this.Wj.length?this.Wj.push(new nb(this)):this.Wj[this.ai].kb=!0};tb=function(){this.ai++;this.ai===this.Wj.length&&this.Wj.push(new nb(this));var a=this.Wj[this.ai],b=this.Wj[this.ai-1];b.kb?a.kb=!0:(a.kb=!1,Aa(a.C,b.C),Aa(a.yb,b.yb))};ub=function(){this.ai--};vb=function(a){var b,d,e,g,f,m=0;if(!this.xa)for(b=0,d=this.mc.length;b<d;b++)for(f=this.mc[b],e=0,g=f.Sc.length;e<g;e++){if(a===f.Sc[e].name)return this.da.lastBehIndex=m,f.Sc[e];m++}b=0;for(d=this.Sc.length;b<d;b++){if(a===this.Sc[b].name)return this.da.lastBehIndex=
m,this.Sc[b];m++}return null};wb=function(a){return this.Sq(a)?this.da.lastBehIndex:-1};xb=function(a){var b,d;b=0;for(d=this.Na.length;b<d;b++)if(this.Na[b].name===a)return b;return-1};yb=function(){if(this.Ve&&!this.xa){var a,b,d,e,g,f,m;this.Rs();f=this.Ya();var k=f.kb,h=(a=this.j.Zc())&&a.Uc&&a.Uc.Zf;a=0;for(b=this.Qe.length;a<b;a++)if(g=this.Qe[a],g!==this&&(g.Rs(),m=g.Ya(),m.kb=k,!k)){m.C.length=f.C.length;d=0;for(e=f.C.length;d<e;d++)m.C[d]=g.Zy(f.C[d].Ik);if(h)for(m.yb.length=f.yb.length,
d=0,e=f.yb.length;d<e;d++)m.yb[d]=g.Zy(f.yb[d].Ik)}}};Ab=function(){return"Type"+this.lb};dc=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();var mc={};function pc(a){this.j=a}
(function(){function a(a){a=Math.pow(10,a/20);0>a&&(a=0);1<a&&(a=1);return a}function c(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function b(a){a=a.toLowerCase();return ga.hasOwnProperty(a)&&ga[a].length?ga[a][0].pf():J.destination}function d(){return J.createGain?J.createGain():J.createGainNode()}function e(a){return J.createDelay?J.createDelay(a):J.createDelayNode(a)}function g(a){a.start?a.start(0):a.noteOn(0)}function f(a,b,c){a.start?a.start(0,b):a.noteGrainOn(0,b,c-b)}function m(a){try{a.stop?
a.stop(0):a.noteOff(0)}catch(b){}}function k(a,b,c,e,f,l){this.type="filter";this.vc=[a,b,c,e,f,l];this.pb=d();this.Ma=d();this.Ma.gain.value=l;this.Ha=d();this.Ha.gain.value=1-l;this.Wc=J.createBiquadFilter();this.Wc.type="number"===typeof this.Wc.type?a:mf[a];this.Wc.frequency.value=b;this.Wc.detune&&(this.Wc.detune.value=c);this.Wc.Q.value=e;this.Wc.gain.value=f;this.pb.connect(this.Wc);this.pb.connect(this.Ha);this.Wc.connect(this.Ma)}function h(a,b,c){this.type="delay";this.vc=[a,b,c];this.pb=
d();this.Ma=d();this.Ma.gain.value=c;this.Ha=d();this.Ha.gain.value=1-c;this.No=d();this.Nf=e(a);this.Nf.delayTime.value=a;this.zq=d();this.zq.gain.value=b;this.pb.connect(this.No);this.pb.connect(this.Ha);this.No.connect(this.Ma);this.No.connect(this.Nf);this.Nf.connect(this.zq);this.zq.connect(this.No)}function n(a,b,c,e){this.type="convolve";this.vc=[b,c,e];this.pb=d();this.Ma=d();this.Ma.gain.value=c;this.Ha=d();this.Ha.gain.value=1-c;this.vk=J.createConvolver();a&&(this.vk.normalize=b,this.vk.buffer=
a);this.pb.connect(this.vk);this.pb.connect(this.Ha);this.vk.connect(this.Ma)}function l(a,b,c,f,l){this.type="flanger";this.vc=[a,b,c,f,l];this.pb=d();this.Ha=d();this.Ha.gain.value=1-l/2;this.Ma=d();this.Ma.gain.value=l/2;this.Hq=d();this.Hq.gain.value=f;this.Nf=e(a+b);this.Nf.delayTime.value=a;this.Ed=J.createOscillator();this.Ed.frequency.value=c;this.cf=d();this.cf.gain.value=b;this.pb.connect(this.Nf);this.pb.connect(this.Ha);this.Nf.connect(this.Ma);this.Nf.connect(this.Hq);this.Hq.connect(this.Nf);
this.Ed.connect(this.cf);this.cf.connect(this.Nf.delayTime);g(this.Ed)}function q(a,b,c,e,f,l){this.type="phaser";this.vc=[a,b,c,e,f,l];this.pb=d();this.Ha=d();this.Ha.gain.value=1-l/2;this.Ma=d();this.Ma.gain.value=l/2;this.Wc=J.createBiquadFilter();this.Wc.type="number"===typeof this.Wc.type?7:"allpass";this.Wc.frequency.value=a;this.Wc.detune&&(this.Wc.detune.value=b);this.Wc.Q.value=c;this.Ed=J.createOscillator();this.Ed.frequency.value=f;this.cf=d();this.cf.gain.value=e;this.pb.connect(this.Wc);
this.pb.connect(this.Ha);this.Wc.connect(this.Ma);this.Ed.connect(this.cf);this.cf.connect(this.Wc.frequency);g(this.Ed)}function p(a){this.type="gain";this.vc=[a];this.wb=d();this.wb.gain.value=a}function s(a,b){this.type="tremolo";this.vc=[a,b];this.wb=d();this.wb.gain.value=1-b/2;this.Ed=J.createOscillator();this.Ed.frequency.value=a;this.cf=d();this.cf.gain.value=b/2;this.Ed.connect(this.cf);this.cf.connect(this.wb.gain);g(this.Ed)}function u(a,b){this.type="ringmod";this.vc=[a,b];this.pb=d();
this.Ma=d();this.Ma.gain.value=b;this.Ha=d();this.Ha.gain.value=1-b;this.cp=d();this.cp.gain.value=0;this.Ed=J.createOscillator();this.Ed.frequency.value=a;this.Ed.connect(this.cp.gain);g(this.Ed);this.pb.connect(this.cp);this.pb.connect(this.Ha);this.cp.connect(this.Ma)}function t(a,b,c,e,f){this.type="distortion";this.vc=[a,b,c,e,f];this.pb=d();this.as=d();this.$r=d();this.kI(c,Math.pow(10,e/20));this.Ma=d();this.Ma.gain.value=f;this.Ha=d();this.Ha.gain.value=1-f;this.Ts=J.createWaveShaper();this.wq=
new Float32Array(65536);this.$F(a,b);this.Ts.wq=this.wq;this.pb.connect(this.as);this.pb.connect(this.Ha);this.as.connect(this.Ts);this.Ts.connect(this.$r);this.$r.connect(this.Ma)}function z(a,b,c,d,e){this.type="compressor";this.vc=[a,b,c,d,e];this.wb=J.createDynamicsCompressor();try{this.wb.threshold.value=a,this.wb.knee.value=b,this.wb.ratio.value=c,this.wb.attack.value=d,this.wb.release.value=e}catch(f){}}function A(a,b){this.type="analyser";this.vc=[a,b];this.wb=J.createAnalyser();this.wb.fftSize=
a;this.wb.smoothingTimeConstant=b;this.YF=new Float32Array(this.wb.frequencyBinCount);this.gB=new Uint8Array(a);this.Uo=0}function H(){this.La=null;this.Cr=0;this.Xj=[];this.aw=this.mr=this.lr=0}function y(a,b){this.src=a;this.hb=S;this.yg=b;this.fy=!1;var c=this;this.$v=this.jw=null;this.Lm=[];this.us=0;this.gx=this.qu=this.kB=this.Wr=!1;1===S&&b&&(this.hb=0,this.jw=d());this.ok=this.Gb=null;var e;switch(this.hb){case 0:this.Gb=new Audio;this.Gb.addEventListener("canplaythrough",function(){c.gx=
!0});1===S&&J.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.kB=!0,this.Gb.addEventListener("canplay",function(){c.$v||(c.$v=J.createMediaElementSource(c.Gb),c.$v.connect(c.jw))}));this.Gb.autoplay=!1;this.Gb.SJ="auto";this.Gb.src=a;break;case 1:e=new XMLHttpRequest;e.open("GET",a,!0);e.responseType="arraybuffer";e.onload=function(){c.ok=e.response;c.QE()};e.onerror=function(){c.qu=!0};e.send();break;case 2:this.Gb=!0;break;case 3:this.Gb=!0}}function C(a,c){var e=this;this.tag=
c;this.Nc=this.eh=!0;this.src=a.src;this.buffer=a;this.hb=S;this.yg=a.yg;this.playbackRate=1;this.cu=!0;this.Sf=this.Ji=!1;this.Ge=0;this.jo=this.fm=this.mh=!1;this.volume=1;this.Nk=1===P&&!this.yg||2===P;this.Hm=1;this.startTime=this.Nk?L.le.Va:L.Mh.Va;this.Kc=this.Xc=null;this.xh=!1;this.Jc=null;this.AA=this.zA=this.yA=this.xA=this.CA=this.BA=0;this.W=null;var f=!1;1!==this.hb||0!==this.buffer.hb||this.buffer.kB||(this.hb=0);switch(this.hb){case 0:this.yg?(this.W=a.Gb,f=!a.fy,a.fy=!0):(this.W=new Audio,
this.W.autoplay=!1,this.W.src=a.Gb.src,f=!0);f&&this.W.addEventListener("ended",function(){R=e.tag;e.Nc=!0;L.trigger(pc.prototype.K.qt,da)});break;case 1:this.Xc=d();this.Xc.connect(b(c));1===this.buffer.hb?a.Gb&&(this.W=J.createBufferSource(),this.W.buffer=a.Gb,this.W.connect(this.Xc)):(this.W=this.buffer.Gb,this.buffer.jw.connect(this.Xc));break;case 2:this.W=new window.Media(N+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(e.cu=!0,e.Nc=!0,R=e.tag,L.trigger(pc.prototype.K.qt,da))});
break;case 3:this.W=!0}}function I(a){Va.length=0;if(a.length){var b,c,d;b=0;for(c=G.length;b<c;b++)d=G[b],jb(a,d.tag)&&Va.push(d)}else F&&!F.Hk()&&(Va.length=1,Va[0]=F)}function E(a,b){ga.hasOwnProperty(a)?ga[a].push(b):ga[a]=[b];var c,d,e,f,l=J.destination;if(ga.hasOwnProperty(a)&&(e=ga[a],e.length))for(l=e[0].pf(),c=0,d=e.length;c<d;c++)f=e[c],c+1===d?f.Jf(J.destination):f.Jf(e[c+1].pf());I(a);c=0;for(d=Va.length;c<d;c++)Va[c].ZH(l);fb&&Vc===a&&(fb.disconnect(),fb.connect(l))}function D(){}function x(){}
var K=pc.prototype;K.Fa=function(a){this.Ib=a;this.j=a.j};K.Fa.prototype.ma=function(){};var L=null,da=null,R="",N="",S=0,J=null,T=[],G=[],F=null,M=!1,P=0,U=!1,O=1,ca=0,Z=0,Ca=1,sa=1,Pa=10,Qa=1E4,ve=1,fb=null,Vc="",Ib=!1,Jb=[],ga={},mf="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");k.prototype.Jf=function(a){this.Ma.disconnect();this.Ma.connect(a);this.Ha.disconnect();this.Ha.connect(a)};k.prototype.remove=function(){this.pb.disconnect();this.Wc.disconnect();this.Ma.disconnect();
this.Ha.disconnect()};k.prototype.pf=function(){return this.pb};h.prototype.Jf=function(a){this.Ma.disconnect();this.Ma.connect(a);this.Ha.disconnect();this.Ha.connect(a)};h.prototype.remove=function(){this.pb.disconnect();this.No.disconnect();this.Nf.disconnect();this.zq.disconnect();this.Ma.disconnect();this.Ha.disconnect()};h.prototype.pf=function(){return this.pb};n.prototype.Jf=function(a){this.Ma.disconnect();this.Ma.connect(a);this.Ha.disconnect();this.Ha.connect(a)};n.prototype.remove=function(){this.pb.disconnect();
this.vk.disconnect();this.Ma.disconnect();this.Ha.disconnect()};n.prototype.pf=function(){return this.pb};l.prototype.Jf=function(a){this.Ha.disconnect();this.Ha.connect(a);this.Ma.disconnect();this.Ma.connect(a)};l.prototype.remove=function(){this.pb.disconnect();this.Nf.disconnect();this.Ed.disconnect();this.cf.disconnect();this.Ha.disconnect();this.Ma.disconnect();this.Hq.disconnect()};l.prototype.pf=function(){return this.pb};q.prototype.Jf=function(a){this.Ha.disconnect();this.Ha.connect(a);
this.Ma.disconnect();this.Ma.connect(a)};q.prototype.remove=function(){this.pb.disconnect();this.Wc.disconnect();this.Ed.disconnect();this.cf.disconnect();this.Ha.disconnect();this.Ma.disconnect()};q.prototype.pf=function(){return this.pb};p.prototype.Jf=function(a){this.wb.disconnect();this.wb.connect(a)};p.prototype.remove=function(){this.wb.disconnect()};p.prototype.pf=function(){return this.wb};s.prototype.Jf=function(a){this.wb.disconnect();this.wb.connect(a)};s.prototype.remove=function(){this.Ed.disconnect();
this.cf.disconnect();this.wb.disconnect()};s.prototype.pf=function(){return this.wb};u.prototype.Jf=function(a){this.Ma.disconnect();this.Ma.connect(a);this.Ha.disconnect();this.Ha.connect(a)};u.prototype.remove=function(){this.Ed.disconnect();this.cp.disconnect();this.pb.disconnect();this.Ma.disconnect();this.Ha.disconnect()};u.prototype.pf=function(){return this.pb};t.prototype.kI=function(a,b){.01>a&&(a=.01);this.as.gain.value=a;this.$r.gain.value=Math.pow(1/a,.6)*b};t.prototype.shape=function(a,
b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));return b*c};t.prototype.$F=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.wq[32768+f]=e,this.wq[32768-f-1]=-e};t.prototype.Jf=function(a){this.Ma.disconnect();this.Ma.connect(a);this.Ha.disconnect();this.Ha.connect(a)};t.prototype.remove=function(){this.pb.disconnect();this.as.disconnect();this.Ts.disconnect();this.$r.disconnect();this.Ma.disconnect();
this.Ha.disconnect()};t.prototype.pf=function(){return this.pb};z.prototype.Jf=function(a){this.wb.disconnect();this.wb.connect(a)};z.prototype.remove=function(){this.wb.disconnect()};z.prototype.pf=function(){return this.wb};A.prototype.Pb=function(){this.wb.getFloatFrequencyData(this.YF);this.wb.getByteTimeDomainData(this.gB);for(var a=this.wb.fftSize,b=0,d=this.Uo=0,e=0;b<a;b++)e=(this.gB[b]-128)/128,0>e&&(e=-e),this.Uo<e&&(this.Uo=e),d+=e*e;this.Uo=c(this.Uo);c(Math.sqrt(d/a))};A.prototype.Jf=
function(a){this.wb.disconnect();this.wb.connect(a)};A.prototype.remove=function(){this.wb.disconnect()};A.prototype.pf=function(){return this.wb};H.prototype.dp=function(a){if(this.La=a)this.lr=this.La.x,this.mr=this.La.y;this.Xj.length=0};H.prototype.Zq=function(){return!!this.La};H.prototype.Pb=function(a){this.La&&0!==a&&(this.aw=La(this.lr,this.mr,this.La.x,this.La.y),a=Sa(this.lr,this.mr,this.La.x,this.La.y)/a,4>this.Xj.length||this.Xj.shift(),this.Xj.push(a),this.lr=this.La.x,this.mr=this.La.y)};
H.prototype.cz=function(){if(!this.Xj.length)return 0;var a,b,c=0;a=0;for(b=this.Xj.length;a<b;a++)c+=this.Xj[a];return c/this.Xj.length};H.prototype.Iu=function(){return Math.cos(this.aw)*this.cz()};H.prototype.Ju=function(){return Math.sin(this.aw)*this.cz()};var we=!1;y.prototype.QE=function(){if(!this.Gb&&this.ok){var a=this;if(J.decodeAudioData)J.decodeAudioData(this.ok,function(b){a.Gb=b;a.ok=null;var c,d,e;if(ja(a.Xr)||U)ja(a.qq)||(c=a.qq.vk,c.normalize=a.oA,c.buffer=b);else if(a.Lm.length){c=
0;for(d=a.Lm.length;c<d;c++){b=a.Lm[c];e=new C(a,b.qB);e.xs(!0);if("undefined"!==typeof b.qA&&(b.La=L.fi(b.qA),!b.La))continue;if(b.La){var f=Ra(b.La.x,b.La.y,-b.La.L.Yc(),ca,Z,!0),l=Ra(b.La.x,b.La.y,-b.La.L.Yc(),ca,Z,!1);e.Fw(f,l,Ga(b.La.N-b.La.L.Yc()),b.Pu,b.bw,b.ew);e.dp(b.La)}else e.Fw(b.x,b.y,b.R,b.Pu,b.bw,b.ew);e.play(a.Dv,a.bx,a.us);a.Wr&&e.pause();G.push(e)}a.Lm.length=0}else e=new C(a,a.Xr),e.play(a.Dv,a.bx,a.us),a.Wr&&e.pause(),G.push(e)},function(){a.qu=!0});else if(this.Gb=J.createBuffer(this.ok,
!1),this.ok=null,ja(this.Xr)||U)ja(this.qq)||(b=this.qq.vk,b.normalize=this.oA,b.buffer=this.Gb);else{var b=new C(this,this.Xr);b.play(this.Dv,this.bx,this.us);this.Wr&&b.pause();G.push(b)}}};y.prototype.sz=function(){switch(this.hb){case 0:var a=4<=this.Gb.readyState;a&&(this.gx=!0);return a||this.gx;case 1:return!!this.ok||!!this.Gb;case 2:return!0;case 3:return!0}return!1};y.prototype.SG=function(){switch(this.hb){case 0:return this.sz();case 1:return!!this.Gb;case 2:return!0;case 3:return!0}return!1};
y.prototype.HG=function(){switch(this.hb){case 0:return!!this.Gb.error;case 1:return this.qu}return!1};C.prototype.Hk=function(){var a;switch(this.hb){case 0:return this.W.ended;case 1:if(1===this.buffer.hb){if(!this.eh&&!this.Nc&&this.W.loop||this.Sf)return!1;a=this.Nk?L.le.Va:L.Mh.Va;return a-this.startTime>this.buffer.Gb.duration}return this.W.ended;case 2:return this.cu;case 3:!0}return!0};C.prototype.KE=function(){return this.eh||this.Nc?!0:this.Hk()};C.prototype.xs=function(a){1===S&&(!this.xh&&
a?this.Xc&&(this.Kc||(this.Kc=J.createPanner(),this.Kc.panningModel="number"===typeof this.Kc.panningModel?Ca:["equalpower","HRTF","soundfield"][Ca],this.Kc.distanceModel="number"===typeof this.Kc.distanceModel?sa:["linear","inverse","exponential"][sa],this.Kc.refDistance=Pa,this.Kc.maxDistance=Qa,this.Kc.rolloffFactor=ve),this.Xc.disconnect(),this.Xc.connect(this.Kc),this.Kc.connect(b(this.tag)),this.xh=!0):this.xh&&!a&&this.Xc&&(this.Kc.disconnect(),this.Xc.disconnect(),this.Xc.connect(b(this.tag)),
this.xh=!1))};C.prototype.Fw=function(a,b,c,d,e,f){this.xh&&1===S&&(this.Kc.setPosition(a,b,0),this.Kc.setOrientation(Math.cos(v(c)),Math.sin(v(c)),0),this.Kc.coneInnerAngle=d,this.Kc.coneOuterAngle=e,this.Kc.coneOuterGain=f,this.BA=a,this.CA=b,this.xA=c,this.yA=d,this.zA=e,this.AA=f)};C.prototype.dp=function(a){this.xh&&1===S&&(this.Jc||(this.Jc=new H),this.Jc.dp(a))};C.prototype.Pb=function(a){if(this.xh&&1===S&&this.Jc&&this.Jc.Zq()&&this.Lk()){this.Jc.Pb(a);a=this.Jc.La;var b=Ra(a.x,a.y,-a.L.Yc(),
ca,Z,!0),c=Ra(a.x,a.y,-a.L.Yc(),ca,Z,!1);this.Kc.setPosition(b,c,0);b=0;"undefined"!==typeof this.Jc.La.N&&(b=a.N-a.L.Yc(),this.Kc.setOrientation(Math.cos(b),Math.sin(b),0));b=Ra(this.Jc.Iu(),this.Jc.Ju(),-a.L.Yc(),0,0,!0);c=Ra(this.Jc.Iu(),this.Jc.Ju(),-a.L.Yc(),0,0,!1);this.Kc.setVelocity(b,c,0)}};C.prototype.play=function(a,b,c){var d=this.W;this.mh=a;this.volume=b;c=c||0;switch(this.hb){case 0:1!==d.playbackRate&&(d.playbackRate=1);d.volume!==b*O&&(d.volume=b*O);d.loop!==a&&(d.loop=a);d.muted&&
(d.muted=!1);if(d.currentTime!==c)try{d.currentTime=c}catch(e){}if(this.yg&&Ib&&!L.nc)Jb.push(this);else try{this.W.play()}catch(l){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",l)}break;case 1:this.muted=!1;this.Hm=1;if(1===this.buffer.hb)this.eh||(this.W=J.createBufferSource(),this.W.buffer=this.buffer.Gb,this.W.connect(this.Xc)),this.W.loop=a,this.Xc.gain.value=b*O,0===c?g(this.W):f(this.W,c,this.Dk());else{1!==d.playbackRate&&(d.playbackRate=
1);d.loop!==a&&(d.loop=a);this.Xc.gain.value=b*O;if(d.currentTime!==c)try{d.currentTime=c}catch(h){}this.yg&&Ib&&!L.nc?Jb.push(this):d.play()}break;case 2:(!this.eh&&this.Nc||0!==c)&&d.seekTo(c);d.play();this.cu=!1;break;case 3:L.Rd?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.Nk?L.le.Va:L.Mh.Va)-c;this.Sf=this.Nc=this.eh=!1};C.prototype.stop=function(){switch(this.hb){case 0:this.W.paused||this.W.pause();break;case 1:1===this.buffer.hb?
m(this.W):this.W.paused||this.W.pause();break;case 2:this.W.stop();break;case 3:L.Rd&&AppMobi.context.stopSound(this.src)}this.Nc=!0;this.Sf=!1};C.prototype.pause=function(){if(!(this.eh||this.Nc||this.Hk()||this.Sf)){switch(this.hb){case 0:this.W.paused||this.W.pause();break;case 1:1===this.buffer.hb?(this.Ge=this.Gu(),this.mh&&(this.Ge%=this.Dk()),m(this.W)):this.W.paused||this.W.pause();break;case 2:this.W.pause();break;case 3:L.Rd&&AppMobi.context.stopSound(this.src)}this.Sf=!0}};C.prototype.aI=
function(){if(!(this.eh||this.Nc||this.Hk())&&this.Sf){switch(this.hb){case 0:this.W.play();break;case 1:1===this.buffer.hb?(this.W=J.createBufferSource(),this.W.buffer=this.buffer.Gb,this.W.connect(this.Xc),this.W.loop=this.mh,this.Xc.gain.value=O*this.volume*this.Hm,this.startTime=(this.Nk?L.le.Va:L.Mh.Va)-this.Ge,f(this.W,this.Ge,this.Dk())):this.W.play();break;case 2:this.W.play();break;case 3:L.Rd&&AppMobi.context.resumeSound(this.src)}this.Sf=!1}};C.prototype.seek=function(a){if(!(this.eh||
this.Nc||this.Hk()))switch(this.hb){case 0:try{this.W.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.hb)this.Sf?this.Ge=a:(this.pause(),this.Ge=a,this.aI());else try{this.W.currentTime=a}catch(c){}break;case 3:L.Rd&&AppMobi.context.seekSound(this.src,a)}};C.prototype.ZH=function(a){1===this.hb&&(this.xh?(this.Kc.disconnect(),this.Kc.connect(a)):(this.Xc.disconnect(),this.Xc.connect(a)))};C.prototype.Dk=function(){switch(this.hb){case 0:if("undefined"!==typeof this.W.duration)return this.W.duration;
break;case 1:return this.buffer.Gb.duration;case 2:return this.W.getDuration();case 3:if(L.Rd)return AppMobi.context.getDurationSound(this.src)}return 0};C.prototype.Gu=function(){var a=this.Dk(),b=0;switch(this.hb){case 0:"undefined"!==typeof this.W.currentTime&&(b=this.W.currentTime);break;case 1:if(1===this.buffer.hb){if(this.Sf)return this.Ge;b=(this.Nk?L.le.Va:L.Mh.Va)-this.startTime}else"undefined"!==typeof this.W.currentTime&&(b=this.W.currentTime);break;case 3:L.Rd&&(b=AppMobi.context.getPlaybackTimeSound(this.src))}!this.mh&&
b>a&&(b=a);return b};C.prototype.Lk=function(){return!this.Sf&&!this.eh&&!this.Nc&&!this.Hk()};C.prototype.AI=function(){var a=this.volume*O;switch(this.hb){case 0:this.W.volume&&this.W.volume!==a&&(this.W.volume=a);break;case 1:this.Xc.gain.value=a*this.Hm}};C.prototype.Cq=function(a){switch(this.hb){case 0:this.W.muted!==!!a&&(this.W.muted=!!a);break;case 1:this.Hm=a?0:1,this.Xc.gain.value=O*this.volume*this.Hm}};C.prototype.lI=function(){this.fm=!0;this.Cq(this.fm||this.jo)};C.prototype.aB=function(a){this.jo=
!!a;this.Cq(this.fm||this.jo)};C.prototype.EB=function(){var a=this.playbackRate;this.Nk&&(a*=L.Jh);switch(this.hb){case 0:this.W.playbackRate!==a&&(this.W.playbackRate=a);break;case 1:1===this.buffer.hb?this.W.playbackRate.value!==a&&(this.W.playbackRate.value=a):this.W.playbackRate!==a&&(this.W.playbackRate=a)}};C.prototype.nI=function(a){switch(this.hb){case 0:a?this.Lk()?(this.W.pause(),this.Ji=!0):this.Ji=!1:this.Ji&&this.W.play();break;case 1:a?this.Lk()?(1===this.buffer.hb?(this.Ge=this.Gu(),
this.mh&&(this.Ge%=this.Dk()),m(this.W)):this.W.pause(),this.Ji=!0):this.Ji=!1:this.Ji&&(1===this.buffer.hb?(this.W=J.createBufferSource(),this.W.buffer=this.buffer.Gb,this.W.connect(this.Xc),this.W.loop=this.mh,this.Xc.gain.value=O*this.volume*this.Hm,this.startTime=(this.Nk?L.le.Va:L.Mh.Va)-this.Ge,f(this.W,this.Ge,this.Dk())):this.W.play());break;case 2:a?this.Lk()?(this.W.pause(),this.Ji=!0):this.Ji=!1:this.Ji&&this.W.play()}};K.za=function(a){this.type=a;L=this.j=a.j;da=this;this.ne=null;this.to=
-600;!(this.j.hr||this.j.$q&&(this.j.eo||this.j.br))||this.j.fo||this.j.Ca||(Ib=!0);J=null;"undefined"!==typeof AudioContext?(S=1,J=new AudioContext):"undefined"!==typeof webkitAudioContext&&(S=1,J=new webkitAudioContext);(this.j.hr&&1===S||Ib)&&document.addEventListener("touchstart",function(){var a,b,c;!we&&J&&(a=J.createBuffer(1,1,22050),b=J.createBufferSource(),b.buffer=a,b.connect(J.destination),g(b),we=!0);if(Ib){if(!U)for(a=0,b=Jb.length;a<b;++a)c=Jb[a],c.Nc||c.Sf||c.W.play();Jb.length=0}},
!0);1!==S&&(this.j.vj&&"undefined"!==typeof window.Media?S=2:this.j.rz&&(S=3));2===S&&(N=location.href,a=N.lastIndexOf("/"),-1<a&&(N=N.substr(0,a+1)),N=N.replace("file://",""));if(this.j.vz&&this.j.TG&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.j.Qh(this);else{if(this.j.Rd)M=this.j.$q;else try{M=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(b){M=!1}this.j.rl(this)}};
var Da=K.za.prototype;Da.ma=function(){this.j.Jl=this;P=this.M[0];this.Mi=this.M[1];this.QH=0!==this.M[2];Ca=this.M[3];sa=this.M[4];this.to=-this.M[5];Pa=this.M[6];Qa=this.M[7];ve=this.M[8];this.ne=new H;var a=this.j.Xa||this.j.width,c=this.j.Wa||this.j.height;1===S&&(J.listener.speedOfSound=this.M[9],J.listener.dopplerFactor=this.M[10],J.listener.setPosition(a/2,c/2,this.to),J.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,c){fb&&fb.disconnect();Vc=c.toLowerCase();fb=
J.createMediaStreamSource(a);fb.connect(b(Vc))});this.j.ey(function(a){da.MH(a)});var d=this;this.j.Sp(function(a){d.So(a)})};Da.So=function(a){var b,c,d;b=0;for(c=G.length;b<c;b++)d=G[b],d.Jc&&d.Jc.La===a&&(d.Jc.La=null,d.xh&&d.Lk()&&d.mh&&d.stop());this.ne.La===a&&(this.ne.La=null)};Da.oc=function(){var a={silent:U,masterVolume:O,listenerZ:this.to,listenerUid:this.ne.Zq()?this.ne.La.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,f,l,g;c=0;for(d=G.length;c<d;c++)e=G[c],!e.Lk()||3===this.Mi||e.yg&&
1===this.Mi||!e.yg&&2===this.Mi||(f=e.Gu(),e.mh&&(f%=e.Dk()),f={tag:e.tag,buffersrc:e.buffer.src,is_music:e.yg,playbackTime:f,volume:e.volume,looping:e.mh,muted:e.fm,playbackRate:e.playbackRate,paused:e.Sf,resume_position:e.Ge},e.xh&&(f.pan={},g=f.pan,e.Jc&&e.Jc.Zq()?g.objUid=e.Jc.La.uid:(g.x=e.BA,g.y=e.CA,g.a=e.xA),g.ia=e.yA,g.oa=e.zA,g.og=e.AA),b.push(f));b=a.effects;for(l in ga)if(ga.hasOwnProperty(l)){e=[];c=0;for(d=ga[l].length;c<d;c++)e.push({type:ga[l][c].type,params:ga[l][c].vc});b[l]=e}return a};
var Kb=[];Da.Ic=function(a){var b=a.silent;O=a.masterVolume;this.to=a.listenerZ;this.ne.dp(null);var c=a.listenerUid;-1!==c&&(this.ne.Cr=c,Kb.push(this.ne));var c=a.playing,d,e,f,g,m,y,C,I,D,x,L;if(3!==this.Mi)for(d=0,e=G.length;d<e;d++)D=G[d],D.yg&&1===this.Mi||(D.yg||2!==this.Mi)&&D.stop();for(m in ga)if(ga.hasOwnProperty(m))for(d=0,e=ga[m].length;d<e;d++)ga[m][d].remove();Wa(ga);for(m in a.effects)if(a.effects.hasOwnProperty(m))for(y=a.effects[m],d=0,e=y.length;d<e;d++)switch(f=y[d].type,x=y[d].params,
f){case "filter":E(m,new k(x[0],x[1],x[2],x[3],x[4],x[5]));break;case "delay":E(m,new h(x[0],x[1],x[2]));break;case "convolve":f=x[2];D=this.Qq(f,!1);D.Gb?f=new n(D.Gb,x[0],x[1],f):(f=new n(null,x[0],x[1],f),D.oA=x[0],D.qq=f);E(m,f);break;case "flanger":E(m,new l(x[0],x[1],x[2],x[3],x[4]));break;case "phaser":E(m,new q(x[0],x[1],x[2],x[3],x[4],x[5]));break;case "gain":E(m,new p(x[0]));break;case "tremolo":E(m,new s(x[0],x[1]));break;case "ringmod":E(m,new u(x[0],x[1]));break;case "distortion":E(m,
new t(x[0],x[1],x[2],x[3],x[4]));break;case "compressor":E(m,new z(x[0],x[1],x[2],x[3],x[4]));break;case "analyser":E(m,new A(x[0],x[1]))}d=0;for(e=c.length;d<e;d++)3===this.Mi||(a=c[d],f=a.buffersrc,g=a.is_music,m=a.tag,y=a.playbackTime,C=a.looping,I=a.volume,L=(x=a.pan)&&x.hasOwnProperty("objUid")?x.objUid:-1,g&&1===this.Mi)||!g&&2===this.Mi||((D=this.Rq(f,m,g,C,I))?(D.Ge=a.resume_position,D.xs(!!x),D.play(C,I,y),D.EB(),D.AI(),D.Cq(D.fm||D.jo),a.paused&&D.pause(),a.muted&&D.lI(),D.Cq(D.fm||D.jo),
x&&(-1!==L?(D.Jc=D.Jc||new H,D.Jc.Cr=L,Kb.push(D.Jc)):D.Fw(x.x,x.y,x.a,x.ia,x.oa,x.og))):(D=this.Qq(f,g),D.us=y,D.Wr=a.paused,x&&(-1!==L?D.Lm.push({qA:L,Pu:x.ia,bw:x.oa,ew:x.og,qB:m}):D.Lm.push({x:x.x,y:x.y,R:x.a,Pu:x.ia,bw:x.oa,ew:x.og,qB:m}))));if(b&&!U){d=0;for(e=G.length;d<e;d++)G[d].aB(!0);U=!0}else if(!b&&U){d=0;for(e=G.length;d<e;d++)G[d].aB(!1);U=!1}};Da.pg=function(){var a,b,c,d;a=0;for(b=Kb.length;a<b;a++)c=Kb[a],d=this.j.fi(c.Cr),c.dp(d),c.Cr=-1,d&&(ca=d.x,Z=d.y);Kb.length=0};Da.MH=function(a){if(!this.QH){!a&&
J&&J.resume&&J.resume();var b,c;b=0;for(c=G.length;b<c;b++)G[b].nI(a);a&&J&&J.suspend&&J.suspend()}};Da.Pb=function(){var a=this.j.Ra,b,c,d;b=0;for(c=G.length;b<c;b++)d=G[b],d.Pb(a),0===d.hb||3===d.hb||d.eh||d.Nc||!d.Hk()||(d.Nc=!0,R=d.tag,L.trigger(pc.prototype.K.qt,da)),0!==P&&d.EB();var e,f;for(e in ga)if(ga.hasOwnProperty(e))for(d=ga[e],b=0,c=d.length;b<c;b++)f=d[b],f.Pb&&f.Pb();1===S&&this.ne.Zq()&&(this.ne.Pb(a),ca=this.ne.La.x,Z=this.ne.La.y,J.listener.setPosition(this.ne.La.x,this.ne.La.y,
this.to),J.listener.setVelocity(this.ne.Iu(),this.ne.Ju(),0))};var Lb=[];Da.mI=function(a){var b,c,d,e,f,l=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],e=d[0],d=2*d[1],(f=4<e.length&&".ogg"===e.substr(e.length-4))&&M||!f&&!M)Lb.push({filename:e,size:d,La:null}),l+=d;return l};Da.qI=function(){var a,b,c,d;a=0;for(b=Lb.length;a<b;++a)c=Lb[a],d=this.j.Rn+c.filename,c.La=this.Qq(d,!1)};Da.lG=function(){var a=0,b,c,d;b=0;for(c=Lb.length;b<c;++b)d=Lb[b],d.La.SG()||d.La.HG()||this.j.Ca||this.j.br?a+=d.size:d.La.sz()&&
(a+=Math.floor(d.size/2));return a};Da.Qq=function(a,b){var c,d,e,f=null;c=0;for(d=T.length;c<d;c++)if(e=T[c],e.src===a){f=e;break}f||(f=new y(a,b),T.push(f));return f};Da.Rq=function(a,b,c,d,e){var f,l,g;f=0;for(l=G.length;f<l;f++)if(g=G[f],g.src===a&&(g.KE()||c))return g.tag=b,g;a=this.Qq(a,c);if(!a.Gb)return"<preload>"!==b&&(a.Xr=b,a.Dv=d,a.bx=e),null;g=new C(a,b);G.push(g);return g};var Va=[];D.prototype.qt=function(a){return jb(R,a)};D.prototype.HC=function(a){I(a);var b;a=0;for(b=Va.length;a<
b;a++)if(Va[a].Lk())return!0;return!1};K.K=new D;x.prototype.Play=function(b,c,d,e){!U&&(d=a(d),F=this.Rq(this.j.Rn+b[0]+(M?".ogg":".m4a"),e,b[1],0!==c,d))&&(F.xs(!1),F.play(0!==c,d))};x.prototype.uD=function(b,c,d,e,f){!U&&(e=a(e),F=this.Rq(this.j.Rn+c.toLowerCase()+(M?".ogg":".m4a"),f,1===b,0!==d,e))&&(F.xs(!1),F.play(0!==d,e))};x.prototype.vD=function(a){if(!U){var b=a[1];a=this.j.Rn+a[0]+(M?".ogg":".m4a");3===S?this.j.Rd?AppMobi.context.loadSound(a):AppMobi.player.loadSound(a):2!==S&&this.Rq(a,
"<preload>",b,!1)}};x.prototype.bE=function(){var a,b;a=0;for(b=G.length;a<b;a++)G[a].stop()};K.ca=new x;K.Cb=new function(){}})();function qc(a){this.j=a}
(function(){function a(){}function c(){}function b(){}var d=qc.prototype;d.Fa=function(a){this.Ib=a;this.j=a.j};d.Fa.prototype.ma=function(){};d.za=function(a){this.type=a;this.j=a.j};d.za.prototype.ma=function(){var a=this;window.addEventListener("resize",function(){a.j.trigger(qc.prototype.K.nD,a)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.j.trigger(qc.prototype.K.kD,a)}),window.addEventListener("offline",function(){a.j.trigger(qc.prototype.K.jD,a)}));
"undefined"!==typeof window.applicationCache&&(window.applicationCache.addEventListener("updateready",function(){a.j.tm=1;a.j.trigger(qc.prototype.K.Mx,a)}),window.applicationCache.addEventListener("progress",function(b){a.j.tm=b.loaded/b.total}));this.j.Rd||(document.addEventListener("appMobi.device.update.available",function(){a.j.trigger(qc.prototype.K.Mx,a)}),document.addEventListener("backbutton",function(){a.j.trigger(qc.prototype.K.mt,a)}),document.addEventListener("menubutton",function(){a.j.trigger(qc.prototype.K.Kx,
a)}),document.addEventListener("searchbutton",function(){a.j.trigger(qc.prototype.K.oD,a)}),document.addEventListener("tizenhwkey",function(b){var c;switch(b.keyName){case "back":c=a.j.trigger(qc.prototype.K.mt,a);!c&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(c=a.j.trigger(qc.prototype.K.Kx,a))||b.preventDefault()}}));this.j.cr&&(WinJS.Application.onbackclick=function(){return!!a.j.trigger(qc.prototype.K.mt,a)});this.j.ey(function(b){b?a.j.trigger(qc.prototype.K.lD,
a):a.j.trigger(qc.prototype.K.mD,a)});this.VG="undefined"!==typeof window.is_scirra_arcade};a.prototype.kD=function(){return!0};a.prototype.jD=function(){return!0};a.prototype.Mx=function(){return!0};a.prototype.mD=function(){return!0};a.prototype.lD=function(){return!0};a.prototype.nD=function(){return!0};a.prototype.mt=function(){return!0};a.prototype.Kx=function(){return!0};a.prototype.oD=function(){return!0};d.K=new a;c.prototype.ZB=function(){this.j.Rf?CocoonJS.App.forceToFinish():window.tizen?
window.tizen.application.getCurrentApplication().exit():navigator.app&&navigator.app.exitApp?navigator.app.exitApp():navigator.device&&navigator.device.exitApp?navigator.device.exitApp():this.VG||this.j.Ca||window.close()};d.ca=new c;b.prototype.URL=function(a){a.Kd(this.j.Ca?"":window.location.toString())};d.Cb=new b})();function rc(a){this.j=a}
(function(){function a(){}function c(){}var b=rc.prototype;b.Fa=function(a){this.Ib=a;this.j=a.j};b.Fa.prototype.ma=function(){};b.za=function(a){this.type=a;this.j=a.j};var d=b.za.prototype;d.ma=function(){this.j.Ca?ha("[Construct 2] Button plugin not supported on this platform - the object will not be created"):(this.$l=1===this.M[0],this.rf=document.createElement("input"),this.I=this.$l?document.createElement("label"):this.rf,this.oo=null,this.rf.type=this.$l?"checkbox":"button",this.rf.id=this.M[6],
jQuery(this.I).appendTo(this.j.ij?this.j.ij:"body"),this.$l?(jQuery(this.rf).appendTo(this.I),this.oo=document.createTextNode(this.M[1]),jQuery(this.I).append(this.oo),this.rf.checked=0!==this.M[7],jQuery(this.I).css("font-family","sans-serif"),jQuery(this.I).css("display","inline-block"),jQuery(this.I).css("color","black")):this.rf.value=this.M[1],this.I.title=this.M[2],this.rf.disabled=0===this.M[4],this.En=0!==this.M[5],this.Be=!1,0===this.M[3]&&(jQuery(this.I).hide(),this.visible=!1,this.Be=!0),
this.rf.onclick=function(a){return function(b){b.stopPropagation();a.j.nc=!0;a.j.trigger(rc.prototype.K.qn,a);a.j.nc=!1}}(this),this.I.addEventListener("touchstart",function(a){a.stopPropagation()},!1),this.I.addEventListener("touchmove",function(a){a.stopPropagation()},!1),this.I.addEventListener("touchend",function(a){a.stopPropagation()},!1),jQuery(this.I).mousedown(function(a){a.stopPropagation()}),jQuery(this.I).mouseup(function(a){a.stopPropagation()}),jQuery(this.I).keydown(function(a){a.stopPropagation()}),
jQuery(this.I).keyup(function(a){a.stopPropagation()}),this.Ej=this.Fj=this.zj=this.Bj=this.Dj=this.Aj=0,this.ak(!0),this.j.rl(this))};d.oc=function(){var a={tooltip:this.I.title,disabled:!!this.rf.disabled};this.$l?(a.checked=!!this.rf.checked,a.text=this.oo.nodeValue):a.text=this.I.value;return a};d.Ic=function(a){this.I.title=a.tooltip;this.rf.disabled=a.disabled;this.$l?(this.rf.checked=a.checked,this.oo.nodeValue=a.text):this.I.value=a.text};d.Fg=function(){this.j.Ca||(jQuery(this.I).remove(),
this.I=null)};d.Pb=function(){this.ak()};d.ak=function(a){if(!this.j.Ca){var b=this.L.eb(this.x,this.y,!0),c=this.L.eb(this.x,this.y,!1),d=this.L.eb(this.x+this.width,this.y+this.height,!0),k=this.L.eb(this.x+this.width,this.y+this.height,!1),h=this.j.width/this.j.devicePixelRatio,n=this.j.height/this.j.devicePixelRatio;!this.visible||!this.L.visible||0>=d||0>=k||b>=h||c>=n?(this.Be||jQuery(this.I).hide(),this.Be=!0):(1>b&&(b=1),1>c&&(c=1),d>=h&&(d=h-1),k>=n&&(k=n-1),h=window.innerWidth,n=window.innerHeight,
a||this.Aj!==b||this.Dj!==c||this.Bj!==d||this.zj!==k||this.Fj!==h||this.Ej!==n?(this.Aj=b,this.Dj=c,this.Bj=d,this.zj=k,this.Fj=h,this.Ej=n,this.Be&&(jQuery(this.I).show(),this.Be=!1),a=Math.round(b)+jQuery(this.j.canvas).offset().left,h=Math.round(c)+jQuery(this.j.canvas).offset().top,jQuery(this.I).css("position","absolute"),jQuery(this.I).offset({left:a,top:h}),jQuery(this.I).width(Math.round(d-b)),jQuery(this.I).height(Math.round(k-c)),this.En&&jQuery(this.I).css("font-size",this.L.ie(!0)/this.j.devicePixelRatio-
.2+"em")):this.Be&&(jQuery(this.I).show(),this.Be=!1))}};d.Re=function(){};d.ge=function(){};a.prototype.qn=function(){return!0};b.K=new a;c.prototype.Pp=function(a){this.j.Ca||(this.$l?this.oo.nodeValue=a:this.I.value=a)};c.prototype.Qp=function(a){this.j.Ca||(this.visible=0!==a)};c.prototype.Sh=function(a){this.j.Ca||(this.rf.disabled=0===a)};b.ca=new c;b.Cb=new function(){}})();function sc(a){this.j=a}
(function(){function a(){}var c=sc.prototype;c.Fa=function(a){this.Ib=a;this.j=a.j};c.Fa.prototype.ma=function(){};c.za=function(a){this.type=a;this.j=a.j;this.ir=Array(256);this.Ss=Array(256);this.$j=0};var b=c.za.prototype;b.ma=function(){var a=this;this.j.Ca||(jQuery(document).keydown(function(b){a.fw(b)}),jQuery(document).keyup(function(b){a.gw(b)}))};var d=[32,33,34,35,36,37,38,39,40,44];b.fw=function(a){var b=!1;window!=window.top&&-1<d.indexOf(a.which)&&(a.preventDefault(),b=!0,a.stopPropagation());
if(this.ir[a.which])this.Ss[a.which]&&!b&&a.preventDefault();else{this.ir[a.which]=!0;this.$j=a.which;this.j.nc=!0;this.j.trigger(sc.prototype.K.VC,this);var c=this.j.trigger(sc.prototype.K.Gx,this),m=this.j.trigger(sc.prototype.K.dD,this);this.j.nc=!1;if(c||m)this.Ss[a.which]=!0,b||a.preventDefault()}};b.gw=function(a){this.ir[a.which]=!1;this.$j=a.which;this.j.nc=!0;this.j.trigger(sc.prototype.K.WC,this);var b=this.j.trigger(sc.prototype.K.Hx,this),c=this.j.trigger(sc.prototype.K.eD,this);this.j.nc=
!1;if(b||c||this.Ss[a.which])this.Ss[a.which]=!0,a.preventDefault()};b.oc=function(){return{triggerKey:this.$j}};b.Ic=function(a){this.$j=a.triggerKey};a.prototype.BC=function(a){return this.ir[a]};a.prototype.Gx=function(a){return a===this.$j};a.prototype.VC=function(){return!0};a.prototype.WC=function(){return!0};a.prototype.Hx=function(a){return a===this.$j};a.prototype.dD=function(a){return a===this.$j};a.prototype.eD=function(a){return a===this.$j};c.K=new a;c.ca=new function(){};c.Cb=new function(){}})();
function tc(a){this.j=a}
(function(){function a(){}function c(){}var b=tc.prototype;b.Fa=function(a){this.Ib=a;this.j=a.j};b.Fa.prototype.ma=function(){};b.za=function(a){this.type=a;this.j=a.j};var d=b.za.prototype;d.ma=function(){if(this.j.Ca)ha("[Construct 2] List plugin not supported on this platform - the object will not be created");else{this.I=document.createElement("select");this.I.id=this.M[7];jQuery(this.I).appendTo(this.j.ij?this.j.ij:"body");this.I.title=this.M[1];this.I.disabled=0===this.M[3];0===this.M[4]&&
(this.I.size=2);this.I.multiple=0!==this.M[5];this.En=0!==this.M[6];0===this.M[2]&&(jQuery(this.I).hide(),this.visible=!1);if(this.M[0]){var a=this.M[0].split(";"),b,c,d;b=0;for(c=a.length;b<c;b++)d=document.createElement("option"),d.text=a[b],this.I.add(d)}var k=this;this.I.onchange=function(){k.j.trigger(tc.prototype.K.pD,k)};this.I.onclick=function(a){a.stopPropagation();k.j.nc=!0;k.j.trigger(tc.prototype.K.qn,k);k.j.nc=!1};this.I.ondblclick=function(a){a.stopPropagation();k.j.nc=!0;k.j.trigger(tc.prototype.K.pt,
k);k.j.nc=!1};this.I.addEventListener("touchstart",function(a){a.stopPropagation()},!1);this.I.addEventListener("touchmove",function(a){a.stopPropagation()},!1);this.I.addEventListener("touchend",function(a){a.stopPropagation()},!1);jQuery(this.I).mousedown(function(a){a.stopPropagation()});jQuery(this.I).mouseup(function(a){a.stopPropagation()});this.Ej=this.Fj=this.zj=this.Bj=this.Dj=this.Aj=0;this.cm=!0;this.ak(!0);this.j.rl(this)}};d.oc=function(){var a={tooltip:this.I.title,disabled:!!this.I.disabled,
items:[],sel:[]},b,c,d=a.items;b=0;for(c=this.I.length;b<c;b++)d.push(this.I.options[b].text);d=a.sel;if(this.I.multiple)for(b=0,c=this.I.length;b<c;b++)this.I.options[b].selected&&d.push(b);else d.push(this.I.selectedIndex);return a};d.Ic=function(a){this.I.title=a.tooltip;this.I.disabled=a.disabled;for(var b=a.items;this.I.length;)this.I.remove(this.I.length-1);var c,d,k;c=0;for(d=b.length;c<d;c++)k=document.createElement("option"),k.text=b[c],this.I.add(k);a=a.sel;if(this.I.multiple)for(c=0,d=
a.length;c<d;c++)a[c]<this.I.length&&(this.I.options[a[c]].selected=!0);else 1<=a.length&&(this.I.selectedIndex=a[0])};d.Fg=function(){this.j.Ca||(jQuery(this.I).remove(),this.I=null)};d.Pb=function(){this.ak()};d.ak=function(a){if(!this.j.Ca){var b=this.L.eb(this.x,this.y,!0),c=this.L.eb(this.x,this.y,!1),d=this.L.eb(this.x+this.width,this.y+this.height,!0),k=this.L.eb(this.x+this.width,this.y+this.height,!1),h=this.j.width/this.j.devicePixelRatio,n=this.j.height/this.j.devicePixelRatio;!this.visible||
!this.L.visible||0>=d||0>=k||b>=h||c>=n?(this.cm&&jQuery(this.I).hide(),this.cm=!1):(1>b&&(b=1),1>c&&(c=1),d>=h&&(d=h-1),k>=n&&(k=n-1),h=window.innerWidth,n=window.innerHeight,a||this.Aj!==b||this.Dj!==c||this.Bj!==d||this.zj!==k||this.Fj!==h||this.Ej!==n?(this.Aj=b,this.Dj=c,this.Bj=d,this.zj=k,this.Fj=h,this.Ej=n,this.cm||(jQuery(this.I).show(),this.cm=!0),a=Math.round(b)+jQuery(this.j.canvas).offset().left,h=Math.round(c)+jQuery(this.j.canvas).offset().top,jQuery(this.I).css("position","absolute"),
jQuery(this.I).offset({left:a,top:h}),jQuery(this.I).width(Math.round(d-b)),jQuery(this.I).height(Math.round(k-c)),this.En&&jQuery(this.I).css("font-size",this.L.ie(!0)/this.j.devicePixelRatio-.2+"em")):this.cm||(jQuery(this.I).show(),this.cm=!0))}};d.Re=function(){};d.ge=function(){};a.prototype.pD=function(){return!0};a.prototype.qn=function(){return!0};a.prototype.pt=function(){return!0};b.K=new a;c.prototype.Qp=function(a){this.j.Ca||(this.visible=0!==a)};c.prototype.Sh=function(a){this.j.Ca||
(this.I.disabled=0===a)};c.prototype.cn=function(){if(!this.j.Ca)for(;this.I.length;)this.I.remove(0)};b.ca=new c;b.Cb=new function(){}})();function uc(a){this.j=a}
(function(){function a(){}function c(){}function b(){}var d=uc.prototype;d.Fa=function(a){this.Ib=a;this.j=a.j};d.Fa.prototype.ma=function(){};d.za=function(a){this.type=a;this.j=a.j;this.cq=Array(4);this.sB=this.Os=this.Tm=this.Ci=this.Bi=0;this.Mu=!1};var e=d.za.prototype;e.ma=function(){var a=this;if(!this.j.Ca){jQuery(document).mousemove(function(b){a.KH(b)});jQuery(document).mousedown(function(b){a.JH(b)});jQuery(document).mouseup(function(b){a.LH(b)});jQuery(document).dblclick(function(b){a.IH(b)});
var b=function(b){a.NH(b)};document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var g={left:0,top:0};e.KH=function(a){var b=this.j.Ca?g:jQuery(this.j.canvas).offset();this.Bi=a.pageX-b.left;this.Ci=a.pageY-b.top};e.kA=function(){return 0<this.j.Se?!0:0<=this.Bi&&0<=this.Ci&&this.Bi<this.j.width&&this.Ci<this.j.height};e.JH=function(a){this.kA()&&(this.j.Lu&&!this.j.ih&&a.preventDefault(),this.cq[a.which]=!0,this.j.nc=!0,this.j.trigger(uc.prototype.K.UC,this),
this.Tm=a.which-1,this.Os=0,this.j.trigger(uc.prototype.K.nt,this),this.j.trigger(uc.prototype.K.ut,this),this.j.nc=!1)};e.LH=function(a){this.cq[a.which]&&(this.j.Lu&&!this.j.ih&&a.preventDefault(),this.j.Lu=!0,this.cq[a.which]=!1,this.j.nc=!0,this.Tm=a.which-1,this.j.trigger(uc.prototype.K.Lx,this),this.j.nc=!1)};e.IH=function(a){this.kA()&&(a.preventDefault(),this.j.nc=!0,this.Tm=a.which-1,this.Os=1,this.j.trigger(uc.prototype.K.nt,this),this.j.trigger(uc.prototype.K.ut,this),this.j.nc=!1)};e.NH=
function(a){this.sB=0>(a.wheelDelta?a.wheelDelta:a.detail?-a.detail:0)?0:1;this.Mu=!1;this.j.nc=!0;this.j.trigger(uc.prototype.K.tD,this);this.j.nc=!1;this.Mu&&kb(a)&&a.preventDefault()};a.prototype.nt=function(a,b){return a===this.Tm&&b===this.Os};a.prototype.UC=function(){return!0};a.prototype.vC=function(a){return this.cq[a+1]};a.prototype.Lx=function(a){return a===this.Tm};a.prototype.FC=function(a){var b=this.j.Ck();return Ta(this.j.oB(a,this.Bi,this.Ci,b.Zl),b.Zl)};a.prototype.ut=function(a,
b,c){return a!==this.Tm||b!==this.Os?!1:this.j.oB(c,this.Bi,this.Ci,!1)};a.prototype.tD=function(a){this.Mu=!0;return a===this.sB};d.K=new a;c.prototype.FD=function(a){a="auto pointer text crosshair move help wait none".split(" ")[a];this.j.canvas&&this.j.canvas.style&&(this.j.canvas.style.cursor=a)};d.ca=new c;b.prototype.Kt=function(a,b){var c,d,e,l,g;ja(b)?(c=this.j.Un(0),d=c.scale,e=c.Rg,l=c.$f,g=c.N,c.scale=1,c.Rg=1,c.$f=1,c.N=0,a.Da(c.Oe(this.Bi,this.Ci,!0)),c.scale=d,c.Rg=e,c.$f=l,c.N=g):(c=
ka(b)?this.j.Un(b):this.j.Fu(b))?a.Da(c.Oe(this.Bi,this.Ci,!0)):a.Da(0)};b.prototype.Lt=function(a,b){var c,d,e,l,g;ja(b)?(c=this.j.Un(0),d=c.scale,e=c.Rg,l=c.ag,g=c.N,c.scale=1,c.Rg=1,c.ag=1,c.N=0,a.Da(c.Oe(this.Bi,this.Ci,!1)),c.scale=d,c.Rg=e,c.ag=l,c.N=g):(c=ka(b)?this.j.Un(b):this.j.Fu(b))?a.Da(c.Oe(this.Bi,this.Ci,!1)):a.Da(0)};d.Cb=new b})();function B(a){this.j=a}
(function(){function a(){if(0===this.gu.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Rm?b.drawImage(this.Ea,this.Jm,this.Km,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Ea,0,0,this.width,this.height);this.gu=a.toDataURL("image/png")}return this.gu}function c(){}function b(a){a[0]=0;a[1]=0;a[2]=0;q.push(a)}function d(a,b){return a<b?""+a+","+b:""+b+","+a}function e(a,b,c,e){b=b.uid;c=c.uid;var f=d(b,c);if(a.hasOwnProperty(f))a[f][2]=
e;else{var l=q.length?q.pop():[0,0,0];l[0]=b;l[1]=c;l[2]=e;a[f]=l}}function g(a,c,e){c=d(c.uid,e.uid);a.hasOwnProperty(c)&&(b(a[c]),delete a[c])}function f(a,b,c){b=d(b.uid,c.uid);if(a.hasOwnProperty(b))return p=a[b][2],!0;p=-2;return!1}function m(){}var k=B.prototype;k.Fa=function(a){this.Ib=a;this.j=a.j};var h=k.Fa.prototype;h.ma=function(){if(!this.xa){var b,c,d,e,f,l,g,h,m;this.qg=[];this.$n=!1;b=0;for(c=this.Ne.length;b<c;b++){f=this.Ne[b];g={};g.name=f[0];g.speed=f[1];g.loop=f[2];g.ww=f[3];
g.ns=f[4];g.GA=f[5];g.lb=f[6];g.frames=[];d=0;for(e=f[7].length;d<e;d++)l=f[7][d],h={},h.Gs=l[0],h.Ow=l[1],h.Jm=l[2],h.Km=l[3],h.width=l[4],h.height=l[5],h.duration=l[6],h.je=l[7],h.ke=l[8],h.Ru=l[9],h.Yr=l[10],h.HA=l[11],h.Rm=0!==h.width,h.gu="",h.OJ=a,m={left:0,top:0,right:1,bottom:1},h.Iw=m,h.Pa=null,(m=this.j.WF(l[0]))?h.Ea=m:(h.Ea=new Image,h.Ea.NE=l[0],h.Ea.Fy=l[1],h.Ea.IE=null,this.j.cx(h.Ea,l[0])),g.frames.push(h),this.qg.push(h);this.Ne[b]=g}}};h.BB=function(){var a,b,c;a=0;for(b=this.C.length;a<
b;a++)c=this.C[a],c.uq=c.Kf.Pa};h.To=function(){if(!this.xa){var a,b,c;a=0;for(b=this.qg.length;a<b;++a)c=this.qg[a],c.Ea.IE=null,c.Pa=null;this.$n=!1;this.BB()}};h.Vr=function(){if(!this.xa&&this.C.length){var a,b,c;a=0;for(b=this.qg.length;a<b;++a)c=this.qg[a],c.Pa=this.j.fa.qm(c.Ea,!1,this.j.qb,c.HA);this.BB()}};h.yv=function(){if(!this.xa&&!this.$n&&this.j.fa){var a,b,c;a=0;for(b=this.qg.length;a<b;++a)c=this.qg[a],c.Pa=this.j.fa.qm(c.Ea,!1,this.j.qb,c.HA);this.$n=!0}};h.Qs=function(){if(!this.xa&&
!this.C.length&&this.$n){var a,b,c;a=0;for(b=this.qg.length;a<b;++a)c=this.qg[a],this.j.fa.deleteTexture(c.Pa),c.Pa=null;this.$n=!1}};var n=[];h.bs=function(a){var b,c,d;b=n.length=0;for(c=this.qg.length;b<c;++b)d=this.qg[b].Ea,-1===n.indexOf(d)&&(a.drawImage(d,0,0),n.push(d))};k.za=function(a){this.type=a;this.j=a.j;a=this.type.Ne[0].frames[0].Yr;this.we?this.cb.gp(a):this.cb=new cb(a)};var l=k.za.prototype;l.ma=function(){this.visible=0===this.M[0];this.Tu=this.bv=!1;this.Yh=0!==this.M[3];1===this.type.Ne.length&&
1===this.type.Ne[0].frames.length||0===this.type.Ne[0].speed||(this.j.rl(this),this.bv=!0);this.Vb=this.Wy(this.M[1])||this.type.Ne[0];this.pa=this.M[2];0>this.pa&&(this.pa=0);this.pa>=this.Vb.frames.length&&(this.pa=this.Vb.frames.length-1);var a=this.Vb.frames[this.pa];this.cb.gp(a.Yr);this.je=a.je;this.ke=a.ke;this.Kn=this.Vb.speed;this.we?this.Yg.reset():this.Yg=new ab;this.ei=this.Yg.Va;this.nk=!0;this.Vh=0;this.mk=!0;this.hq=this.iy="";this.zy=0;this.Xt=-1;this.type.yv();var b,c,d,e,f,l,h,a=
0;for(b=this.type.Ne.length;a<b;a++)for(e=this.type.Ne[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.Ea.width,f.height=f.Ea.height),f.Rm&&(h=f.Ea,l=f.Iw,l.left=f.Jm/h.width,l.top=f.Km/h.height,l.right=(f.Jm+f.width)/h.width,l.bottom=(f.Km+f.height)/h.height,0===f.Jm&&0===f.Km&&f.width===h.width&&f.height===h.height&&(f.Rm=!1));this.Kf=this.Vb.frames[this.pa];this.uq=this.Kf.Pa};l.oc=function(){var a={a:this.Vb.lb,f:this.pa,cas:this.Kn,fs:this.ei,ar:this.Vh,at:this.Yg.Va};
this.nk||(a.ap=this.nk);this.mk||(a.af=this.mk);return a};l.Ic=function(a){var b=this.aG(a.a);b&&(this.Vb=b);this.pa=a.f;0>this.pa&&(this.pa=0);this.pa>=this.Vb.frames.length&&(this.pa=this.Vb.frames.length-1);this.Kn=a.cas;this.ei=a.fs;this.Vh=a.ar;this.Yg.reset();this.Yg.Va=a.at;this.nk=a.hasOwnProperty("ap")?a.ap:!0;this.mk=a.hasOwnProperty("af")?a.af:!0;this.Kf=this.Vb.frames[this.pa];this.uq=this.Kf.Pa;this.cb.gp(this.Kf.Yr);this.je=this.Kf.je;this.ke=this.Kf.ke};l.Rt=function(a){this.pa=a?0:
this.Vb.frames.length-1;this.nk=!1;this.iy=this.Vb.name;this.Tu=!0;this.j.trigger(B.prototype.K.TC,this);this.j.trigger(B.prototype.K.SC,this);this.Tu=!1;this.Vh=0};l.QJ=function(){return this.Yg.Va};l.Pb=function(){this.Yg.add(this.j.sj(this));this.hq.length&&this.Ly();0<=this.Xt&&this.UE();var a=this.Yg.Va,b=this.Vb,c=b.frames[this.pa],d=c.duration/this.Kn;this.nk&&a>=this.ei+d&&(this.mk?this.pa++:this.pa--,this.ei+=d,this.pa>=b.frames.length&&(b.GA?(this.mk=!1,this.pa=b.frames.length-2):b.loop?
this.pa=b.ns:(this.Vh++,this.Vh>=b.ww?this.Rt(!1):this.pa=b.ns)),0>this.pa&&(b.GA?(this.pa=1,this.mk=!0,b.loop||(this.Vh++,this.Vh>=b.ww&&this.Rt(!0))):b.loop?this.pa=b.ns:(this.Vh++,this.Vh>=b.ww?this.Rt(!0):this.pa=b.ns)),0>this.pa?this.pa=0:this.pa>=b.frames.length&&(this.pa=b.frames.length-1),a>this.ei+b.frames[this.pa].duration/this.Kn&&(this.ei=a),a=b.frames[this.pa],this.Fl(c,a),this.j.jb=!0)};l.Wy=function(a){var b,c,d;b=0;for(c=this.type.Ne.length;b<c;b++)if(d=this.type.Ne[b],jb(d.name,a))return d;
return null};l.aG=function(a){var b,c,d;b=0;for(c=this.type.Ne.length;b<c;b++)if(d=this.type.Ne[b],d.lb===a)return d;return null};l.Ly=function(){var a=this.Vb.frames[this.pa],b=this.Wy(this.hq);this.hq="";!b||jb(b.name,this.Vb.name)&&this.nk||(this.Vb=b,this.Kn=b.speed,0>this.pa&&(this.pa=0),this.pa>=this.Vb.frames.length&&(this.pa=this.Vb.frames.length-1),1===this.zy&&(this.pa=0),this.nk=!0,this.ei=this.Yg.Va,this.mk=!0,this.Fl(a,this.Vb.frames[this.pa]),this.j.jb=!0)};l.UE=function(){var a=this.Vb.frames[this.pa],
b=this.pa;this.pa=ta(this.Xt);0>this.pa&&(this.pa=0);this.pa>=this.Vb.frames.length&&(this.pa=this.Vb.frames.length-1);b!==this.pa&&(this.Fl(a,this.Vb.frames[this.pa]),this.ei=this.Yg.Va,this.j.jb=!0);this.Xt=-1};l.Fl=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.je=b.je;this.ke=b.ke;this.cb.gp(b.Yr);this.ba();this.Kf=b;this.uq=b.Pa;c=0;for(d=this.Qa.length;c<d;c++)e=this.Qa[c],e.vA&&e.vA(a,b);this.j.trigger(B.prototype.K.Fl,this)};
l.Re=function(a){a.globalAlpha=this.opacity;var b=this.Kf,c=b.Rm,d=b.Ea,e=this.x,f=this.y,l=this.width,h=this.height;if(0===this.N&&0<=l&&0<=h)e-=this.je*l,f-=this.ke*h,this.j.bg&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.Jm,b.Km,b.width,b.height,e,f,l,h):a.drawImage(d,e,f,l,h);else{this.j.bg&&(e=Math.round(e),f=Math.round(f));a.save();var g=0<l?1:-1,m=0<h?1:-1;a.translate(e,f);1===g&&1===m||a.scale(g,m);a.rotate(this.N*g*m);e=0-this.je*oa(l);f=0-this.ke*oa(h);c?a.drawImage(d,b.Jm,b.Km,
b.width,b.height,e,f,oa(l),oa(h)):a.drawImage(d,e,f,oa(l),oa(h));a.restore()}};l.ge=function(a){a.He(this.uq);a.Tj(this.opacity);var b=this.Kf,c=this.Jb;if(this.j.bg){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.Rm?a.Jg(c.Lb+d,c.Mb+e,c.Oc+d,c.Pc+e,c.Ec+d,c.Fc+e,c.Cc+d,c.Dc+e,b.Iw):a.es(c.Lb+d,c.Mb+e,c.Oc+d,c.Pc+e,c.Ec+d,c.Fc+e,c.Cc+d,c.Dc+e)}else b.Rm?a.Jg(c.Lb,c.Mb,c.Oc,c.Pc,c.Ec,c.Fc,c.Cc,c.Dc,b.Iw):a.es(c.Lb,c.Mb,c.Oc,c.Pc,c.Ec,c.Fc,c.Cc,c.Dc)};l.gG=function(a){var b=this.Kf,c,
d;c=0;for(d=b.Ru.length;c<d;c++)if(jb(a,b.Ru[c][0]))return c;return-1};l.Qf=function(a,b){var c=this.Kf,d=c.Ru,e;e=la(a)?this.gG(a):a-1;e=ta(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.je)*this.width,d=d[e][2],d=(d-c.ke)*this.height,c=Math.cos(this.N);e=Math.sin(this.N);var l=f*c-d*e,d=d*c+f*e,f=l+this.x,d=d+this.y;return b?f:d};var q=[],p=-2,s=[];c.prototype.YC=function(a){if(!a)return!1;var c=this.j,d=c.Ck(),l=d.type;d.da.collmemory||(d.da.collmemory={},c.Sp(function(a){return function(c){c=
c.uid;var d,e;for(d in a)a.hasOwnProperty(d)&&(e=a[d],e[0]===c||e[1]===c)&&(b(a[d]),delete a[d])}}(d.da.collmemory)));var d=d.da.collmemory,h=l.Ya(),m=a.Ya(),h=h.qf(),n,k,q,t,u,z,A,H=this.j.gf,G=H-1,F=c.Zc().Uc;for(k=0;k<h.length;k++){q=h[k];m.kb?(q.ib(),this.j.Cu(q.L,a,q.ac,s),n=s):n=m.qf();for(t=0;t<n.length;t++)u=n[t],c.Ie(q,u)||c.LE(q,u)?(z=f(d,q,u),z=!z||p<G,e(d,q,u,H),z&&(c.Mm(F.Bb),z=l.Ya(),A=a.Ya(),z.kb=!1,A.kb=!1,l===a?(z.C.length=2,z.C[0]=q,z.C[1]=u,l.sg()):(z.C.length=1,A.C.length=1,z.C[0]=
q,A.C[0]=u,l.sg(),a.sg()),F.$o(),c.Fi(F.Bb))):g(d,q,u);s.length=0}return!1};var u=null,t=new ea,z=!1,A=[],H=new wa(0,0,0,0);h.finish=function(a){if(z){if(a){var b=this.j.Zc().Uc.Zf;a=u.Ya();var c=t.Pg(),d,e;if(a.kb){a.kb=!1;a.C.length=c.length;d=0;for(e=c.length;d<e;d++)a.C[d]=c[d];if(b)for(d=a.yb.length=0,e=u.C.length;d<e;d++)c=u.C[d],t.contains(c)||a.yb.push(c)}else if(b)for(b=a.C.length,a.C.length=b+c.length,d=0,e=c.length;d<e;d++)a.C[b+d]=c[d],Fa(a.yb,c[d]);else Aa(a.C,c);u.sg()}t.clear();z=!1}};
c.prototype.GC=function(a){if(a){var b=!1,c,d,e,f=this.j.Ck(),l=f.type,f=f.Zl;c=a.Ya();d=this.j.Zc().Uc.Zf;var h;c.kb?(this.ib(),H.Jn(this.ac),H.offset(0,0),this.j.Cu(this.L,a,H,A),h=A):h=d?c.yb:c.C;u=a;z=l!==a&&!f;c=0;for(d=h.length;c<d;c++)if(e=h[c],this.j.Ie(this,e)){b=!0;if(f)break;l!==a&&t.add(e)}A.length=0;a=b}else a=!1;return a};c.prototype.SC=function(a){return jb(this.iy,a)};c.prototype.TC=function(){return!0};c.prototype.Fl=function(){return!0};k.K=new c;m.prototype.ZD=function(a,b,c){if(a&&
b&&(b=this.j.Gy(a,b,this.Qf(c,!0),this.Qf(c,!1)))){"undefined"!==typeof b.N&&(b.N=this.N,b.ba());this.j.xg++;var d,e,f;this.j.trigger(Object.getPrototypeOf(a.Ib).K.ot,b);if(b.Ve)for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],this.j.trigger(Object.getPrototypeOf(f.type.Ib).K.ot,f);this.j.xg--;d=this.j.cG();c=!1;if(ja(d.da.Spawn_LastExec)||d.da.Spawn_LastExec<this.j.Ak)c=!0,d.da.Spawn_LastExec=this.j.Ak;if(a!=this.type&&(a=a.Ya(),a.kb=!1,c?(a.C.length=1,a.C[0]=b):a.C.push(b),b.Ve))for(d=0,e=b.siblings.length;d<
e;d++)f=b.siblings[d],a=f.type.Ya(),a.kb=!1,c?(a.C.length=1,a.C[0]=f):a.C.push(f)}};m.prototype.DD=function(a,b){this.hq=a;this.zy=b;this.bv||(this.j.rl(this),this.bv=!0);this.Tu||this.Ly()};m.prototype.MD=function(a){a=oa(this.width)*(0===a?-1:1);this.width!==a&&(this.width=a,this.ba())};m.prototype.HD=function(a){a=oa(this.height)*(0===a?-1:1);this.height!==a&&(this.height=a,this.ba())};k.ca=new m;k.Cb=new function(){}})();function vc(a){this.j=a}
(function(){function a(a,b){return a.length?a.pop():new b}function c(a,b,c){if(c){var d;c=0;for(d=b.length;c<d;c++)a.length<k&&a.push(b[c]);b.length=0}else for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a.length<k&&a.push(b[d]),delete b[d])}function b(b,c,d){var e=b.me;d=d.replace(/\s\s*$/,"");c>=e.length&&e.push(a(h,Object));c=e[c];c.text=d;c.width=b.Zv(d);b.Oi=pa(b.Oi,c.width)}function d(){}function e(){}function g(){}var f=vc.prototype;f.ma=function(){};f.Fa=function(a){this.Ib=a;this.j=
a.j};var m=f.Fa.prototype;m.ma=function(){this.xa||(this.Ea=new Image,this.j.cx(this.Ea,this.Gs),this.Pa=null)};m.To=function(){this.xa||(this.Pa=null)};m.Vr=function(){if(!this.xa&&this.C.length){this.Pa||(this.Pa=this.j.fa.qm(this.Ea,!1,this.j.qb,this.np));var a,b;a=0;for(b=this.C.length;a<b;a++)this.C[a].Pa=this.Pa}};m.Qs=function(){this.xa||this.C.length||!this.Pa||(this.j.fa.deleteTexture(this.Pa),this.Pa=null)};m.bs=function(a){a.drawImage(this.Ea,0,0)};f.za=function(a){this.type=a;this.j=a.j};
m=f.za.prototype;m.Fg=function(){c(h,this.me,!0);c(n,this.jq,!1);c(l,this.kq,!1);Wa(this.lj)};m.ma=function(){this.Ea=this.type.Ea;this.iq=this.M[0];this.jj=this.M[1];this.characterSet=this.M[2];this.text=this.M[3];this.kj=this.M[4];this.visible=0===this.M[5];this.Fk=this.M[6]/2;this.sl=this.M[7]/2;this.xp=0===this.M[9];this.Ml=this.M[10];this.lineHeight=this.M[11];this.Ih=this.Oi=0;this.we?(this.me.length=0,Wa(this.jq),Wa(this.kq),Wa(this.lj)):(this.me=[],this.jq={},this.kq={},this.lj={});this.Bf=
!0;this.Vk=this.width;this.j.fa&&(this.type.Pa||(this.type.Pa=this.j.fa.qm(this.type.Ea,!1,this.j.qb,this.type.np)),this.Pa=this.type.Pa);this.$D()};m.oc=function(){var a={t:this.text,csc:this.kj,csp:this.Ml,lh:this.lineHeight,tw:this.Oi,th:this.Ih,lrt:this.Uk,cw:{}},b;for(b in this.lj)a.cw[b]=this.lj[b];return a};m.Ic=function(a){this.text=a.t;this.kj=a.csc;this.Ml=a.csp;this.lineHeight=a.lh;this.Oi=a.tw;this.Ih=a.th;this.Uk=a.lrt;for(var b in a.cw)this.lj[b]=a.cw[b];this.Bf=!0;this.Vk=this.width};
var k=1E3,h=[],n=[],l=[];m.$D=function(){for(var b=this.Ea,c=b.width,d=b.height,b=this.iq,e=this.jj,f=b/c,h=e/d,g=this.characterSet,c=Math.floor(c/b),d=Math.floor(d/e),m=0;m<g.length&&!(m>=c*d);m++){var k=m%c,q=Math.floor(m/c),p=g.charAt(m);if(this.j.fa){var x=this.kq,K=k*f,L=q*h,k=(k+1)*f,q=(q+1)*h;void 0===x[p]&&(x[p]=a(l,wa));x[p].left=K;x[p].top=L;x[p].right=k;x[p].bottom=q}else x=this.jq,k*=b,q*=e,K=b,L=e,void 0===x[p]&&(x[p]=a(n,Object)),x[p].x=k,x[p].y=q,x[p].Qc=K,x[p].fz=L}};var q=[];f.Ft=
function(a){q.length=0;for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(q.push(b),b=""),q.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));q.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&q.push(b)};f.It=function(b){var d=b.text,e=b.me;if(d&&d.length){var f=b.width;if(2>=f)c(h,e,!0);else{var l=b.kj,g=b.Ml;if(d.length*(b.iq*l+g)-g<=f&&-1===d.indexOf("\n")&&(g=b.Zv(d),g<=f)){c(h,e,!0);e.push(a(h,
Object));e[0].text=d;e[0].width=g;b.Oi=g;b.Ih=b.jj*l+b.lineHeight;return}this.Jt(b);b.Ih=e.length*(b.jj*l+b.lineHeight)}}else c(h,e,!0)};f.Jt=function(a){var c=a.xp,d=a.text,e=a.me,f=a.width;c&&(this.Ft(d),d=q);var l="",g,m,n,p=0,D=!1;for(n=0;n<d.length;n++)"\n"===d[n]?(!0===D?D=!1:(b(a,p,l),p++),l=""):(D=!1,g=l,l+=d[n],m=a.Zv(l.replace(/\s\s*$/,"")),m>f&&(""===g?(b(a,p,l),l="",D=!0):(b(a,p,g),l=d[n]),p++,c||" "!==l||(l="")));l.replace(/\s\s*$/,"").length&&(b(a,p,l),p++);for(n=p;n<e.length;n++)h.length<
k&&h.push(e[n]);e.length=p};m.Zv=function(a){for(var b=this.Ml,c=a.length,d=0,e=0;e<c;e++)d+=this.Bu(a.charAt(e))*this.kj+b;return d-(0<d?b:0)};m.Bu=function(a){var b=this.lj;return void 0!==b[a]?b[a]:this.iq};m.SA=function(){if(this.Bf||this.width!==this.Vk)this.Ih=this.Oi=0,this.type.Ib.It(this),this.Bf=!1,this.Vk=this.width};m.Re=function(a){var b=this.Ea;if(""!==this.text&&null!=b&&(this.SA(),!(this.height<this.jj*this.kj+this.lineHeight))){a.globalAlpha=this.opacity;var b=this.x,c=this.y;this.j.bg&&
(b=Math.round(b),c=Math.round(c));var d=this.L.kc,e=this.L.lc,f=this.L.yc,l=this.L.xc;a.save();a.translate(b,c);a.rotate(this.N);for(var h=this.Fk,g=this.kj,m=this.jj*g,n=this.lineHeight,k=this.Ml,q=this.me,p,da=-(this.je*this.width),R=-(this.ke*this.height),R=R+this.sl*pa(0,this.height-this.Ih),N,S,J,T=0;T<q.length;T++){var G=q[T].text;p=h*pa(0,this.width-q[T].width);N=da+p;R+=n;if(c+R+m<e)R+=m;else{for(var F=0;F<G.length;F++){S=G.charAt(F);p=this.Bu(S);var M=this.jq[S];if(b+N+p*g+k<d)N+=p*g+k;else{if(N+
p*g>this.width+1E-5)break;void 0!==M&&(S=N,J=R,0===this.N&&(S=Math.round(S),J=Math.round(J)),a.drawImage(this.Ea,M.x,M.y,M.Qc,M.fz,S,J,M.Qc*g,M.fz*g));N+=p*g+k;if(b+N>f)break}}R+=m;if(R+m+n>this.height||c+R>l)break}}a.restore()}};var p=new xa;m.ge=function(a){a.He(this.Pa);a.Tj(this.opacity);if(this.text&&(this.SA(),!(this.height<this.jj*this.kj+this.lineHeight))){this.ib();var b=this.Jb,c=0,d=0;this.j.bg&&(c=Math.round(this.x)-this.x,d=Math.round(this.y)-this.y);var e=this.L.kc,f=this.L.lc,l=this.L.yc,
h=this.L.xc,g=this.N,m=this.Fk,n=this.sl,k=this.kj,q=this.jj*k,L=this.lineHeight,da=this.Ml,R=this.me,N=this.Ih,S,J,T;0!==g&&(J=Math.cos(g),T=Math.sin(g));for(var c=b.Lb+c,b=b.Mb+d,G,n=n*pa(0,this.height-N),F,M,N=0;N<R.length;N++)if(d=R[N].text,G=S=m*pa(0,this.width-R[N].width),n+=L,0===g&&b+n+q<f)n+=q;else{for(var P=0;P<d.length;P++){var U=d.charAt(P);S=this.Bu(U);U=this.kq[U];if(c+G+S*k+da<e)G+=S*k+da;else{if(G+S*k>this.width+1E-5)break;if(void 0!==U){var O=this.iq*k,ca=this.jj*k;F=G;M=n;0===g&&
(F=Math.round(F),M=Math.round(M));p.Lb=F;p.Mb=M;p.Oc=F+O;p.Pc=M;p.Cc=F;p.Dc=M+ca;p.Ec=F+O;p.Fc=M+ca;0!==g&&(F=p,M=J,O=T,ca=void 0,ca=F.Lb*M-F.Mb*O,F.Mb=F.Mb*M+F.Lb*O,F.Lb=ca,ca=F.Oc*M-F.Pc*O,F.Pc=F.Pc*M+F.Oc*O,F.Oc=ca,ca=F.Cc*M-F.Dc*O,F.Dc=F.Dc*M+F.Cc*O,F.Cc=ca,ca=F.Ec*M-F.Fc*O,F.Fc=F.Fc*M+F.Ec*O,F.Ec=ca);p.offset(c,b);a.Jg(p.Lb,p.Mb,p.Oc,p.Pc,p.Ec,p.Fc,p.Cc,p.Dc,U)}G+=S*k+da;if(0===g&&c+G>l)break}}n+=q;if(n+q+L>this.height||b+n>h)break}}};d.prototype.Vs=function(a,b){return b?this.text==a:jb(this.text,
a)};f.K=new d;e.prototype.Pp=function(a){ka(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Bf=!0,this.j.jb=!0)};m.vJ=function(a,b){var c=parseInt(b,10);this.lj[a]!==c&&(this.lj[a]=c,this.Bf=!0,this.j.jb=!0)};f.ca=new e;g.prototype.Text=function(a){a.Kd(this.text)};f.Cb=new g})();function wc(a){this.j=a}
(function(){function a(){return k.length?k.pop():{}}function c(a){var b,c;b=0;for(c=a.length;b<c;b++)k.push(a[b]);a.length=0}function b(){}function d(){}function e(){}var g=wc.prototype;g.ma=function(){g.ca.TD=function(a){this.width!==a&&(this.width=a,this.Bf=!0,this.ba())}};g.Fa=function(a){this.Ib=a;this.j=a.j};var f=g.Fa.prototype;f.ma=function(){};f.To=function(){if(!this.xa){var a,b,c;a=0;for(b=this.C.length;a<b;a++)c=this.C[a],c.wh=null,c.ml=null,c.bf=null}};g.za=function(a){this.type=a;this.j=
a.j;this.we?this.me.length=0:this.me=[];this.Bf=!0};f=g.za.prototype;f.ma=function(){this.text=this.M[0];this.visible=0===this.M[1];this.font=this.M[2];this.color=this.M[3];this.Fk=this.M[4];this.sl=this.M[5];this.xp=0===this.M[7];this.Vk=this.rr=this.width;this.qr=this.height;this.uv=this.M[8];this.Nq=this.Sl="";this.Ih=this.Oi=this.Yo=0;this.OH();this.bf=this.ml=this.wh=null;this.mA=!1;this.Uk=this.j.gf;this.we?this.Qj.set(0,0,1,1):this.Qj=new wa(0,0,1,1);this.j.fa&&this.j.rl(this)};f.OH=function(){var a=
this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Yo=parseInt(a[b].substr(0,a[b].length-2));this.qw=Math.ceil(this.Yo/72*96)+4;0<b&&(this.Nq=a[b-1]);this.Sl=a[b+1];for(b+=2;b<a.length;b++)this.Sl+=" "+a[b];break}};f.oc=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Fk,va:this.sl,wr:this.xp,lho:this.uv,fn:this.Sl,fs:this.Nq,ps:this.Yo,pxh:this.qw,tw:this.Oi,th:this.Ih,lrt:this.Uk}};f.Ic=function(a){this.text=a.t;this.font=a.f;this.color=a.c;
this.Fk=a.ha;this.sl=a.va;this.xp=a.wr;this.uv=a.lho;this.Sl=a.fn;this.Nq=a.fs;this.Yo=a.ps;this.qw=a.pxh;this.Oi=a.tw;this.Ih=a.th;this.Uk=a.lrt;this.Bf=!0;this.Vk=this.rr=this.width;this.qr=this.height};f.Pb=function(){if(this.j.fa&&this.bf&&300<=this.j.gf-this.Uk){var a=this.L;this.ib();var b=this.ac;if(b.right<a.kc||b.bottom<a.lc||b.left>a.yc||b.top>a.xc)this.j.fa.deleteTexture(this.bf),this.wh=this.ml=this.bf=null}};f.Fg=function(){this.wh=this.ml=null;this.j.fa&&this.bf&&this.j.fa.deleteTexture(this.bf);
this.bf=null};f.$J=function(){this.font=this.Nq+" "+this.Yo.toString()+"pt "+this.Sl;this.Bf=!0;this.j.jb=!0};f.Re=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=this.L.ie(),a.save(),a.scale(c,c));if(this.Bf||this.width!==this.Vk)this.type.Ib.It(this.text,this.me,a,this.width,this.xp),this.Bf=!1,this.Vk=this.width;this.ib();var c=b?0:this.Jb.Lb,d=b?0:this.Jb.Mb;this.j.bg&&(c=c+.5|0,d=d+.5|0);0===this.N||b||(a.save(),a.translate(c,
d),a.rotate(this.N),d=c=0);var e=d+this.height,f=this.qw,f=f+this.uv,g,m;1===this.sl?d+=Math.max(this.height/2-this.me.length*f/2,0):2===this.sl&&(d+=Math.max(this.height-this.me.length*f-2,0));for(m=0;m<this.me.length&&!(g=c,1===this.Fk?g=c+(this.width-this.me[m].width)/2:2===this.Fk&&(g=c+(this.width-this.me[m].width)),a.fillText(this.me[m].text,g,d),d+=f,d>=e-f);m++);(0!==this.N||b)&&a.restore();this.Uk=this.j.gf};f.ge=function(a){if(!(1>this.width||1>this.height)){var b=this.Bf||this.mA;this.mA=
!1;var c=this.L.ie(),d=this.L.Yc(),e=this.Qj,f=c*this.width,g=c*this.height,m=Math.ceil(f),k=Math.ceil(g),A=this.j.Xa/2,H=this.j.Wa/2;this.ml||(this.wh=document.createElement("canvas"),this.wh.width=m,this.wh.height=k,this.rr=m,this.qr=k,b=!0,this.ml=this.wh.getContext("2d"));if(m!==this.rr||k!==this.qr)this.wh.width=m,this.wh.height=k,this.bf&&(a.deleteTexture(this.bf),this.bf=null),b=!0;b&&(this.ml.clearRect(0,0,m,k),this.Re(this.ml,!0),this.bf||(this.bf=a.Zh(m,k,this.j.qb,this.j.ih)),a.GI(this.wh,
this.bf,this.j.ih));this.rr=m;this.qr=k;a.He(this.bf);a.Tj(this.opacity);a.Ch();a.translate(-A,-H);a.Kh();var y=this.Jb,b=this.L.eb(y.Lb,y.Mb,!0,!0),A=this.L.eb(y.Lb,y.Mb,!1,!0),H=this.L.eb(y.Oc,y.Pc,!0,!0),C=this.L.eb(y.Oc,y.Pc,!1,!0),I=this.L.eb(y.Ec,y.Fc,!0,!0),E=this.L.eb(y.Ec,y.Fc,!1,!0),D=this.L.eb(y.Cc,y.Dc,!0,!0),y=this.L.eb(y.Cc,y.Dc,!1,!0);if(this.j.bg||0===this.N&&0===d)var x=(b+.5|0)-b,K=(A+.5|0)-A,b=b+x,A=A+K,H=H+x,C=C+K,I=I+x,E=E+K,D=D+x,y=y+K;0===this.N&&0===d?(H=b+m,C=A,I=H,E=A+k,
D=b,y=E,e.right=1,e.bottom=1):(e.right=f/m,e.bottom=g/k);a.Jg(b,A,H,C,I,E,D,y,e);a.Ch();a.scale(c,c);a.yw(-this.L.Yc());a.translate((this.L.kc+this.L.yc)/-2,(this.L.lc+this.L.xc)/-2);a.Kh();this.Uk=this.j.gf}};var m=[];g.Ft=function(a){m.length=0;for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(m.push(b),b=""),m.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));m.push(b);b=""}else d<a.length&&(b+=
c,d++);b.length&&m.push(b)};var k=[];g.It=function(b,d,e,f,g){if(b&&b.length)if(2>=f)c(d);else{if(100>=b.length&&-1===b.indexOf("\n")){var m=e.measureText(b).width;if(m<=f){c(d);d.push(a());d[0].text=b;d[0].width=m;return}}this.Jt(b,d,e,f,g)}else c(d)};g.Jt=function(b,c,d,e,f){f&&(this.Ft(b),b=m);var g="",u,t,z,A=0;for(z=0;z<b.length;z++)"\n"===b[z]?(A>=c.length&&c.push(a()),t=c[A],t.text=g,t.width=d.measureText(g).width,A++,g=""):(u=g,g+=b[z],t=d.measureText(g).width,t>=e&&(A>=c.length&&c.push(a()),
t=c[A],t.text=u,t.width=d.measureText(u).width,A++,g=b[z],f||" "!==g||(g="")));g.length&&(A>=c.length&&c.push(a()),t=c[A],t.text=g,t.width=d.measureText(g).width,A++);for(z=A;z<c.length;z++)k.push(c[z]);c.length=A};b.prototype.Vs=function(a,b){return b?this.text==a:jb(this.text,a)};g.K=new b;d.prototype.Pp=function(a){ka(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Bf=!0,this.j.jb=!0)};g.ca=new d;e.prototype.Text=function(a){a.Kd(this.text)};g.Cb=new e})();
function xc(a){this.j=a}
(function(){function a(){}function c(){}function b(){}var d=xc.prototype;d.Fa=function(a){this.Ib=a;this.j=a.j};d.Fa.prototype.ma=function(){};d.za=function(a){this.type=a;this.j=a.j};var e=d.za.prototype,g="text password email number tel url".split(" ");-1<navigator.userAgent.indexOf("MSIE 9")&&(g[2]="text",g[3]="text",g[4]="text",g[5]="text");e.ma=function(){if(this.j.Ca)ha("[Construct 2] Textbox plugin not supported on this platform - the object will not be created");else{6===this.M[7]?(this.I=
document.createElement("textarea"),jQuery(this.I).css("resize","none")):(this.I=document.createElement("input"),this.I.type=g[this.M[7]]);this.I.id=this.M[9];jQuery(this.I).appendTo(this.j.ij?this.j.ij:"body");this.I.autocomplete="off";this.I.value=this.M[0];this.I.placeholder=this.M[1];this.I.title=this.M[2];this.I.disabled=0===this.M[4];this.I.readOnly=1===this.M[5];this.I.spellcheck=1===this.M[6];this.En=0!==this.M[8];this.Be=!1;0===this.M[3]&&(jQuery(this.I).hide(),this.visible=!1,this.Be=!0);
var a=function(a){return function(){a.j.trigger(xc.prototype.K.rD,a)}}(this);this.I.oninput=a;-1!==navigator.userAgent.indexOf("MSIE")&&(this.I.oncut=a);this.I.onclick=function(a){return function(b){b.stopPropagation();a.j.nc=!0;a.j.trigger(xc.prototype.K.qn,a);a.j.nc=!1}}(this);this.I.ondblclick=function(a){return function(b){b.stopPropagation();a.j.nc=!0;a.j.trigger(xc.prototype.K.pt,a);a.j.nc=!1}}(this);this.I.addEventListener("touchstart",function(a){a.stopPropagation()},!1);this.I.addEventListener("touchmove",
function(a){a.stopPropagation()},!1);this.I.addEventListener("touchend",function(a){a.stopPropagation()},!1);jQuery(this.I).mousedown(function(a){a.stopPropagation()});jQuery(this.I).mouseup(function(a){a.stopPropagation()});jQuery(this.I).keydown(function(a){13!==a.which&&27!=a.which&&a.stopPropagation()});jQuery(this.I).keyup(function(a){13!==a.which&&27!=a.which&&a.stopPropagation()});this.Ej=this.Fj=this.zj=this.Bj=this.Dj=this.Aj=0;this.ak(!0);this.j.rl(this)}};e.oc=function(){return{text:this.I.value,
placeholder:this.I.placeholder,tooltip:this.I.title,disabled:!!this.I.disabled,readonly:!!this.I.readOnly,spellcheck:!!this.I.spellcheck}};e.Ic=function(a){this.I.value=a.text;this.I.placeholder=a.placeholder;this.I.title=a.tooltip;this.I.disabled=a.disabled;this.I.readOnly=a.readonly;this.I.spellcheck=a.spellcheck};e.Fg=function(){this.j.Ca||(jQuery(this.I).remove(),this.I=null)};e.Pb=function(){this.ak()};e.ak=function(a){if(!this.j.Ca){var b=this.L.eb(this.x,this.y,!0),c=this.L.eb(this.x,this.y,
!1),d=this.L.eb(this.x+this.width,this.y+this.height,!0),e=this.L.eb(this.x+this.width,this.y+this.height,!1),l=this.j.width/this.j.devicePixelRatio,g=this.j.height/this.j.devicePixelRatio;!this.visible||!this.L.visible||0>=d||0>=e||b>=l||c>=g?(this.Be||jQuery(this.I).hide(),this.Be=!0):(1>b&&(b=1),1>c&&(c=1),d>=l&&(d=l-1),e>=g&&(e=g-1),l=window.innerWidth,g=window.innerHeight,a||this.Aj!==b||this.Dj!==c||this.Bj!==d||this.zj!==e||this.Fj!==l||this.Ej!==g?(this.Aj=b,this.Dj=c,this.Bj=d,this.zj=e,
this.Fj=l,this.Ej=g,this.Be&&(jQuery(this.I).show(),this.Be=!1),a=Math.round(b)+jQuery(this.j.canvas).offset().left,l=Math.round(c)+jQuery(this.j.canvas).offset().top,jQuery(this.I).css("position","absolute"),jQuery(this.I).offset({left:a,top:l}),jQuery(this.I).width(Math.round(d-b)),jQuery(this.I).height(Math.round(e-c)),this.En&&jQuery(this.I).css("font-size",this.L.ie(!0)/this.j.devicePixelRatio-.2+"em")):this.Be&&(jQuery(this.I).show(),this.Be=!1))}};e.Re=function(){};e.ge=function(){};a.prototype.Vs=
function(a,b){return this.j.Ca?!1:0===b?jb(this.I.value,a):this.I.value===a};a.prototype.rD=function(){return!0};a.prototype.qn=function(){return!0};a.prototype.pt=function(){return!0};d.K=new a;c.prototype.Pp=function(a){this.j.Ca||(this.I.value=a)};c.prototype.Qp=function(a){this.j.Ca||(this.visible=0!==a)};c.prototype.Sh=function(a){this.j.Ca||(this.I.disabled=0===a)};d.ca=new c;b.prototype.Text=function(a){this.j.Ca?a.Kd(""):a.Kd(this.I.value)};d.Cb=new b})();function yc(a){this.j=a}
(function(){var a=yc.prototype;a.Fa=function(a){this.Ib=a;this.j=a.j};var c=a.Fa.prototype;c.ma=function(){this.xa||(this.Ea=new Image,this.Ea.Fy=this.Ow,this.j.cx(this.Ea,this.Gs),this.Pa=this.pattern=null)};c.To=function(){this.xa||(this.Pa=null)};c.Vr=function(){if(!this.xa&&this.C.length){this.Pa||(this.Pa=this.j.fa.qm(this.Ea,!0,this.j.qb,this.np));var a,c;a=0;for(c=this.C.length;a<c;a++)this.C[a].Pa=this.Pa}};c.yv=function(){this.xa||this.Pa||!this.j.fa||(this.Pa=this.j.fa.qm(this.Ea,!0,this.j.qb,
this.np))};c.Qs=function(){this.xa||this.C.length||!this.Pa||(this.j.fa.deleteTexture(this.Pa),this.Pa=null)};c.bs=function(a){a.drawImage(this.Ea,0,0)};a.za=function(a){this.type=a;this.j=a.j};c=a.za.prototype;c.ma=function(){this.visible=0===this.M[0];this.Qj=new wa(0,0,0,0);this.iz=!1;this.Ea=this.type.Ea;this.j.fa?(this.type.yv(),this.Pa=this.type.Pa):(this.type.pattern||(this.type.pattern=this.j.Kb.createPattern(this.type.Ea,"repeat")),this.pattern=this.type.pattern)};c.pg=function(){this.iz=
!1;this.Ea=this.type.Ea};c.Fg=function(){this.j.fa&&this.iz&&this.Pa&&(this.j.fa.deleteTexture(this.Pa),this.Pa=null)};c.Re=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var c=this.x,e=this.y;this.j.bg&&(c=Math.round(c),e=Math.round(e));var g=-(this.je*this.width),f=-(this.ke*this.height),m=g%this.Ea.width,k=f%this.Ea.height;0>m&&(m+=this.Ea.width);0>k&&(k+=this.Ea.height);a.translate(c,e);a.rotate(this.N);a.translate(m,k);a.fillRect(g-m,f-k,this.width,this.height);a.restore()};
c.ge=function(a){a.He(this.Pa);a.Tj(this.opacity);var c=this.Qj;c.right=this.width/this.Ea.width;c.bottom=this.height/this.Ea.height;var e=this.Jb;if(this.j.bg){var g=Math.round(this.x)-this.x,f=Math.round(this.y)-this.y;a.Jg(e.Lb+g,e.Mb+f,e.Oc+g,e.Pc+f,e.Ec+g,e.Fc+f,e.Cc+g,e.Dc+f,c)}else a.Jg(e.Lb,e.Mb,e.Oc,e.Pc,e.Ec,e.Fc,e.Cc,e.Dc,c)};a.K=new function(){};a.ca=new function(){};a.Cb=new function(){}})();function zc(a){this.j=a}
(function(){function a(){}var c=zc.prototype;c.Fa=function(a){this.behavior=a;this.j=a.j};c.Fa.prototype.ma=function(){};c.za=function(a,b){this.type=a;this.behavior=a.behavior;this.q=b;this.j=a.j};var b=c.za.prototype;b.ma=function(){var a=this.M[0];this.ee=this.M[1];this.Te=this.M[2];this.GE=0!==this.M[3];this.Ew=0!==this.M[4];this.ka=Math.cos(this.q.N)*a;this.la=Math.sin(this.q.N)*a;this.sr=this.q.x;this.tr=this.q.y;this.jh=this.q.N;this.Ns=0;this.enabled=0!==this.M[5]};b.oc=function(){return{acc:this.ee,
g:this.Te,dx:this.ka,dy:this.la,lx:this.sr,ly:this.tr,lka:this.jh,t:this.Ns,e:this.enabled}};b.Ic=function(a){this.ee=a.acc;this.Te=a.g;this.ka=a.dx;this.la=a.dy;this.sr=a.lx;this.tr=a.ly;this.jh=a.lka;this.Ns=a.t;this.enabled=a.e};b.Pb=function(){if(this.enabled){var a=this.j.sj(this.q),b,c;this.q.N!==this.jh&&(this.Ew&&(b=Sa(0,0,this.ka,this.la),this.ka=Math.cos(this.q.N)*b,this.la=Math.sin(this.q.N)*b),this.jh=this.q.N);0!==this.ee&&(b=Sa(0,0,this.ka,this.la),c=0===this.ka&&0===this.la?this.q.N:
La(0,0,this.ka,this.la),b+=this.ee*a,0>b&&(b=0),this.ka=Math.cos(c)*b,this.la=Math.sin(c)*b);0!==this.Te&&(this.la+=this.Te*a);this.sr=this.q.x;this.tr=this.q.y;if(0!==this.ka||0!==this.la)if(this.q.x+=this.ka*a,this.q.y+=this.la*a,this.Ns+=Sa(0,0,this.ka*a,this.la*a),this.Ew&&(this.q.N=La(0,0,this.ka,this.la),this.q.ba(),this.jh=this.q.N),this.q.ba(),this.GE&&(b=this.j.vd(this.q)))this.j.ol(this.q,b),b=Sa(0,0,this.ka,this.la),c=this.j.JE(this.q,this.sr,this.tr),this.ka=Math.cos(c)*b,this.la=Math.sin(c)*
b,this.q.x+=this.ka*a,this.q.y+=this.la*a,this.q.ba(),this.Ew&&(this.jh=this.q.N=c,this.q.ba()),this.j.eg(this.q,this.ka/b,this.la/b,Math.max(2.5*b*a,30))||this.j.RA(this.q,100)}};c.K=new function(){};a.prototype.Sh=function(a){this.enabled=1===a};c.ca=new a;c.Cb=new function(){}})();function Ac(a){this.j=a}
(function(){function a(){}function c(){}var b=Ac.prototype;b.Fa=function(a){this.behavior=a;this.j=a.j};b.Fa.prototype.ma=function(){};b.za=function(a,b){this.type=a;this.behavior=a.behavior;this.q=b;this.j=a.j};var d=b.za.prototype;d.ma=function(){var a=1===this.M[0];this.Pn=this.M[1];this.vp=this.M[2];this.Fq=this.M[3];this.TE=this.M[4];this.ff=a?0:3;this.we?this.fg.reset():this.fg=new ab;this.ll=this.q.opacity?this.q.opacity:1;a&&(0===this.Pn?(this.ff=1,0===this.vp&&(this.ff=2)):(this.q.opacity=
0,this.j.jb=!0))};d.oc=function(){return{fit:this.Pn,wt:this.vp,fot:this.Fq,s:this.ff,st:this.fg.Va,mo:this.ll}};d.Ic=function(a){this.Pn=a.fit;this.vp=a.wt;this.Fq=a.fot;this.ff=a.s;this.fg.reset();this.fg.Va=a.st;this.ll=a.mo};d.Pb=function(){this.fg.add(this.j.sj(this.q));0===this.ff&&(this.q.opacity=this.fg.Va/this.Pn*this.ll,this.j.jb=!0,this.q.opacity>=this.ll&&(this.q.opacity=this.ll,this.ff=1,this.fg.reset(),this.j.trigger(Ac.prototype.K.$C,this.q)));1===this.ff&&this.fg.Va>=this.vp&&(this.ff=
2,this.fg.reset(),this.j.trigger(Ac.prototype.K.sD,this.q));2===this.ff&&0!==this.Fq&&(this.q.opacity=this.ll-this.fg.Va/this.Fq*this.ll,this.j.jb=!0,0>this.q.opacity&&(this.q.opacity=0,this.ff=3,this.fg.reset(),this.j.trigger(Ac.prototype.K.aD,this.q),1===this.TE&&this.j.Qh(this.q)))};d.Ny=function(){this.ff=0;this.fg.reset();0===this.Pn?(this.ff=1,0===this.vp&&(this.ff=2)):(this.q.opacity=0,this.j.jb=!0)};a.prototype.aD=function(){return!0};a.prototype.$C=function(){return!0};a.prototype.sD=function(){return!0};
b.K=new a;c.prototype.aE=function(){3===this.ff&&this.Ny()};c.prototype.zD=function(){this.Ny()};b.ca=new c;b.Cb=new function(){}})();function Bc(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}
if(navigator.isCocoonJS&&"undefined"!==typeof window.cr_cjs_accelerated_physics)ha("Using CocoonJS native physics"),window.ext&&"undefined"!==typeof window.ext.IDTK_SRV_BOX2D?function(){function a(a,b,d,e){this.type=c.Pl;this.Rb=new n;this.Sb=new n;this.Og=null;void 0!==a&&(this.S=a);void 0!==b&&(this.T=b);void 0!==d&&this.Rb.J(d);void 0!==e&&this.Sb.J(e);this.Gm=this.hA=this.Xw=this.Fv=this.Bh=0;this.Ql=this.yk=!1}function c(a){this.S=a.S;this.T=a.T;this.Og=a.Og;this.type=a.type;this.next=null}function b(a,
b){this.Hr=[];this.Yb=[];this.cl=[];this.pi=null;this.mH=[];this.tc=window.ext.IDTK_SRV_BOX2D.makeCall("createWorld",a.x,a.y,b)}function d(){}function e(a,b,c){this.cc=a;this.Xb=b;this.tH=c}function g(a,b){var c=a.Og;a.Og=null;this.ab=b;this.F=new k(a.position,h.Al(a.N));this.Go=[];this.Co=a.Bc;a.type===g.nf&&(a.ug=0);this.bd=window.ext.IDTK_SRV_BOX2D.makeCall("createBody",b.tc,a);a.Og=c}function f(a,b,c,d){this.Eo=a;this.Kv=c;this.xi={};this.xi.pe=n.B(0,0);this.Kr=!1;this.Ir=d.ug;this.Mv=d.fh;this.Tv=
d.Dh;this.Kr=d.av}function m(){}function k(a,b){this.position=n.B(0,0);this.u=new h;void 0===a&&(a=null);void 0===b&&(b=null);a&&(this.position.J(a),this.u.lg(b))}function h(){this.k=n.B(0,0);this.m=n.B(0,0);this.aj()}function n(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b}Q=n;n.Uh=[];n.B=function(a,b){if(0<Q.Uh.length){var c=Q.Uh.pop();c.Set(a,b);return c}return new Q(a,b)};n.zc=function(a){1E4>Q.Uh.length&&Q.Uh.push(a)};n.prototype.ta=function(){this.y=this.x=0};n.prototype.Set=function(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};n.prototype.J=function(a){this.x=a.x;this.y=a.y};n.dJ=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return n.B(a,b)};n.prototype.Rc=function(){return n.B(this.x,this.y)};n.prototype.Oh=function(a){this.x+=a.x;this.y+=a.y};n.prototype.Et=function(a){this.x-=a.x;this.y-=a.y};n.prototype.ae=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a};n.prototype.Wg=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};n.prototype.Np=function(){return this.x*
this.x+this.y*this.y};n.prototype.be=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};n.prototype.lt=function(){this.x=-this.x;this.y=-this.y};Cc=h;h.Al=function(a){void 0===a&&(a=0);var b=new h;b.Set(a);return b};h.Vg=function(a,b){var c=new h;c.Ct(a,b);return c};h.prototype.Set=function(a){void 0===a&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.k.x=b;this.m.x=-a;this.k.y=a;this.m.y=b};h.prototype.Ct=function(a,b){this.k.J(a);
this.m.J(b)};h.prototype.Rc=function(){var a=new h;a.lg(this);return a};h.prototype.lg=function(a){this.k.J(a.k);this.m.J(a.m)};h.prototype.yp=function(a){this.k.x+=a.k.x;this.k.y+=a.k.y;this.m.x+=a.m.x;this.m.y+=a.m.y};h.prototype.aj=function(){this.k.x=1;this.m.x=0;this.k.y=0;this.m.y=1};h.prototype.ta=function(){this.k.x=0;this.m.x=0;this.k.y=0;this.m.y=0};h.prototype.Zd=function(){return Math.atan2(this.k.y,this.k.x)};h.prototype.ct=function(a){var b=this.k.x,c=this.m.x,d=this.k.y,e=this.m.y,
f=b*e-c*d;0!==f&&(f=1/f);a.k.x=f*e;a.m.x=-f*c;a.k.y=-f*d;a.m.y=f*b;return a};h.prototype.bj=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.k.x,e=this.m.x,f=this.k.y,g=this.m.y,h=d*g-e*f;0!==h&&(h=1/h);a.x=h*(g*b-e*c);a.y=h*(d*c-f*b);return a};h.prototype.Nh=function(){this.k.Nh();this.m.Nh()};Dc=k;k.prototype.Ac=function(a,b){this.position.J(a);this.u.lg(b)};k.prototype.aj=function(){this.position.ta();this.u.aj()};k.prototype.Set=function(a){this.position.J(a.position);this.u.lg(a.u)};
k.prototype.un=function(){return Math.atan2(this.u.k.y,this.u.k.x)};V=m;m.Mp=function(a){void 0===a&&(a=0);return isFinite(a)};m.Zb=function(a,b){return a.x*b.x+a.y*b.y};m.bk=function(a,b){return a.x*b.y-a.y*b.x};m.Ph=function(a,b){void 0===b&&(b=0);return n.B(b*a.y,-b*a.x)};m.Ys=function(a,b){void 0===a&&(a=0);return n.B(-a*b.y,a*b.x)};m.pc=function(a,b){return n.B(a.k.x*b.x+a.m.x*b.y,a.k.y*b.x+a.m.y*b.y)};m.Rh=function(a,b){return n.B(m.Zb(b,a.k),m.Zb(b,a.m))};m.gd=function(a,b){var c=m.pc(a.u,
b);c.x+=a.position.x;c.y+=a.position.y;return c};m.jt=function(a,b){var c=m.Qb(b,a.position),d=c.x*a.u.k.x+c.y*a.u.k.y;c.y=c.x*a.u.m.x+c.y*a.u.m.y;c.x=d;return c};m.bn=function(a,b){return n.B(a.x+b.x,a.y+b.y)};m.Qb=function(a,b){return n.B(a.x-b.x,a.y-b.y)};m.iC=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};m.rx=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};m.PC=function(a,b){void 0===a&&(a=0);return n.B(a*b.x,a*b.y)};m.PB=function(a,b){return h.Vg(m.bn(a.k,b.k),m.bn(a.m,
b.m))};m.QC=function(a,b){return h.Vg(m.pc(a,b.k),m.pc(a,b.m))};m.RC=function(a,b){var c=n.B(m.Zb(a.k,b.k),m.Zb(a.m,b.k)),d=n.B(m.Zb(a.k,b.m),m.Zb(a.m,b.m));return h.Vg(c,d)};m.Nh=function(a){void 0===a&&(a=0);return 0<a?a:-a};m.Zm=function(a){return n.B(m.Nh(a.x),m.Nh(a.y))};m.MB=function(a){return h.Vg(m.Zm(a.k),m.Zm(a.m))};m.Ex=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a<b?a:b};m.Fx=function(a,b){return n.B(m.Ex(a.x,b.x),m.Ex(a.y,b.y))};m.Cx=function(a,b){void 0===a&&(a=0);void 0===
b&&(b=0);return a>b?a:b};m.Dx=function(a,b){return n.B(m.Cx(a.x,b.x),m.Cx(a.y,b.y))};m.Ub=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return a<b?b:a>c?c:a};m.VB=function(a,b,c){return m.Dx(b,m.Fx(a,c))};m.DJ=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};m.qJ=function(){return 2*Math.random()-1};m.rJ=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=Math.random();return(b-a)*c+a};m.iJ=function(a){void 0===a&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;
a|=a>>8&16777215;return(a|a>>16&65535)+1};m.aJ=function(a){void 0===a&&(a=0);return 0<a&&0===(a&a-1)};m.DE=new n(0,0);m.CE=h.Vg(new n(1,0),new n(0,1));m.KJ=new k(m.DE,m.CE);W=function(){this.position=n.B(0,0);this.vv=n.B(0,0);this.Og=null;this.N=0;this.vv.Set(0,0);this.lk=this.Wk=this.hy=0;this.my=this.gy=!0;this.qk=this.ru=!1;this.type=g.nf;this.Bc=!0;this.kz=1};Ec=f;f.prototype.mb=function(){return this.Eo};f.prototype.fd=function(){console.log("fixture.GetShape not yet supported in CocoonJS Box2D binding");
return null};f.prototype.fk=function(){return this.Kr};Fc=g;g.prototype.yl=function(a){var b=a.Og;a.Og=null;var c=window.ext.IDTK_SRV_BOX2D.makeCall("createFixture",this.ab.tc,this.bd,a);a.Og=b;a=new f(this,0,c,a);this.ab.cl[c]=a;this.Go.push(a);return a};g.prototype.bt=function(){return 0===this.Go.length?null:this.Go[0]};g.prototype.qx=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteFixture",this.ab.tc,a.Kv);delete this.ab.cl[a.Kv]};g.prototype.xn=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("setBodyTransform",
this.ab.tc,this.bd,a.x,a.y,b);this.F.u.Set(b);this.F.position.J(a)};g.prototype.Bt=function(a){this.xn(a,this.Zd())};g.prototype.ck=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLinearVelocity",this.ab.tc,this.bd);return n.B(a[0],a[1])};g.prototype.Cl=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getWorldCenter",this.ab.tc,this.bd);return n.B(a[0],a[1])};g.prototype.dk=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLocalCenter",this.ab.tc,this.bd);return n.B(a[0],a[1])};
g.prototype.Od=function(a){return m.jt(this.F,a)};g.prototype.Bl=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getMass",this.ab.tc,this.bd)};g.prototype.Pd=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("isAwake",this.ab.tc,this.bd)};g.prototype.Hp=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getAngularVelocity",this.ab.tc,this.bd)};g.prototype.Hd=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAwake",this.ab.tc,this.bd,a)};g.prototype.hk=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setLinearVelocity",
this.ab.tc,this.bd,a.x,a.y)};g.prototype.Sg=function(a,b,c){window.ext.IDTK_SRV_BOX2D.makeCall("applyForce",this.ab.tc,this.bd,a.x,a.y,b.x,b.y,c)};g.prototype.zp=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("applyTorque",this.ab.tc,this.bd,a,b)};g.prototype.vn=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAngularVelocity",this.ab.tc,this.bd,a)};g.prototype.$i=function(){return this.Co};g.prototype.Zd=function(){return this.F.u.Zd()};g.prototype.un=function(a){void 0===a&&(a=0);this.xn(this.F.position,
a)};g.prototype.Xi=function(){for(var a=window.ext.IDTK_SRV_BOX2D.makeCall("getObjectContacts",this.ab.tc,this.bd),b=[],c=0;c<a.length;c++)b.push(this.ab.Hr[a[c]]);return b};Fc.nf=0;Fc.oy=1;Fc.hd=2;e.prototype.ht=function(){return this.tH};Gc=d;d.prototype.Ap=function(){};Gc.ny=new d;Hc=function(){};Ic=b;b.prototype.Tx=function(a){this.pi=a};b.prototype.Sx=function(a){var b=this;window.ext.IDTK_SRV_BOX2D.makeCall("setContactFilter",this.tc,function(c,d){return a.ik(b.cl[c],b.cl[d])})};b.prototype.Xs=
function(a){a=new g(a,this);return this.Hr[a.bd]=a};b.prototype.Ep=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteBody",this.tc,a.bd);delete this.Hr[a.bd];for(var b=0;b<a.Go.length;++b)delete this.cl[a.Go[b].Kv]};b.prototype.Dp=function(a){if(a.S.bd!==a.T.bd){var b=a.S,d=a.T;a.S=b.bd;a.T=d.bd;var e="createDistanceJoint";a.type===c.Pl&&(e="createRevoluteJoint");var f=new c(a);f.lH=window.ext.IDTK_SRV_BOX2D.makeCall(e,this.tc,a);a.S=b;a.T=d;this.mH.push(f);return f}};b.prototype.Fp=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("destroyJoint",
this.tc,a.lH)};b.prototype.Th=function(a,b,c){c=window.ext.IDTK_SRV_BOX2D.makeCall("step",this.tc,a,b,c);b=c[0];for(a=1;a<=4*b;a+=4){var d=this.Hr[c[a+0]];if(null===d)break;d.F.position.Set(c[a+1],c[a+2]);d.F.u.Set(c[a+3])}if(null!==this.pi)for(c=window.ext.IDTK_SRV_BOX2D.makeCall("getLastContacts",this.tc),b=c[0],a=1;a<=3*b;a+=3){var d=c[a+2],f=this.cl[c[a+0]],g=this.cl[c[a+1]];"undefined"===typeof f||"undefined"===typeof g?console.log("One of the fixtures in a contact DOESN'T EXIST!!"):this.pi.Ap(new e(f,
g,d))}};b.prototype.ox=function(){window.ext.IDTK_SRV_BOX2D.makeCall("clearForces",this.tc)};Jc=function(a){this.hs=a;this.type="circle"};X=function(){};X.prototype.Op=function(a,b){this.type="box";this.width=a;this.height=b};X.prototype.Qx=function(){this.type="edge"};X.prototype.wn=function(a,b){this.type="polygon";this.KB=[];for(var c=0;c<b;c++)this.KB.push(a[c].x),this.KB.push(a[c].y)};Kc=function(){this.Og=this.shape=null;this.fh=.2;this.ug=this.Dh=0;this.av=!1;this.filter={Ll:1,Em:65535,tj:0}};
Y=c;c.prototype.jn=function(){return this.S};c.prototype.$s=function(){return this.T};c.prototype.wd=function(){return this.type};c.ju=0;c.Pl=1;Lc=function(a,b,d,e){this.type=c.ju;this.Rb=n.B(0,0);this.Sb=n.B(0,0);this.Og=null;void 0!==a&&(this.S=a);void 0!==b&&(this.T=b);void 0!==d&&this.Rb.J(d);void 0!==e&&this.Sb.J(e);void 0!==d&&void 0!==e&&(a=e.x-d.x,d=e.y-d.y,this.length=Math.sqrt(a*a+d*d));this.xq=this.Pq=0};a.prototype.Ac=function(a,b,c){this.S=a;this.T=b;this.Rb=this.S.Od(c);this.Sb=this.T.Od(c);
this.Bh=this.T.Zd()-this.S.Zd()};Mc=a}():console.log("The CocoonJS binding for Box2D has been ignored because ext.IDTK_SRV_BOX2D is not available");else{var V={},Nc=2/180*Math.PI,Oc=8/180*Math.PI,Pc=.5*Math.PI,Qc=Pc*Pc,Rc=2/180*Math.PI,Sc=Number.MIN_VALUE*Number.MIN_VALUE;V.Zb=function(a,c){return a.x*c.x+a.y*c.y};V.bk=function(a,c){return a.x*c.y-a.y*c.x};V.Ph=function(a,c){return Q.B(c*a.y,-c*a.x)};V.Ys=function(a,c){return Q.B(-a*c.y,a*c.x)};V.pc=function(a,c){return Q.B(a.k.x*c.x+a.m.x*c.y,a.k.y*
c.x+a.m.y*c.y)};V.Rh=function(a,c){return Q.B(V.Zb(c,a.k),V.Zb(c,a.m))};V.gd=function(a,c){var b=V.pc(a.u,c);b.x+=a.position.x;b.y+=a.position.y;return b};V.jt=function(a,c){var b=V.Qb(c,a.position),d=b.x*a.u.k.x+b.y*a.u.k.y;b.y=b.x*a.u.m.x+b.y*a.u.m.y;b.x=d;return b};V.bn=function(a,c){return Q.B(a.x+c.x,a.y+c.y)};V.Qb=function(a,c){return Q.B(a.x-c.x,a.y-c.y)};V.iC=function(a,c){return Math.sqrt(V.rx(a,c))};V.rx=function(a,c){var b=a.x-c.x,d=a.y-c.y;return b*b+d*d};V.PC=function(a,c){return Q.B(a*
c.x,a*c.y)};V.PB=function(a,c){return Cc.Vg(V.bn(a.k,c.k),V.bn(a.m,c.m))};V.QC=function(a,c){return Cc.Vg(V.pc(a,c.k),V.pc(a,c.m))};V.RC=function(a,c){var b=Q.B(V.Zb(a.k,c.k),V.Zb(a.m,c.k)),d=Q.B(V.Zb(a.k,c.m),V.Zb(a.m,c.m));return Cc.Vg(b,d)};V.Zm=function(a){return Q.B(Math.abs(a.x),Math.abs(a.y))};V.MB=function(a){return Cc.Vg(V.Zm(a.k),V.Zm(a.m))};V.Ub=function(a,c,b){return a<c?c:a>b?b:a};V.VB=function(a,c,b){return Q.B(V.Ub(a.x,c.x,b.x),V.Ub(a.y,c.y,b.y))};var Cc=function(){this.k=Q.B(0,0);
this.m=Q.B(0,0);this.aj()};Cc.Al=function(a){var c=new Cc;c.Set(a);return c};Cc.Vg=function(a,c){var b=new Cc;b.Ct(a,c);return b};r=Cc.prototype;r.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.k.Set(c,a);this.m.Set(-a,c)};r.Ct=function(a,c){this.k.J(a);this.m.J(c)};r.Rc=function(){var a=new Cc;a.lg(this);return a};r.lg=function(a){this.k.J(a.k);this.m.J(a.m)};r.yp=function(a){this.k.Oh(a.k);this.m.Oh(a.m)};r.aj=function(){this.k.Set(1,0);this.m.Set(0,1)};r.ta=function(){this.k.Set(0,0);this.m.Set(0,
0)};r.Zd=function(){return Math.atan2(this.k.y,this.k.x)};r.ct=function(a){var c=this.k.x*this.m.y-this.m.x*this.k.y;0!==c&&(c=1/c);a.k.x=c*this.m.y;a.m.x=-c*this.m.x;a.k.y=-c*this.k.y;a.m.y=c*this.k.x;return a};r.bj=function(a,c,b){var d=this.k.x*this.m.y-this.m.x*this.k.y;0!==d&&(d=1/d);a.x=d*(this.m.y*c-this.m.x*b);a.y=d*(this.k.x*b-this.k.y*c);return a};r.Nh=function(){this.k.Nh();this.m.Nh()};var Uc=function(a,c,b){this.k=new Tc(0,0,0);this.m=new Tc(0,0,0);this.Ga=new Tc(0,0,0);a&&this.k.J(a);
c&&this.m.J(c);b&&this.Ga.J(b)};r=Uc.prototype;r.Rc=function(){return new Uc(this.k,this.m,this.Ga)};r.lg=function(a){this.k.J(a.k);this.m.J(a.m);this.Ga.J(a.Ga)};r.yp=function(a){this.k.x+=a.k.x;this.k.y+=a.k.y;this.k.z+=a.k.z;this.m.x+=a.m.x;this.m.y+=a.m.y;this.m.z+=a.m.z;this.Ga.x+=a.Ga.x;this.Ga.y+=a.Ga.y;this.Ga.z+=a.Ga.z};r.aj=function(){this.k.Set(1,0,0);this.m.Set(0,1,0);this.Ga.Set(0,0,1)};r.ta=function(){this.k.Set(0,0,0);this.m.Set(0,0,0);this.Ga.Set(0,0,0)};r.Gl=function(a,c,b){var d=
this.k.x,e=this.m.x,g=this.k.y,f=this.m.y,m=d*f-e*g;0!=m&&(m=1/m);a.x=m*(f*c-e*b);a.y=m*(d*b-g*c);return a};r.yn=function(a,c,b,d){var e=this.k.x,g=this.k.y,f=this.k.z,m=this.m.x,k=this.m.y,h=this.m.z,n=this.Ga.x,l=this.Ga.y,q=this.Ga.z,p=e*(k*q-h*l)+g*(h*n-m*q)+f*(m*l-k*n);0!=p&&(p=1/p);a.x=p*(c*(k*q-h*l)+b*(h*n-m*q)+d*(m*l-k*n));a.y=p*(e*(b*q-d*l)+g*(d*n-c*q)+f*(c*l-b*n));a.z=p*(e*(k*d-h*b)+g*(h*c-m*d)+f*(m*b-k*c));return a};var Wc=function(){this.U=Q.B(0,0);this.zd=Q.B(0,0);this.D=Q.B(0,0)};Wc.prototype.Set=
function(a){this.U.J(a.U);this.zd.J(a.zd);this.D.J(a.D);this.Ff=a.Ff;this.R=a.R;this.Xd=a.Xd};Wc.prototype.Rc=function(){var a=new Wc;a.U.J(this.U);a.zd.J(this.zd);a.D.J(this.D);a.Ff=this.Ff;a.R=this.R;a.Xd=this.Xd;return a};Wc.prototype.Le=function(a,c){void 0===c&&(c=0);a.position.x=(1-c)*this.zd.x+c*this.D.x;a.position.y=(1-c)*this.zd.y+c*this.D.y;a.u.Set((1-c)*this.Ff+c*this.R);var b=a.u;a.position.x-=b.k.x*this.U.x+b.m.x*this.U.y;a.position.y-=b.k.y*this.U.x+b.m.y*this.U.y};Wc.prototype.Wi=function(a){void 0===
a&&(a=0);if(this.Xd<a&&1-this.Xd>Number.MIN_VALUE){var c=(a-this.Xd)/(1-this.Xd);this.zd.x=(1-c)*this.zd.x+c*this.D.x;this.zd.y=(1-c)*this.zd.y+c*this.D.y;this.Ff=(1-c)*this.Ff+c*this.R;this.Xd=a}};var Dc=function(a,c){this.position=Q.B(0,0);this.u=new Cc;a&&this.position.J(a);c&&this.u.lg(c)};Dc.prototype.Ac=function(a,c){this.position.J(a);this.u.lg(c)};Dc.prototype.aj=function(){this.position.ta();this.u.aj()};Dc.prototype.Set=function(a){this.position.J(a.position);this.u.lg(a.u)};Dc.prototype.Zd=
function(){return Math.atan2(this.u.k.y,this.u.k.x)};var Q=function(a,c){this.x=a;this.y=c};Q.Uh=[];Q.B=function(a,c){if(0<Q.Uh.length){var b=Q.Uh.pop();b.Set(a,c);return b}return new Q(a,c)};Q.zc=function(a){Q.Uh.push(a)};r=Q.prototype;r.ta=function(){this.y=this.x=0};r.Set=function(a,c){this.x=a;this.y=c};r.J=function(a){this.x=a.x;this.y=a.y};r.Yi=function(){return Q.B(-this.x,-this.y)};r.lt=function(){this.x=-this.x;this.y=-this.y};r.Rc=function(){return Q.B(this.x,this.y)};r.Oh=function(a){this.x+=
a.x;this.y+=a.y};r.Et=function(a){this.x-=a.x;this.y-=a.y};r.ae=function(a){this.x*=a;this.y*=a};r.Ph=function(a){var c=this.x;this.x=a*this.y;this.y=-a*c};r.Ys=function(a){var c=this.x;this.x=-a*this.y;this.y=a*c};r.Fx=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y)};r.Dx=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y)};r.Nh=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};r.Wg=function(){return Math.sqrt(this.Np())};r.Np=function(){return this.x*
this.x+this.y*this.y};r.be=function(){var a=this.Wg();if(a<Number.MIN_VALUE)return 0;var c=1/a;this.x*=c;this.y*=c;return a};r.Mp=function(){return isFinite(this.x)&&isFinite(this.y)};var Tc=function(a,c,b){this.x=a;this.y=c;this.z=b};r=Tc.prototype;r.ta=function(){this.z=this.y=this.x=0};r.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};r.J=function(a){this.x=a.x;this.y=a.y;this.z=a.z};r.Yi=function(){return new Tc(-this.x,-this.y,-this.z)};r.lt=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};
r.Rc=function(){return new Tc(this.x,this.y,this.z)};r.Oh=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};r.Et=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};r.ae=function(a){this.x*=a;this.y*=a;this.z*=a};var Xc=function(){this.rb=.005};r=Xc.prototype;r.ek=function(){};r.Rc=function(){};r.Set=function(a){this.rb=a.rb};r.xl=function(){};r.dn=function(){};r.Cp=function(){};r.At=function(){};var Jc=function(a){this.rb=.005;this.rb=a;this.Bm=a*a;this.Db=Q.B(0,0)};Bc(Jc,Xc);r=Jc.prototype;r.ek=function(){return Jc.kg};
r.Rc=function(){var a=new Jc(this.rb);a.Set(this);return a};r.Set=function(a){Xc.prototype.Set.call(this,a);a instanceof Jc&&this.Db.J(a.Db)};r.xl=function(a,c){var b=c.u,d=c.position.x+(b.k.x*this.Db.x+b.m.x*this.Db.y),b=c.position.y+(b.k.y*this.Db.x+b.m.y*this.Db.y);a.Sa.Set(d-this.rb,b-this.rb);a.Ua.Set(d+this.rb,b+this.rb)};r.dn=function(a,c){a.vh=c*Math.PI*this.Bm;a.Xh.J(this.Db);a.Dl=a.vh*(.5*this.Bm+(this.Db.x*this.Db.x+this.Db.y*this.Db.y))};r.Cp=function(a,c,b,d){b=V.gd(b,this.Db);var e=
-(V.Zb(a,b)-c);if(e<-this.rb+Number.MIN_VALUE)return 0;if(e>this.rb)return d.J(b),Math.PI*this.Bm;c=e*e;e=this.Bm*(Math.asin(e/this.rb)+Math.PI/2)+e*Math.sqrt(this.Bm-c);c=-2/3*Math.pow(this.Bm-c,1.5)/e;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return e};r.At=function(a){a.P=[this.Db];a.Aa=1;a.rb=this.rb};Jc.kg="b2CircleShape";var Yc=function(a,c){this.rb=.005;this.Ba=a;this.$a=c;this.bl=Q.B(this.$a.x-this.Ba.x,this.$a.y-this.Ba.y);this.Nv=this.bl.be();this.Ja=Q.B(this.bl.y,-this.bl.x);Q.B(-.04*(this.Ja.x-this.bl.x)+
this.Ba.x,-.04*(this.Ja.y-this.bl.y)+this.Ba.y);Q.B(-.04*(this.Ja.x+this.bl.x)+this.$a.x,-.04*(this.Ja.y+this.bl.y)+this.$a.y);Q.B(-this.Ja.x,-this.Ja.y)};Bc(Yc,Xc);Yc.prototype.ek=function(){return"b2EdgeShape"};Yc.prototype.xl=function(a,c){var b=c.u,d=c.position.x+(b.k.x*this.Ba.x+b.m.x*this.Ba.y),e=c.position.y+(b.k.y*this.Ba.x+b.m.y*this.Ba.y),g=c.position.x+(b.k.x*this.$a.x+b.m.x*this.$a.y),b=c.position.y+(b.k.y*this.$a.x+b.m.y*this.$a.y);d<g?(a.Sa.x=d,a.Ua.x=g):(a.Sa.x=g,a.Ua.x=d);e<b?(a.Sa.y=
e,a.Ua.y=b):(a.Sa.y=b,a.Ua.y=e)};Yc.prototype.dn=function(a){a.vh=0;a.Xh.J(this.Ba);a.Dl=0};Yc.prototype.Cp=function(a,c,b,d){void 0===c&&(c=0);var e=Q.B(a.x*c,a.y*c),g=V.gd(b,this.Ba);b=V.gd(b,this.$a);var f=V.Zb(a,g)-c;a=V.Zb(a,b)-c;if(0<f){if(0<a)return 0;g.x=-a/(f-a)*g.x+f/(f-a)*b.x;g.y=-a/(f-a)*g.y+f/(f-a)*b.y}else 0<a&&(b.x=-a/(f-a)*g.x+f/(f-a)*b.x,b.y=-a/(f-a)*g.y+f/(f-a)*b.y);d.x=(e.x+g.x+b.x)/3;d.y=(e.y+g.y+b.y)/3;return.5*((g.x-e.x)*(b.y-e.y)-(g.y-e.y)*(b.x-e.x))};var Zc=function(){this.vh=
0;this.Xh=Q.B(0,0);this.Dl=0},X=function(){this.rb=.005;this.pe=Q.B(0,0);this.P=[];this.Ka=[]};Bc(X,Xc);X.prototype.ek=function(){return X.kg};X.prototype.Rc=function(){var a=new X;a.Set(this);return a};X.prototype.Set=function(a){Xc.prototype.Set.call(this,a);if(a instanceof X){this.pe.J(a.pe);this.gb=a.gb;this.tn(this.gb);for(var c=0;c<this.gb;c++)this.P[c].J(a.P[c]),this.Ka[c].J(a.Ka[c])}};X.prototype.wn=function(a){this.Rx(a)};X.HI=function(a){var c=new X;c.wn(a);return c};X.prototype.Rx=function(a){var c=
a.length;this.gb=c;this.tn(c);for(c=c=0;c<this.gb;c++)this.P[c].J(a[c]);for(c=0;c<this.gb;++c)a=V.Qb(this.P[c+1<this.gb?c+1:0],this.P[c]),this.Ka[c].J(V.Ph(a,1)),this.Ka[c].be();this.pe=X.gC(this.P,this.gb)};X.LI=function(a){var c=new X;c.Rx(a);return c};X.prototype.Op=function(a,c){this.gb=4;this.tn(4);this.P[0].Set(-a,-c);this.P[1].Set(a,-c);this.P[2].Set(a,c);this.P[3].Set(-a,c);this.Ka[0].Set(0,-1);this.Ka[1].Set(1,0);this.Ka[2].Set(0,1);this.Ka[3].Set(-1,0);this.pe.ta()};X.II=function(a,c){var b=
new X;b.Op(a,c);return b};X.prototype.ED=function(a,c,b,d){this.gb=4;this.tn(4);this.P[0].Set(-a,-c);this.P[1].Set(a,-c);this.P[2].Set(a,c);this.P[3].Set(-a,c);this.Ka[0].Set(0,-1);this.Ka[1].Set(1,0);this.Ka[2].Set(0,1);this.Ka[3].Set(-1,0);this.pe=b;a=new Cc;a.Set(d);b=new Dc(b,a);for(d=0;d<this.gb;++d)this.P[d]=V.gd(b,this.P[d]),this.Ka[d]=V.pc(b.u,this.Ka[d])};X.KI=function(a,c,b,d){var e=new X;e.ED(a,c,b,d);return e};X.prototype.Qx=function(a,c){this.gb=2;this.tn(2);this.P[0].J(a);this.P[1].J(c);
this.pe.x=.5*(a.x+c.x);this.pe.y=.5*(a.y+c.y);this.Ka[0]=V.Ph(V.Qb(c,a),1);this.Ka[0].be();this.Ka[1].x=-this.Ka[0].x;this.Ka[1].y=-this.Ka[0].y};X.JI=function(a,c){var b=new X;b.Qx(a,c);return b};r=X.prototype;r.xl=function(a,c){for(var b=c.u,d=this.P[0],e=c.position.x+(b.k.x*d.x+b.m.x*d.y),g=c.position.y+(b.k.y*d.x+b.m.y*d.y),f=e,m=g,k=1;k<this.gb;++k)var d=this.P[k],h=c.position.x+(b.k.x*d.x+b.m.x*d.y),d=c.position.y+(b.k.y*d.x+b.m.y*d.y),e=e<h?e:h,g=g<d?g:d,f=f>h?f:h,m=m>d?m:d;a.Sa.x=e-this.rb;
a.Sa.y=g-this.rb;a.Ua.x=f+this.rb;a.Ua.y=m+this.rb};r.dn=function(a,c){if(2==this.gb)a.Xh.x=.5*(this.P[0].x+this.P[1].x),a.Xh.y=.5*(this.P[0].y+this.P[1].y),a.vh=0,a.Dl=0;else{for(var b=0,d=0,e=0,g=0,f=1/3,m=0;m<this.gb;++m)var k=this.P[m],h=m+1<this.gb?this.P[m+1]:this.P[0],n=k.x-0,l=k.y-0,q=h.x-0,p=h.y-0,s=n*p-l*q,u=.5*s,e=e+u,b=b+u*f*(0+k.x+h.x),d=d+u*f*(0+k.y+h.y),k=n,g=g+s*(f*(.25*(k*k+q*k+q*q)+(0*k+0*q))+0+(f*(.25*(l*l+p*l+p*p)+(0*l+0*p))+0));a.vh=c*e;a.Xh.Set(1/e*b,1/e*d);a.Dl=c*g}};r.Cp=function(a,
c,b,d){var e=V.Rh(b.u,a),g=c-V.Zb(a,b.position),f=[],m=0,k=-1;c=-1;var h=!1;for(a=a=0;a<this.gb;++a){f[a]=V.Zb(e,this.P[a])-g;var n=f[a]<-Number.MIN_VALUE;0<a&&(n?h||(k=a-1,m++):h&&(c=a-1,m++));h=n}switch(m){case 0:return h?(a=new Zc,this.dn(a,1),d.J(V.gd(b,a.Xh)),a.vh):0;case 1:-1==k?k=this.gb-1:c=this.gb-1}a=(k+1)%this.gb;e=(c+1)%this.gb;g=(0-f[k])/(f[a]-f[k]);f=(0-f[c])/(f[e]-f[c]);k=Q.B(this.P[k].x*(1-g)+this.P[a].x*g,this.P[k].y*(1-g)+this.P[a].y*g);c=Q.B(this.P[c].x*(1-f)+this.P[e].x*f,this.P[c].y*
(1-f)+this.P[e].y*f);f=0;g=Q.B(0,0);for(m=this.P[a];a!=e;)a=(a+1)%this.gb,h=a==e?c:this.P[a],n=.5*((m.x-k.x)*(h.y-k.y)-(m.y-k.y)*(h.x-k.x)),f+=n,g.x+=n*(k.x+m.x+h.x)/3,g.y+=n*(k.y+m.y+h.y)/3,m=h;g.ae(1/f);d.J(V.gd(b,g));return f};r.At=function(a){a.P=this.P;a.Aa=this.gb;a.rb=this.rb};r.Kp=function(a){for(var c=0,b=this.P[0].x*a.x+this.P[0].y*a.y,d=1;d<this.gb;++d){var e=this.P[d].x*a.x+this.P[d].y*a.y;e>b&&(c=d,b=e)}return c};r.mn=function(a){for(var c=0,b=this.P[0].x*a.x+this.P[0].y*a.y,d=1;d<this.gb;++d){var e=
this.P[d].x*a.x+this.P[d].y*a.y;e>b&&(c=d,b=e)}return this.P[c]};r.tn=function(a){this.P=[];this.Ka=[];for(var c=this.P.length;c<a;c++)this.P[c]=Q.B(0,0),this.Ka[c]=Q.B(0,0)};X.gC=function(a,c){for(var b=Q.B(0,0),d=0,e=1/3,g=0;g<c;++g){var f=a[g],m=g+1<c?a[g+1]:a[0],k=.5*((f.x-0)*(m.y-0)-(f.y-0)*(m.x-0)),d=d+k;b.x+=k*e*(0+f.x+m.x);b.y+=k*e*(0+f.y+m.y)}b.x*=1/d;b.y*=1/d;return b};X.VJ=new Cc;X.kg="b2PolygonShape";var $c=function(){this.Nt=this.Mt=this.Ot=this.de=0};r=$c.prototype;r.gk=function(a){this.de=
a;this.Ot=this.de&255;this.Mt=(this.de&65280)>>8&255;this.Nt=(this.de&16711680)>>16&255;this.ay=(this.de&4278190080)>>24&255};r.Set=function(a){this.gk(a.de)};r.Wx=function(a){this.Ot=a;this.de=this.de&4294967040|this.Ot&255};r.Ux=function(a){this.Mt=a;this.de=this.de&4294902015|this.Mt<<8&65280};r.Vx=function(a){this.Nt=a;this.de=this.de&4278255615|this.Nt<<16&16711680};r.GD=function(a){this.ay=a;this.de=this.de&16777215|this.ay<<24&4278190080};r.Rc=function(){var a=new $c;a.Set(this);return a};
var ad=function(){this.Cf=Q.B(0,0);this.id=new $c};ad.prototype.Set=function(a){this.Cf.J(a.Cf);this.id.Set(a.id)};var bd=function(){this.Sa=Q.B(0,0);this.Ua=Q.B(0,0)},cd=[],dd=function(){if(0<cd.length){var a=cd.pop();a.ta();return a}return new bd};r=bd.prototype;r.ta=function(){this.Sa.Set(0,0);this.Ua.Set(0,0)};r.Mp=function(){return 0>this.Ua.x-this.Sa.x||0>this.Ua.y-this.Sa.y?!1:this.Sa.Mp()&&this.Ua.Mp()};r.pC=function(){return Q.B((this.Sa.x+this.Ua.x)/2,(this.Sa.y+this.Ua.y)/2)};r.Ws=function(a){var c;
return c=(c=(c=(c=this.Sa.x<=a.Sa.x)&&this.Sa.y<=a.Sa.y)&&a.Ua.x<=this.Ua.x)&&a.Ua.y<=this.Ua.y};r.zn=function(a){return 0<a.Sa.x-this.Ua.x||0<a.Sa.y-this.Ua.y||0<this.Sa.x-a.Ua.x||0<this.Sa.y-a.Ua.y?!1:!0};r.Bp=function(a,c){this.Sa.x=Math.min(a.Sa.x,c.Sa.x);this.Sa.y=Math.min(a.Sa.y,c.Sa.y);this.Ua.x=Math.max(a.Ua.x,c.Ua.x);this.Ua.y=Math.max(a.Ua.y,c.Ua.y)};var ed=function(a,c,b,d){var e=0,g=c[0].Cf,f=c[1].Cf,m=b.x*g.x+b.y*g.y-d;b=b.x*f.x+b.y*f.y-d;0>=m&&a[e++].Set(c[0]);0>=b&&a[e++].Set(c[1]);
0>m*b&&(b=m/(m-b),d=a[e].Cf,d.x=g.x+b*(f.x-g.x),d.y=g.y+b*(f.y-g.y),a[e].id=0<m?c[0].id:c[1].id,e++);return e},fd=function(a,c,b,d,e){for(var g=c.u.k.x*a.Ka[b].x+c.u.m.x*a.Ka[b].y,f=c.u.k.y*a.Ka[b].x+c.u.m.y*a.Ka[b].y,m=e.u.k.x*g+e.u.k.y*f,k=e.u.m.x*g+e.u.m.y*f,h=0,n=Number.MAX_VALUE,l=0;l<d.gb;l++){var q=d.P[l].x*m+d.P[l].y*k;q<n&&(n=q,h=l)}return(e.position.x+(e.u.k.x*d.P[h].x+e.u.m.x*d.P[h].y)-(c.position.x+(c.u.k.x*a.P[b].x+c.u.m.x*a.P[b].y)))*g+(e.position.y+(e.u.k.y*d.P[h].x+e.u.m.y*d.P[h].y)-
(c.position.y+(c.u.k.y*a.P[b].x+c.u.m.y*a.P[b].y)))*f},gd=function(a,c,b,d){for(var e=d.position.x+(d.u.k.x*b.pe.x+d.u.m.x*b.pe.y),g=d.position.y+(d.u.k.y*b.pe.x+d.u.m.y*b.pe.y),e=e-(c.position.x+(c.u.k.x*a.pe.x+c.u.m.x*a.pe.y)),g=g-(c.position.y+(c.u.k.y*a.pe.x+c.u.m.y*a.pe.y)),f=e*c.u.k.x+g*c.u.k.y,g=e*c.u.m.x+g*c.u.m.y,e=0,m=-Number.MAX_VALUE,k=0;k<a.gb;++k){var h=a.Ka[k].x*f+a.Ka[k].y*g;h>m&&(m=h,e=k)}f=fd(a,c,e,b,d);g=e-1;0>g&&(g=a.gb-1);m=fd(a,c,g,b,d);k=e+1;k>=a.gb&&(k=0);var h=fd(a,c,k,b,
d),n=0,l=0;if(m>f&&m>h)for(n=g,l=m;;)if(e=n-1,0>e&&(e=a.gb-1),f=fd(a,c,e,b,d),f>l)n=e,l=f;else break;else if(h>f)for(n=k,l=h;;)if(e=n+1,e>=a.gb&&(e=0),f=fd(a,c,e,b,d),f>l)n=e,l=f;else break;else n=e,l=f;return{qy:n,ws:l}},id=function(a,c,b){var d=new hd;d.wD(c,b.Gi,b.Ls,b.Hi,b.Ms);for(var e=0;20>e;){for(var g=[],f=0;f<d.Aa;f++)g[f]={},g[f].Gc=d.P[f].Gc,g[f].Hc=d.P[f].Hc;2==d.Aa?d.VD():3==d.Aa&&d.WD();if(3==d.Aa)break;f=d.rC();if(f.Np()<Sc)break;var m=f.Yi();d.P[d.Aa].Gc=b.Gi.Kp(V.Rh(b.Ls.u,m));d.P[d.Aa].Md=
V.gd(b.Ls,b.Gi.Gd(d.P[d.Aa].Gc));d.P[d.Aa].Hc=b.Hi.Kp(V.Rh(b.Ms.u,f));d.P[d.Aa].jg=V.gd(b.Ms,b.Hi.Gd(d.P[d.Aa].Hc));d.P[d.Aa].Qc=V.Qb(d.P[d.Aa].jg,d.P[d.Aa].Md);Q.zc(f);Q.zc(m);e++;m=!1;for(f=0;f<g.length;f++)if(d.P[d.Aa].Gc==g[f].Gc&&d.P[d.Aa].Hc==g[f].Hc){m=!0;break}if(m)break;d.Aa++}d.sC(a.Gg,a.Hg);a.ah=V.Qb(a.Gg,a.Hg).Wg();d.kE(c);b.HB&&(c=b.Gi.rb,b=b.Hi.rb,a.ah>c+b&&a.ah>Number.MIN_VALUE?(a.ah-=c+b,d=V.Qb(a.Hg,a.Gg),d.be(),a.Gg.x+=c*d.x,a.Gg.y+=c*d.y,a.Hg.x-=b*d.x,a.Hg.y-=b*d.y,Q.zc(d)):(b=Q.B(0,
0),b.x=.5*(a.Gg.x+a.Hg.x),b.y=.5*(a.Gg.y+a.Hg.y),a.Gg.x=a.Hg.x=b.x,a.Gg.y=a.Hg.y=b.y,a.ah=0,Q.zc(b)))},jd=function(){},kd=function(){this.Gg=Q.B(0,0);this.Hg=Q.B(0,0);this.ah=0},ld=function(){};ld.prototype.Set=function(a){a.At(this)};ld.prototype.Kp=function(a){for(var c=0,b=this.P[0].x*a.x+this.P[0].y*a.y,d=1;d<this.Aa;d++){var e=this.P[d].x*a.x+this.P[d].y*a.y;e>b&&(c=d,b=e)}return c};ld.prototype.mn=function(a){return this.P[this.Kp(a)]};ld.prototype.Gd=function(a){void 0===a&&(a=0);return this.P[a]};
var md=function(){this.uh=null};r=md.prototype;r.gn=function(a,c){var b=nd(c);b.nb.Sa.x=a.Sa.x-.1;b.nb.Sa.y=a.Sa.y-.1;b.nb.Ua.x=a.Ua.x+.1;b.nb.Ua.y=a.Ua.y+.1;this.zx(b);return b};r.hn=function(a){this.Nx(a);a.Yd()};r.it=function(a,c,b){if(a.nb.Ws(c))return!1;this.Nx(a);var d=.1+2*Math.abs(b.x);b=.1+2*Math.abs(b.y);a.nb.Sa.x=c.Sa.x-d;a.nb.Sa.y=c.Sa.y-b;a.nb.Ua.x=c.Ua.x+d;a.nb.Ua.y=c.Ua.y+b;this.zx(a);return!0};r.kn=function(a){return a.nb};r.yt=function(a,c){if(null!==this.uh){var b=[];for(b.push(this.uh);0<
b.length;){var d=b.pop();if(d.nb.zn(c))if(d.Bx()){if(!a(d.Of))break}else b.push(d.Pe),b.push(d.$g)}}};r.zx=function(a){if(null===this.uh)this.uh=a,this.uh.parent=null;else{var c=this.oC(a),b=c.parent,d=nd();d.parent=b;d.nb.Bp(a.nb,c.nb);if(b)for(c.parent.Pe==c?b.Pe=d:b.$g=d,d.Pe=c,d.$g=a,c.parent=d,a.parent=d;b&&!b.nb.Ws(d.nb);)b.nb.Bp(b.Pe.nb,b.$g.nb),d=b,b=b.parent;else d.Pe=c,d.$g=a,c.parent=d,this.uh=a.parent=d}};r.oC=function(a){a=a.nb.pC();for(var c=this.uh;!c.Bx();)var b=c.Pe,c=c.$g,d=Math.abs((b.nb.Sa.x+
b.nb.Ua.x)/2-a.x)+Math.abs((b.nb.Sa.y+b.nb.Ua.y)/2-a.y),e=Math.abs((c.nb.Sa.x+c.nb.Ua.x)/2-a.x)+Math.abs((c.nb.Sa.y+c.nb.Ua.y)/2-a.y),c=d<e?b:c;Q.zc(a);return c};r.Nx=function(a){if(a==this.uh)this.uh=null;else{var c=a.parent,b=c.parent;a=c.Pe==a?c.$g:c.Pe;if(b)for(b.Pe==c?b.Pe=a:b.$g=a,a.parent=b;b;){a=b.nb;b.nb.Bp(b.Pe.nb,b.$g.nb);if(a.Ws(b.nb))break;b=b.parent}else this.uh=a,a.parent=null;c.Yd()}};var od=function(){this.yi=new md;this.Or=[]};r=od.prototype;r.gn=function(a,c){var b=this.yi.gn(a,
c);this.nx(b);return b};r.hn=function(a){this.gE(a);this.yi.hn(a)};r.it=function(a,c,b){this.yi.it(a,c,b)&&this.nx(a)};r.zn=function(a,c){return this.yi.kn(a).zn(this.yi.kn(c))};r.kn=function(a){return this.yi.kn(a)};r.hE=function(a){for(var c=[];0<this.Or.length;){var b=this.Or.pop();this.yi.yt(function(a){a!=b.Of&&c.push(new pd(b.Of,a));return!0},this.yi.kn(b))}for(var d=0;d<c.length;){var e=c[d];a(e.Sn,e.Tn);for(d++;d<c.length;){var g=c[d];if(!(g.Sn==e.Sn&&g.Tn==e.Tn||g.Sn==e.Tn&&g.Tn==e.Sn))break;
d++}}};r.yt=function(a,c){this.yi.yt(a,c)};r.nx=function(a){this.Or.push(a)};r.gE=function(a){Fa(this.Or,a)};var qd=function(a){this.nb=dd();this.Of=this.parent=this.$g=this.Pe=null;"undefined"!=typeof a&&(this.Of=a)},rd=[],nd=function(a){if(0<rd.length){var c=rd.pop();"undefined"!=typeof a&&(c.Of=a);c.nb.ta();return c}return new qd(a)};qd.prototype.Yd=function(){this.Of=this.parent=this.$g=this.Pe=null;rd.push(this)};qd.prototype.Bx=function(){return null===this.Pe};var pd=function(a,c){this.Sn=
a;this.Tn=c},td=function(){this.sb=this.sc=0;this.ya=[];for(var a=0;2>a;a++)this.ya[a]=new sd;this.Cd=Q.B(0,0);this.Ia=Q.B(0,0)};td.prototype.xd=function(){for(var a=0;2>a;a++)this.ya[a].xd();this.Cd.ta();this.Ia.ta();this.sc=this.sb=0};td.prototype.Set=function(a){this.sc=a.sc;for(var c=0;2>c;c++)this.ya[c].Set(a.ya[c]);this.Cd.J(a.Cd);this.Ia.J(a.Ia);this.sb=a.sb};td.prototype.Rc=function(){var a=new td;a.Set(this);return a};var sd=function(){this.Ia=Q.B(0,0);this.Wf=new $c;this.xd()};sd.prototype.xd=
function(){this.Ia.ta();this.il=this.el=0;this.Wf.gk(0)};sd.prototype.Set=function(a){this.Ia.J(a.Ia);this.el=a.el;this.il=a.il;this.Wf.Set(a.Wf)};var ud=function(){this.Ia=Q.B(0,0);this.X=Q.B(0,0)};ud.prototype.Ac=function(a,c,b,d,e){this.Kj=c;this.Lj=d;var g,f,m,k=m=f=0,h=0;d=c=0;var n,l,k=0;1==a.count?(this.sb=vd,g=this.Kj.Gd(a.Gc[0]),a=this.Lj.Gd(a.Hc[0]),l=g,n=b.u,f=b.position.x+(n.k.x*l.x+n.m.x*l.y),m=b.position.y+(n.k.y*l.x+n.m.y*l.y),l=a,n=e.u,k=e.position.x+(n.k.x*l.x+n.m.x*l.y),h=e.position.y+
(n.k.y*l.x+n.m.y*l.y),this.X.x=k-f,this.X.y=h-m,this.X.be()):(a.Hc[0]==a.Hc[1]?(this.sb=wd,c=this.Kj.Gd(a.Gc[0]),d=this.Kj.Gd(a.Gc[1]),a=this.Lj.Gd(a.Hc[0]),this.Ia.x=.5*(c.x+d.x),this.Ia.y=.5*(c.y+d.y),this.X=V.Ph(V.Qb(d,c),1),this.X.be(),l=this.X,n=b.u,c=n.k.x*l.x+n.m.x*l.y,d=n.k.y*l.x+n.m.y*l.y,l=this.Ia,n=b.u,f=b.position.x+(n.k.x*l.x+n.m.x*l.y),m=b.position.y+(n.k.y*l.x+n.m.y*l.y),l=a,n=e.u,k=e.position.x+(n.k.x*l.x+n.m.x*l.y),h=e.position.y+(n.k.y*l.x+n.m.y*l.y),k=(k-f)*c+(h-m)*d):a.Gc[0]==
a.Gc[0]?(this.sb=xd,f=this.Lj.Gd(a.Hc[0]),m=this.Lj.Gd(a.Hc[1]),g=this.Kj.Gd(a.Gc[0]),this.Ia.x=.5*(f.x+m.x),this.Ia.y=.5*(f.y+m.y),this.X=V.Ph(V.Qb(m,f),1),this.X.be(),l=this.X,n=e.u,c=n.k.x*l.x+n.m.x*l.y,d=n.k.y*l.x+n.m.y*l.y,l=this.Ia,n=e.u,k=e.position.x+(n.k.x*l.x+n.m.x*l.y),h=e.position.y+(n.k.y*l.x+n.m.y*l.y),l=g,n=b.u,f=b.position.x+(n.k.x*l.x+n.m.x*l.y),m=b.position.y+(n.k.y*l.x+n.m.y*l.y),k=(f-k)*c+(m-h)*d):(c=this.Kj.Gd(a.Gc[0]),d=this.Kj.Gd(a.Gc[1]),f=this.Lj.Gd(a.Hc[0]),m=this.Lj.Gd(a.Hc[1]),
k=V.pc(b.u,V.Qb(d,c)),h=V.pc(e.u,V.Qb(m,f)),e=k.x*k.x+k.y*k.y,b=h.x*h.x+h.y*h.y,g=V.Qb(h,k),a=k.x*g.x+k.y*g.y,g=h.x*g.x+h.y*g.y,h=k.x*h.x+k.y*h.y,n=e*b-h*h,k=0,0!=n&&(k=V.Ub((h*g-a*b)/n,0,1)),0>(h*k+g)/b&&(k=V.Ub((h-a)/e,0,1)),g=Q.B(0,0),g.x=c.x+k*(d.x-c.x),g.y=c.y+k*(d.y-c.y),a=Q.B(0,0),a.x=f.x+k*(m.x-f.x),a.y=f.y+k*(m.y-f.y),0==k||1==k?(this.sb=xd,this.X=V.Ph(V.Qb(m,f),1),this.X.be(),this.Ia=a):(this.sb=wd,this.X=V.Ph(V.Qb(d,c),1),this.Ia=g)),0>k&&this.X.lt())};ud.prototype.Ug=function(a,c){var b,
d,e=0;switch(this.sb){case vd:b=V.Rh(a.u,this.X);d=V.Rh(c.u,this.X.Yi());b=this.Kj.mn(b);d=this.Lj.mn(d);b=V.gd(a,b);d=V.gd(c,d);e=(d.x-b.x)*this.X.x+(d.y-b.y)*this.X.y;break;case wd:e=V.pc(a.u,this.X);b=V.gd(a,this.Ia);d=V.Rh(c.u,e.Yi());d=this.Lj.mn(d);d=V.gd(c,d);e=(d.x-b.x)*e.x+(d.y-b.y)*e.y;break;case xd:e=V.pc(c.u,this.X),d=V.gd(c,this.Ia),b=V.Rh(a.u,e.Yi()),b=this.Kj.mn(b),b=V.gd(a,b),e=(b.x-d.x)*e.x+(b.y-d.y)*e.y}return e};var vd=1,wd=2,xd=4,hd=function(){this.Ba=new yd;this.$a=new yd;this.Ze=
new yd;this.P=[this.Ba,this.$a,this.Ze]};r=hd.prototype;r.wD=function(a,c,b,d,e){var g,f;this.Aa=a.count;for(var m=this.P,k=0;k<this.Aa;k++){var h=m[k];h.Gc=a.Gc[k];h.Hc=a.Hc[k];g=c.Gd(h.Gc);f=d.Gd(h.Hc);h.Md=V.gd(b,g);h.jg=V.gd(e,f);h.Qc=V.Qb(h.jg,h.Md);h.R=0}1<this.Aa&&(a=a.AH,g=this.yx(),g<.5*a||2*a<g||g<Number.MIN_VALUE)&&(this.Aa=0);0==this.Aa&&(h=m[0],h.Gc=0,h.Hc=0,g=c.Gd(0),f=d.Gd(0),h.Md=V.gd(b,g),h.jg=V.gd(e,f),h.Qc=V.Qb(h.jg,h.Md),this.Aa=1)};r.kE=function(a){a.AH=this.yx();a.count=this.Aa;
for(var c=this.P,b=0;b<this.Aa;b++)a.Gc[b]=c[b].Gc,a.Hc[b]=c[b].Hc};r.rC=function(){if(1==this.Aa)return this.Ba.Qc.Yi();if(2==this.Aa){var a=V.Qb(this.$a.Qc,this.Ba.Qc);return 0<V.bk(a,this.Ba.Qc.Yi())?V.Ys(1,a):V.Ph(a,1)}return Q.B(0,0)};r.sC=function(a,c){1==this.Aa?(a.J(this.Ba.Md),c.J(this.Ba.jg)):2==this.Aa?(a.x=this.Ba.R*this.Ba.Md.x+this.$a.R*this.$a.Md.x,a.y=this.Ba.R*this.Ba.Md.y+this.$a.R*this.$a.Md.y,c.x=this.Ba.R*this.Ba.jg.x+this.$a.R*this.$a.jg.x,c.y=this.Ba.R*this.Ba.jg.y+this.$a.R*
this.$a.jg.y):3==this.Aa&&(c.x=a.x=this.Ba.R*this.Ba.Md.x+this.$a.R*this.$a.Md.x+this.Ze.R*this.Ze.Md.x,c.y=a.y=this.Ba.R*this.Ba.Md.y+this.$a.R*this.$a.Md.y+this.Ze.R*this.Ze.Md.y)};r.yx=function(){return 1==this.Aa?0:2==this.Aa?V.Qb(this.Ba.Qc,this.$a.Qc).Wg():3==this.Aa?V.bk(V.Qb(this.$a.Qc,this.Ba.Qc),V.Qb(this.Ze.Qc,this.Ba.Qc)):0};r.VD=function(){var a=this.Ba.Qc,c=this.$a.Qc,b=V.Qb(c,a),a=-(a.x*b.x+a.y*b.y);0>=a?this.Aa=this.Ba.R=1:(c=c.x*b.x+c.y*b.y,0>=c?(this.Aa=this.$a.R=1,this.Ba.Set(this.$a)):
(b=1/(c+a),this.Ba.R=c*b,this.$a.R=a*b,this.Aa=2))};r.WD=function(){var a=this.Ba.Qc,c=this.$a.Qc,b=this.Ze.Qc,d=V.Qb(c,a),e=V.Zb(c,d),g=-V.Zb(a,d),f=V.Qb(b,a),m=V.Zb(b,f),k=-V.Zb(a,f),h=V.Qb(b,c),n=V.Zb(b,h),h=-V.Zb(c,h),f=V.bk(d,f),d=f*V.bk(c,b),b=f*V.bk(b,a),a=f*V.bk(a,c);0>=g&&0>=k?this.Aa=this.Ba.R=1:0<e&&0<g&&0>=a?(m=1/(e+g),this.Ba.R=e*m,this.$a.R=g*m,this.Aa=2):0<m&&0<k&&0>=b?(e=1/(m+k),this.Ba.R=m*e,this.Ze.R=k*e,this.Aa=2,this.$a.Set(this.Ze)):0>=e&&0>=h?(this.Aa=this.$a.R=1,this.Ba.Set(this.$a)):
0>=m&&0>=n?(this.Aa=this.Ze.R=1,this.Ba.Set(this.Ze)):0<n&&0<h&&0>=d?(e=1/(n+h),this.$a.R=n*e,this.Ze.R=h*e,this.Aa=2,this.Ba.Set(this.Ze)):(e=1/(d+b+a),this.Ba.R=d*e,this.$a.R=b*e,this.Ze.R=a*e,this.Aa=3)};var zd=function(){this.Gc=[0,0,0];this.Hc=[0,0,0]},yd=function(){};yd.prototype.Set=function(a){this.Md.J(a.Md);this.jg.J(a.jg);this.Qc.J(a.Qc);this.R=a.R;this.Gc=a.Gc;this.Hc=a.Hc};var Ad=function(){this.Gi=new ld;this.Hi=new ld;this.lB=new Wc;this.mB=new Wc},Bd=function(){this.Ja=Q.B(0,0);this.ya=
[];for(var a=this.sc=0;2>a;a++)this.ya[a]=Q.B(0,0)};Bd.prototype.Ac=function(a,c,b,d,e){if(0!=a.sc){var g=0,f,m,k=0,h=0,n=0,l=0,q=0;f=0;switch(a.sb){case 1:m=c.u;f=a.Ia;g=c.position.x+m.k.x*f.x+m.m.x*f.y;c=c.position.y+m.k.y*f.x+m.m.y*f.y;m=d.u;f=a.ya[0].Ia;a=d.position.x+m.k.x*f.x+m.m.x*f.y;d=d.position.y+m.k.y*f.x+m.m.y*f.y;f=a-g;m=d-c;k=f*f+m*m;k>Sc?(k=Math.sqrt(k),this.Ja.x=f/k,this.Ja.y=m/k):(this.Ja.x=1,this.Ja.y=0);f=c+b*this.Ja.y;d-=e*this.Ja.y;this.ya[0].x=.5*(g+b*this.Ja.x+(a-e*this.Ja.x));
this.ya[0].y=.5*(f+d);break;case 2:m=c.u;f=a.Cd;k=m.k.x*f.x+m.m.x*f.y;h=m.k.y*f.x+m.m.y*f.y;m=c.u;f=a.Ia;n=c.position.x+m.k.x*f.x+m.m.x*f.y;l=c.position.y+m.k.y*f.x+m.m.y*f.y;this.Ja.x=k;this.Ja.y=h;for(g=0;g<a.sc;g++)m=d.u,f=a.ya[g].Ia,q=d.position.x+m.k.x*f.x+m.m.x*f.y,f=d.position.y+m.k.y*f.x+m.m.y*f.y,this.ya[g].x=q+.5*(b-(q-n)*k-(f-l)*h-e)*k,this.ya[g].y=f+.5*(b-(q-n)*k-(f-l)*h-e)*h;break;case 4:for(m=d.u,f=a.Cd,k=m.k.x*f.x+m.m.x*f.y,h=m.k.y*f.x+m.m.y*f.y,m=d.u,f=a.Ia,n=d.position.x+m.k.x*f.x+
m.m.x*f.y,l=d.position.y+m.k.y*f.x+m.m.y*f.y,this.Ja.x=-k,this.Ja.y=-h,g=0;g<a.sc;g++)m=c.u,f=a.ya[g].Ia,q=c.position.x+m.k.x*f.x+m.m.x*f.y,f=c.position.y+m.k.y*f.x+m.m.y*f.y,this.ya[g].x=q+.5*(e-(q-n)*k-(f-l)*h-b)*k,this.ya[g].y=f+.5*(e-(q-n)*k-(f-l)*h-b)*h}}};var Fc=function(a,c){this.$d="Body"+Fc.kt++;this.F=new Dc;this.F.position.J(a.position);this.F.u.Set(a.N);this.n=new Wc;this.n.U.ta();this.n.Xd=1;this.n.Ff=this.n.R=a.N;this.n.D.x=this.F.u.k.x*this.n.U.x+this.F.u.m.x*this.n.U.y;this.n.D.y=
this.F.u.k.y*this.n.U.x+this.F.u.m.y*this.n.U.y;this.n.D.x+=this.F.position.x;this.n.D.y+=this.F.position.y;this.n.zd.J(this.n.D);this.A=a.vv.Rc();this.ri=Q.B(0,0);this.wm=a.qk;this.gH=a.ru;this.Hv=a.gy;this.Iv=a.my;this.Co=a.Bc;this.ab=c;this.Yb=null;this.Ae=new Cd;this.uk=new Dd;this.H=a.hy;this.nH=a.Wk;this.bH=a.lk;this.Mo=this.jl=0;this.sb=a.type;this.Y=this.sb==W.hd?1:0;this.O=this.sb==W.hd?1:0;this.V=this.Uf=0;this.kH=a.kz;this.Wl=new Ed;this.Mr=[]};r=Fc.prototype;r.yl=function(a){a=new Ec(this,
this.F,a);this.Co&&a.gn(this.ab.qe.vm,this.F);this.Wl.NB(a);a.Eo=this;0<a.Ir&&this.Px();this.ab.Sv=!0;return a};r.Yd=function(){Q.zc(this.A);Q.zc(this.ri)};r.qx=function(a){this.Wl.xD(a);for(var c=this.Ae.bb(Fd);c;c=c.next)a!=c.kd.cc&&a!=c.kd.Xb||this.ab.qe.Yd(c.kd);this.Co&&a.hn(this.ab.qe.vm);a.Yd();a.Eo=null;this.Px()};r.xn=function(a,c){this.F.u.Set(c);this.F.position.J(a);var b=this.F.u,d=this.n.U;this.n.D.x=b.k.x*d.x+b.m.x*d.y;this.n.D.y=b.k.y*d.x+b.m.y*d.y;this.n.D.x+=this.F.position.x;this.n.D.y+=
this.F.position.y;this.n.zd.J(this.n.D);this.n.Ff=this.n.R=c;b=this.ab.qe.vm;for(d=this.Wl.bb();d;d=d.next)d.Of.Xx(b,this.F,this.F);this.ab.qe.Gp()};r.Le=function(){return this.F};r.Bt=function(a){this.xn(a,this.Zd())};r.Zd=function(){return this.n.R};r.un=function(a){this.xn(this.F.position,a)};r.Cl=function(){return this.n.D};r.dk=function(){return this.n.U};r.hk=function(a){this.sb!=W.nf&&this.A.J(a)};r.ck=function(){return this.A};r.vn=function(a){void 0===a&&(a=0);this.sb!=W.nf&&(this.H=a)};
r.Hp=function(){return this.H};r.Sg=function(a,c){this.sb==W.hd&&(this.Hd(!0),this.ri.x+=a.x,this.ri.y+=a.y,this.jl+=(c.x-this.n.D.x)*a.y-(c.y-this.n.D.y)*a.x)};r.zp=function(a){void 0===a&&(a=0);this.sb==W.hd&&(this.Hd(!0),this.jl+=a)};r.Bl=function(){return this.Y};r.xx=function(a){a||(a=new Zc);a.vh=this.Y;a.Dl=this.Uf;a.Xh.J(this.n.U);return a};r.Px=function(){this.V=this.Uf=this.O=this.Y=0;this.n.U.ta();if(this.sb!=W.nf&&this.sb!=W.oy){for(var a=Q.B(0,0),c=this.Wl.bb();c;c=c.next){var b=c.Of;
0!=b.Ir&&(b=b.xx(),this.Y+=b.vh,a.x+=b.Xh.x*b.vh,a.y+=b.Xh.y*b.vh,this.Uf+=b.Dl)}0<this.Y?(this.O=1/this.Y,a.x*=this.O,a.y*=this.O):this.O=this.Y=1;0<this.Uf&&!this.gH?(this.Uf-=this.Y*(a.x*a.x+a.y*a.y),this.Uf*=this.kH,this.V=1/this.Uf):this.V=this.Uf=0;c=this.n.D.Rc();this.n.U.J(a);this.n.zd.J(V.gd(this.F,this.n.U));this.n.D.J(this.n.zd);this.A.x+=this.H*-(this.n.D.y-c.y);this.A.y+=this.H*+(this.n.D.x-c.x);Q.zc(a);Q.zc(c)}};r.Lp=function(a){var c=this.F.u;a=Q.B(c.k.x*a.x+c.m.x*a.y,c.k.y*a.x+c.m.y*
a.y);a.x+=this.F.position.x;a.y+=this.F.position.y;return a};r.et=function(a){return V.pc(this.F.u,a)};r.Od=function(a){return V.jt(this.F,a)};r.dt=function(a){return V.Rh(this.F.u,a)};r.qC=function(a){return Q.B(this.A.x-this.H*(a.y-this.n.D.y),this.A.y+this.H*(a.x-this.n.D.x))};r.wd=function(){return this.sb};r.Hd=function(a){if(this.Iv!=a)for(this.Iv=a,this.Mo=0,a||(this.A.ta(),this.H=0,this.ri.ta(),this.jl=0),a=0;a<this.Mr.length;a++)this.Mr[a].$x(this)};r.Pd=function(){return this.Iv};r.$i=function(){return this.Co};
r.bt=function(){return this.Wl};r.$m=function(a){this.uk.$m(a)};r.sn=function(a){this.uk.sn(a)};r.Xi=function(){return this.Ae};r.Yx=function(){var a=Fc.hI;a.u.Set(this.n.Ff);var c=a.u,b=this.n.U;a.position.x=this.n.zd.x-(c.k.x*b.x+c.m.x*b.y);a.position.y=this.n.zd.y-(c.k.y*b.x+c.m.y*b.y);c=this.ab.qe.vm;for(b=this.Wl.bb();b;b=b.next)b.Of.Xx(c,a,this.F)};r.$b=function(){this.F.u.Set(this.n.R);var a=this.F.u,c=this.n.U;this.F.position.x=this.n.D.x-(a.k.x*c.x+a.m.x*c.y);this.F.position.y=this.n.D.y-
(a.k.y*c.x+a.m.y*c.y)};r.ik=function(a){if(this.sb!=W.hd&&a.sb!=W.hd)return!1;for(var c=this.Yb;c;c=c.next)if(c.zf==a&&0==c.mi.$z)return!1;return!0};r.Wi=function(a){this.n.Wi(a);this.n.D.J(this.n.zd);this.n.R=this.n.Ff;this.$b()};Fc.kt=0;var W=function(){this.position=Q.B(0,0);this.vv=Q.B(0,0);this.lk=this.Wk=this.hy=this.N=0;this.my=this.gy=!0;this.qk=this.ru=!1;this.type=W.nf;this.Bc=!0;this.kz=1};W.nf=0;W.oy=1;W.hd=2;var Hd=function(){this.aq=[];for(var a=0;a<=Gd;a++)this.aq[a]=null;this.bq=[];
for(a=0;a<=Gd;a++)this.bq[a]=null;this.Kl={}};r=Hd.prototype;r.bb=function(a){return this.aq[a]};r.ul=function(a){var c=a.$d;null==this.Kl[c]&&(this.Tg(a,c,Gd),this.$x(a),a.Mr.push(this))};r.$x=function(a){var c=a.wd(),b=a.$d,d=a.Pd(),e=a.$i();c==W.hd?this.Tg(a,b,Id):this.Xg(b,Id);c!=W.nf?this.Tg(a,b,Jd):this.Xg(b,Jd);c!=W.nf&&e&&d?this.Tg(a,b,Kd):this.Xg(b,Kd);d?this.Tg(a,b,Ld):this.Xg(b,Ld);e?this.Tg(a,b,Md):this.Xg(b,Md)};r.rn=function(a){var c=a.$d;if(null!=this.Kl[c]){Fa(a.Mr,this);for(a=0;a<=
Gd;a++)this.Xg(c,a);delete this.Kl[c]}};r.Xg=function(a,c){var b=this.Kl[a];if(null!=b){var d=b[c];null!=d&&(b[c]=null,b=d.dg,d=d.next,null==b?this.aq[c]=d:b.mg(d),null==d?this.bq[c]=b:d.ng(b))}};r.Tg=function(a,c,b){var d=this.Kl[c];if(null==d){for(var d=[],e=0;e<=Gd;e++)d[e]=null;this.Kl[c]=d}null==d[b]&&(d[b]=new Nd(a),a=this.bq[b],null!=a?a.mg(d[b]):this.aq[b]=d[b],d[b].ng(a),this.bq[b]=d[b])};var Id=0,Jd=1,Md=2,Kd=3,Ld=4,Gd=5,Nd=function(a){this.body=a;this.dg=this.next=null};Nd.prototype.mg=
function(a){this.next=a};Nd.prototype.ng=function(a){this.dg=a};Nd.prototype.mb=function(){return this.body};var Hc=function(){};Hc.prototype.ik=function(a,c){var b=a.wx(),d=c.wx();return b.tj==d.tj&&0!=b.tj?0<b.tj:0!=(b.Em&d.Ll)&&0!=(b.Ll&d.Em)};Hc.EE=new Hc;var Od=function(){this.EH=[];this.tI=[]},Gc=function(){};Gc.prototype.Ap=function(){};var Qd=function(a){this.ab=a;this.Jv=Hc.EE;this.pi=Gc.ny;this.aA=new Pd;this.vm=new od};Qd.prototype.QB=function(a,c){var b=a.mb(),d=c.mb();if(b!=d&&d.ik(b)&&
this.Jv.ik(a,c)){for(b=d.Ae.bb(Fd);b;b=b.next)if(d=b.kd.cc,d==a){if(d=b.kd.Xb,d==c)return}else if(d==c&&(d=b.kd.Xb,d==a))return;this.aA.Df(a,c)}};Qd.prototype.Gp=function(){var a=this;this.vm.hE(function(c,b){a.QB(c,b)})};Qd.prototype.Yd=function(a){0<a.xf.sc&&(a.cc.mb().Hd(!0),a.Xb.mb().Hd(!0));a.yD();this.aA.Yd(a)};Qd.prototype.$B=function(){for(var a=this.ab.Ae.bb(Fd);a;a=a.next){var c=a.kd,b=c.cc,d=c.Xb,e=b.mb(),g=d.mb();if(0!=e.Pd()||0!=g.Pd()){if(c.Iq){if(0==g.ik(e)){this.Yd(c);continue}if(0==
this.Jv.ik(b,d)){this.Yd(c);continue}c.YB()}0==this.vm.zn(b.fl,d.fl)?this.Yd(c):c.Zx(this.pi)}}};var Rd=function(){this.Ll=1;this.Em=65535;this.tj=0};Rd.prototype.Rc=function(){var a=new Rd;a.Ll=this.Ll;a.Em=this.Em;a.tj=this.tj;return a};var Ec=function(a,c,b){this.$d="Fixture"+Ec.kt++;this.fH=b.filter.Rc();this.al=dd();this.Eo=a;this.xi=b.shape.Rc();this.Ir=b.ug;this.Mv=b.fh;this.Tv=b.Dh;this.Kr=b.av};r=Ec.prototype;r.fd=function(){return this.xi};r.fk=function(){return this.Kr};r.wx=function(){return this.fH.Rc()};
r.mb=function(){return this.Eo};r.xx=function(a){a||(a=new Zc);this.xi.dn(a,this.Ir);return a};r.Yd=function(){cd.push(this.al)};r.gn=function(a,c){this.xi.xl(this.al,c);this.fl=a.gn(this.al,this)};r.hn=function(a){null!=this.fl&&(a.hn(this.fl),this.fl=null)};r.Xx=function(a,c,b){if(this.fl){var d=dd(),e=dd();this.xi.xl(d,c);this.xi.xl(e,b);this.al.Bp(d,e);cd.push(d);cd.push(e);c=V.Qb(b.position,c.position);a.it(this.fl,this.al,c);Q.zc(c)}};Ec.kt=0;var Kc=function(){this.filter=new Rd;this.filter.Ll=
1;this.filter.Em=65535;this.filter.tj=0;this.shape=null;this.fh=.2;this.ug=this.Dh=0;this.av=!1},Ed=function(){this.tu=this.su=null;this.Lq={}};Ed.prototype.bb=function(){return this.su};Ed.prototype.NB=function(a){var c=a.$d;if(null==this.Lq[c]){a=new Sd(a);var b=this.tu;null!=b?b.mg(a):this.su=a;a.ng(b);this.tu=a;this.Lq[c]=a}};Ed.prototype.xD=function(a){a=a.$d;var c=this.Lq[a];if(null!=c){var b=c.dg,c=c.next;null==b?this.su=c:b.mg(c);null==c?this.tu=b:c.ng(b);delete this.Lq[a]}};var Sd=function(a){this.Of=
a;this.dg=this.next=null};Sd.prototype.mg=function(a){this.next=a};Sd.prototype.ng=function(a){this.dg=a};var Td=function(a,c){this.oH=a;this.Cg=c;this.nh=[];this.Jr=[];this.Jj=[];this.qi=[];this.Ud=[]};r=Td.prototype;r.cn=function(){this.nh=[];this.Jr=[];this.Jj=[];this.qi=[];this.Ud=[]};r.bj=function(a,c,b){this.oE(a,c);this.Cg.Ac(a,this.qi,this.qi.length);this.uE(a);this.qE(a);this.rE(a);this.Ox(this.Cg.oh);b&&this.pE(a)};r.oE=function(a,c){for(var b=0;b<this.Jr.length;b++){var d=this.Jr[b];d.A.x+=
a.Ra*(c.x+d.O*d.ri.x);d.A.y+=a.Ra*(c.y+d.O*d.ri.y);d.H+=a.Ra*d.V*d.jl;d.A.ae(V.Ub(1-a.Ra*d.nH,0,1));d.H*=V.Ub(1-a.Ra*d.bH,0,1)}};r.uE=function(a){this.Cg.Ef(a);for(var c=0;c<this.Ud.length;c++)this.Ud[c].Ef(a);for(c=0;c<a.tp;c++){for(var b=0;b<this.Ud.length;b++)this.Ud[b].jf(a);this.Cg.jf()}for(a=0;a<this.Ud.length;a++)this.Ud[a].Zs();this.Cg.Zs()};r.qE=function(a){for(var c=0;c<this.Jj.length;++c){var b=this.Jj[c],d=a.Ra*b.A.x,e=a.Ra*b.A.y;4<d*d+e*e&&(b.A.be(),b.A.x=2*b.A.x*a.ji,b.A.y=2*b.A.y*a.ji);
d=a.Ra*b.H;d*d>Qc&&(b.H=0>b.H?-Pc*a.ji:Pc*a.ji);b.n.zd.J(b.n.D);b.n.Ff=b.n.R;b.n.D.x+=a.Ra*b.A.x;b.n.D.y+=a.Ra*b.A.y;b.n.R+=a.Ra*b.H;b.$b()}};r.rE=function(a){for(var c=0;c<a.Wo;c++){for(var b=this.Cg.hf(.2),d=!0,e=0;e<this.Ud.length;e++)var g=this.Ud[e].hf(.2),d=d&&g;if(b&&d)break}};r.pE=function(a){for(var c=Number.MAX_VALUE,b=0;b<this.Jj.length;b++){var d=this.Jj[b];!d.Hv||Math.abs(d.H)>Rc||1E-4<V.Zb(d.A,d.A)?c=d.Mo=0:(d.Mo+=a.Ra,c=Math.min(c,d.Mo))}if(.5<=c)for(a=0;a<this.nh.length;a++)this.nh[a].Hd(!1)};
r.Dt=function(a){var c=0,b=0;this.Cg.Ac(a,this.qi,this.qi.length);for(var d=this.Cg,c=0;c<this.Ud.length;++c)this.Ud[c].Ef(a);for(c=0;c<a.tp;++c)for(d.jf(),b=0;b<this.Ud.length;++b)this.Ud[b].jf(a);for(c=0;c<this.Jj.length;++c){var b=this.Jj[c],e=a.Ra*b.A.x,g=a.Ra*b.A.y;4<e*e+g*g&&(b.A.be(),b.A.x=2*b.A.x*a.ji,b.A.y=2*b.A.y*a.ji);e=a.Ra*b.H;e*e>Qc&&(b.H=0>b.H?-Pc*a.ji:Pc*a.ji);b.n.zd.J(b.n.D);b.n.Ff=b.n.R;b.n.D.x+=a.Ra*b.A.x;b.n.D.y+=a.Ra*b.A.y;b.n.R+=a.Ra*b.H;b.$b()}for(c=0;c<a.Wo;++c){e=d.hf(.75);
g=!0;for(b=0;b<this.Ud.length;++b)var f=this.Ud[b].hf(.2),g=g&&f;if(e&&g)break}this.Ox(d.oh)};r.Ox=function(a){if(null!=this.oH)for(var c=0;c<this.qi.length;++c)for(var b=a[c],d=new Od,e=0;e<b.cg;++e)d.EH[e]=b.wc[e].uc,d.tI[e]=b.wc[e].Hh};r.ul=function(a){this.nh.push(a);a.wd()!=W.nf&&(this.Jj.push(a),a.wd()==W.hd&&this.Jr.push(a))};r.wl=function(a){this.qi.push(a)};r.kx=function(a){this.Ud.push(a)};var Ud=function(a,c,b,d,e){this.Ra=a;var g=0;0<a&&(g=1/a);this.ji=g;this.Vc=c;this.Wo=b;this.tp=d;
this.Ti=e},Ic=function(a,c){this.qe=new Qd(this);this.Cg=new Vd;this.Sv=!1;this.yd=new Hd;this.Ae=new Cd;this.Yb=null;this.uk=new Dd;this.Lr=0;this.dH=this.uH=!0;this.Hv=c;this.bA=a;this.cA=0;this.jH=this.Xs(new W)};Ic.NC=1-100*Number.MIN_VALUE;r=Ic.prototype;r.Sx=function(a){this.qe.Jv=a};r.Tx=function(a){this.qe.pi=a};r.Xs=function(a){a=new Fc(a,this);this.yd.ul(a);return a};r.Ep=function(a){for(var c=a.Yb;c;){var b=c,c=c.next;this.Fp(b.mi)}for(c=a.uk.bb();c;c=c.next)c.Ey.rn(a);for(c=a.Ae.bb(Fd);c;c=
c.next)this.qe.Yd(c.kd);for(c=a.bt().bb();c;c=c.next)a.qx(c.Of);a.Yd();this.yd.rn(a)};r.Dp=function(a){var c=Y.Df(a);c.ym=null;if(c.Ij=this.Yb)this.Yb.ym=c;this.Yb=c;this.Lr++;c.te.mi=c;c.te.zf=c.aa;c.te.prev=null;if(c.te.next=c.Z.Yb)c.Z.Yb.prev=c.te;c.Z.Yb=c.te;c.ue.mi=c;c.ue.zf=c.Z;c.ue.prev=null;if(c.ue.next=c.aa.Yb)c.aa.Yb.prev=c.ue;c.aa.Yb=c.ue;var b=a.S,d=a.T;if(!a.Zt)for(a=d.Ae.bb(Fd);a;a=a.next)a.kd.Jp(d)==b&&a.kd.tx();return c};r.Fp=function(a){var c=a.$z;a.ym&&(a.ym.Ij=a.Ij);a.Ij&&(a.Ij.ym=
a.ym);a==this.Yb&&(this.Yb=a.Ij);var b=a.Z,d=a.aa;b.Hd(!0);d.Hd(!0);a.te.prev&&(a.te.prev.next=a.te.next);a.te.next&&(a.te.next.prev=a.te.prev);a.te==b.Yb&&(b.Yb=a.te.next);a.te.prev=null;a.te.next=null;a.ue.prev&&(a.ue.prev.next=a.ue.next);a.ue.next&&(a.ue.next.prev=a.ue.prev);a.ue==d.Yb&&(d.Yb=a.ue.next);a.ue.prev=null;a.ue.next=null;this.Lr--;if(!c)for(a=d.Ae.bb(Fd);a;a=a.next)a.kd.Jp(d)==b&&a.kd.tx()};r.$m=function(a){if(null!==a.ab&&a.ab!=this)throw Error("Controller can only be a member of one world");
this.uk.$m(a);a.ab=this;return a};r.sn=function(a){this.uk.sn(a);a.ab=null;a.cn()};r.Th=function(a,c,b){this.Sv&&(this.qe.Gp(),this.Sv=!1);a=new Ud(a,this.cA*a,c,b,this.uH);this.qe.$B();0<a.Ra&&(this.bj(a),this.dH&&this.Dt(a),this.cA=a.ji)};r.ox=function(){for(var a=this.yd.bb(Id);a;a=a.next)a.body.ri.ta(),a.body.jl=0};r.Xi=function(){return this.Ae};var Wd=[];Ic.prototype.bj=function(a){for(var c=this.uk.bb();c;c=c.next)c.Ey.Th(a);for(var c=new Td(this.qe.pi,this.Cg),b=this.yd.bb(Gd);b;b=b.next)b.body.Tb=
!1;for(var d=this.Ae.bb(Fd);d;d=d.next)d.kd.Tb=!1;for(b=this.Yb;b;b=b.Ij)b.Tb=!1;for(b=this.yd.bb(Kd);b;b=b.next)if(d=b.body,!d.Tb){c.cn();Wd.length=0;var e=Wd;e.push(d);for(d.Tb=!0;0<e.length;){var g=e.pop();c.ul(g);g.Pd()||g.Hd(!0);if(g.wd()!=W.nf){for(d=g.Ae.bb(Xd);d;d=d.next){var f=d.kd;f.Tb||(c.wl(f),f.Tb=!0,f=f.Jp(g),f.Tb||(e.push(f),f.Tb=!0))}for(d=g.Yb;d;d=d.next)!d.mi.Tb&&d.zf.$i()&&(c.kx(d.mi),d.mi.Tb=!0,d.zf.Tb||(e.push(d.zf),d.zf.Tb=!0))}}c.bj(a,this.bA,this.Hv)}for(b=this.yd.bb(Kd);b;b=
b.next)b.body.Yx();this.qe.Gp()};Ic.prototype.Dt=function(a){for(var c=new Td(this.qe.pi,this.Cg),b=this.yd.bb(Gd);b;b=b.next){var d=b.body;d.Tb=!1;d.n.Xd=0}for(var e=this.Ae.bb(Fd);e;e=e.next)e.kd.Tb=!1,e.kd.Cm=null;for(b=this.Yb;b;b=b.Ij)b.Tb=!1;for(;;){var b=this.sE(),g=b.BH,b=b.CH;if(null===g||Ic.NC<b)break;e=g.cc.mb();d=g.Xb.mb();Ic.YA.Set(e.n);Ic.ZA.Set(d.n);e.Wi(b);d.Wi(b);g.Zx(this.qe.pi);g.Cm=null;if(g.vs||!g.enabled)e.n.Set(Ic.YA),d.n.Set(Ic.ZA),e.$b(),d.$b();else if(g.op){e.wd()!=W.hd&&
(e=d);c.cn();Wd.length=0;g=Wd;g.push(e);for(e.Tb=!0;0<g.length;)if(d=g.pop(),c.ul(d),d.Pd()||d.Hd(!0),d.wd()==W.hd){for(e=d.Ae.bb(Xd);e&&32!=c.cH;e=e.next){var f=e.kd;f.Tb||(c.wl(f),f.Tb=!0,f=f.Jp(d),f.Tb||(f.wd()!=W.nf&&(f.Wi(b),f.Hd(!0),g.push(f)),f.Tb=!0))}for(d=d.Yb;d;d=d.next)32!=c.Lr&&!d.mi.Tb&&d.zf.$i()&&(c.kx(d.mi),d.mi.Tb=!0,d.zf.Tb||(d.zf.wd()!=W.nf&&(d.zf.Wi(b),d.zf.Hd(!0),g.push(d.zf)),d.zf.Tb=!0))}c.Dt(new Ud((1-b)*a.Ra,0,a.tp,a.Wo,!1));for(b=0;b<c.nh.length;b++)if(c.nh[b].Tb=!1,c.nh[b].Pd()&&
c.nh[b].wd()==W.hd)for(c.nh[b].Yx(),e=c.nh[b].Ae.bb(Fd);e;e=e.next)e.kd.Cm=null;for(b=0;b<c.cH;b++)c.qi[b].Tb=!1,c.qi[b].Cm=null;for(b=0;b<c.Lr;b++)c.Ud[b].Tb=!1;this.qe.Gp()}}};Ic.prototype.sE=function(){for(var a=null,c=1,b=this.Ae.bb(Yd);b;b=b.next){var d=b.kd;if(!this.tE(d)){var e=1;if(null!=d.Cm)e=d.Cm;else{if(d.op)e=1;else{var e=d.cc.mb(),g=d.Xb.mb(),f=e.n.Xd;e.n.Xd<g.n.Xd?(f=g.n.Xd,e.n.Wi(f)):g.n.Xd<e.n.Xd&&(f=e.n.Xd,g.n.Wi(f));e=d.hC(e.n,g.n);0<e&&1>e&&(e=(1-e)*f+e)}d.Cm=e}Number.MIN_VALUE<
e&&e<c&&(a=d,c=e)}}return{BH:a,CH:c}};Ic.prototype.tE=function(a){var c=a.cc.mb();a=a.Xb.mb();return c.wd()==W.hd&&c.Pd()||a.wd()==W.hd&&a.Pd()?!1:!0};var $d=function(a,c){this.$d="Contact"+Zd++;this.xf=new td;this.Ko=new td;this.op=!1;var b=a.mb(),d=c.mb();this.$t=b.wd()!=W.hd||b.wm||d.wd()!=W.hd||d.wm;this.vs=a.fk()||c.fk();this.Iq=!1;this.cc=a;this.Xb=c;this.enabled=!0;this.Zp=b.Xi();this.$p=d.Xi();this.Us=d.ab.Xi();this.mx()};r=$d.prototype;r.xd=function(a,c){this.xf.xd();this.Ko.xd();this.op=
!1;var b=a.mb(),d=c.mb();this.$t=b.wd()!=W.hd||b.wm||d.wd()!=W.hd||d.wm;this.vs=a.fk()||c.fk();this.Iq=!1;this.cc=a;this.Xb=c;this.enabled=!0;this.Zp=b.Xi();this.$p=d.Xi();this.Us=d.ab.Xi();this.mx()};r.mx=function(){this.Zp.wl(this);this.$p.wl(this);this.Us.wl(this);this.Ht()};r.Ht=function(){var a=!1,c=!1;!this.fk()&&this.gt()&&(this.ht()&&(a=!0),this.$t&&(c=!0));this.Zp.Gt(this,a,c);this.$p.Gt(this,a,c);this.Us.Gt(this,a,c)};r.yD=function(){this.Zp.zt(this);this.$p.zt(this);this.Us.zt(this)};r.ht=
function(){return this.op};r.fk=function(){return this.vs};r.Sh=function(a){this.enabled=a;this.Ht()};r.gt=function(){return this.enabled};r.Jp=function(a){var c=this.cc.mb();return c!=a?c:this.Xb.mb()};r.tx=function(){this.Iq=!0};r.YB=function(){this.Iq=!1};r.Zx=function(a){var c=this.Ko;this.Ko=this.xf;this.xf=c;this.enabled=!0;var b=!1,c=this.ht(),d=this.cc.mb(),e=this.Xb.mb(),g=this.cc.al.zn(this.Xb.al);if(this.vs){if(g){var b=this.cc.fd(),d=d.Le(),g=this.Xb.fd(),f=e.Le(),e=new jd;e.Gi=new ld;
e.Gi.Set(b);e.Hi=new ld;e.Hi.Set(g);e.Ls=d;e.Ms=f;e.HB=!0;d=new zd;d.count=0;b=new kd;id(b,d,e);b=b.ah<10*Number.MIN_VALUE}this.xf.sc=0}else{this.$t=d.wd()!=W.hd||d.wm||e.wd()!=W.hd||e.wm?!0:!1;if(g)for(this.Ug(),b=0<this.xf.sc,g=0;g<this.xf.sc;g++){f=this.xf.ya[g];f.el=0;for(var m=f.il=0;m<this.Ko.sc;m++){var k=this.Ko.ya[m];if(k.Wf.de==f.Wf.de){f.el=k.el;f.il=k.il;break}}}else this.xf.sc=0;b!=c&&(d.Hd(!0),e.Hd(!0))}this.op=b;b!=c&&this.Ht();!c&&b&&a.Ap(this)};r.Ug=function(){};r.hC=function(a,c){ae.Gi.Set(this.cc.fd());
ae.Hi.Set(this.Xb.fd());ae.lB=a;ae.mB=c;ae.yI=.005;var b=ae;be++;var d=b.Gi,e=b.Hi,g=b.lB,f=b.mB,m=d.rb+e.rb,b=b.yI,k=0,h=0,n=0;ce.count=0;for(de.HB=!1;;){g.Le(ee,k);f.Le(fe,k);de.Gi=d;de.Hi=e;de.Ls=ee;de.Ms=fe;id(ge,ce,de);if(0>=ge.ah){k=1;break}he.Ac(ce,d,ee,e,fe);var l=he.Ug(ee,fe);if(0>=l){k=1;break}0==h&&(n=l>m?Math.max(m-b,.75*m):Math.max(l-b,.02*m));if(l-n<.5*b){if(0==h){k=1;break}break}var q=k,p=k,s=1;g.Le(ee,s);f.Le(fe,s);var u=he.Ug(ee,fe);if(u>=n){k=1;break}for(var t=0;;){var z=0,z=t&1?
p+(n-l)*(s-p)/(u-l):.5*(p+s);g.Le(ee,z);f.Le(fe,z);var A=he.Ug(ee,fe);if(Math.abs(A-n)<.025*b){q=z;break}A>n?(p=z,l=A):(s=z,u=A);t++;ie++;if(50==t)break}je=Math.max(je,t);if(q<(1+100*Number.MIN_VALUE)*k)break;k=q;h++;ke++;if(1E3==h)break}le=Math.max(le,h);return k};var ae=new Ad,Zd=0,me=function(a,c){$d.call(this,a,c)};Bc(me,$d);me.prototype.xd=function(a,c){$d.prototype.xd.call(this,a,c)};me.prototype.Ug=function(){var a=this.xf,c=this.cc.fd(),b=this.cc.mb().F,d=this.Xb.fd(),e=this.Xb.mb().F;a.sc=
0;var g=e.position.x+(e.u.k.x*d.Db.x+e.u.m.x*d.Db.y)-(b.position.x+(b.u.k.x*c.Db.x+b.u.m.x*c.Db.y)),b=e.position.y+(e.u.k.y*d.Db.x+e.u.m.y*d.Db.y)-(b.position.y+(b.u.k.y*c.Db.x+b.u.m.y*c.Db.y)),e=c.rb+d.rb;g*g+b*b>e*e||(a.sb=1,a.Ia.J(c.Db),a.Cd.ta(),a.sc=1,a.ya[0].Ia.J(d.Db),a.ya[0].Wf.gk(0))};var oe=function(){this.kh=Q.B(0,0);this.rc=Q.B(0,0);this.Vd=Q.B(0,0);this.Di=new Cc;this.Me=new Cc;this.wc=[];for(var a=0;2>a;a++)this.wc[a]=new ne},ne=function(){this.rc=Q.B(0,0);this.hc=Q.B(0,0);this.ic=Q.B(0,
0)};ne.prototype.xd=function(){this.rc.Set(0,0);this.hc.Set(0,0);this.ic.Set(0,0)};var Pd=function(){this.Eg={};this.si={};this.an(me,Jc.kg,Jc.kg);this.an(pe,X.kg,Jc.kg);this.an(qe,X.kg,X.kg);this.an(re,"b2EdgeShape",Jc.kg);this.an(se,X.kg,"b2EdgeShape")};Pd.prototype.an=function(a,c,b){this.si[c]=this.si[c]||{};this.si[c][b]=this.si[c][b]||[];this.Eg[c]=this.Eg[c]||{};this.Eg[c][b]=new te;this.Eg[c][b].Iy=a;this.Eg[c][b].MA=!0;c!=b&&(this.Eg[b]=this.Eg[b]||{},this.Eg[b][c]=new te,this.Eg[b][c].Iy=
a,this.Eg[b][c].MA=!1)};Pd.prototype.Df=function(a,c){var b=a.fd().ek(),d=c.fd().ek(),e=this.Eg[b][d],g=e.Iy;return null!=g?e.MA?0<this.si[b][d].length?(b=this.si[b][d].pop(),b.xd(a,c),b):new g(a,c):0<this.si[d][b].length?(b=this.si[d][b].pop(),b.xd(c,a),b):new g(c,a):null};Pd.prototype.Yd=function(a){var c=a.cc.fd().ek(),b=a.Xb.fd().ek();this.si[c][b].push(a)};var Cd=function(){this.mq=[];for(var a=0;a<=Fd;a++)this.mq[a]=null;this.nq=[];for(a=0;a<=Fd;a++)this.nq[a]=null;this.tk={}};r=Cd.prototype;
r.bb=function(a){return this.mq[a]};r.wl=function(a){var c=a.$d;if(null==this.tk[c]){this.tk[c]=[];for(var b=0;b<=Fd;b++)this.tk[c][b]=null;this.Tg(a,c,Fd)}};r.Gt=function(a,c,b){c?this.Tg(a,a.$d,Xd):this.Xg(a.$d,Xd);b?this.Tg(a,a.$d,Yd):this.Xg(a.$d,Yd)};r.zt=function(a){a=a.$d;if(null!=this.tk[a]){for(var c=0;c<=Fd;c++)this.Xg(a,c);delete this.tk[a]}};r.Xg=function(a,c){var b=this.tk[a];if(null!=b){var d=b[c];if(null!=d){b[c]=null;var b=d.dg,e=d.next;null==b?this.mq[c]=e:b.mg(e);null==e?this.nq[c]=
b:e.ng(b);ue.push(d)}}};r.Tg=function(a,c,b){c=this.tk[c];if(null==c[b]){if(0<ue.length){var d=ue.pop();d.next=null;d.dg=null;d.kd=a;a=d}else a=new xe(a);c[b]=a;a=this.nq[b];null!=a?(a.mg(c[b]),c[b].ng(a)):this.mq[b]=c[b];this.nq[b]=c[b]}};var Xd=0,Yd=1,Fd=2,xe=function(a){this.kd=a;this.dg=this.next=null},ue=[];xe.prototype.mg=function(a){this.next=a};xe.prototype.ng=function(a){this.dg=a};var te=function(){},ye=function(){this.Ja=Q.B(0,0);this.Qr=[];this.ya=[];for(var a=0;2>a;a++)this.ya[a]=Q.B(0,
0)};ye.prototype.Ac=function(a){switch(a.type){case 1:this.lE(a);break;case 2:this.mE(a);break;case 4:this.nE(a)}};ye.prototype.lE=function(a){var c=a.S.F.u,b=a.rc,d=a.S.F.position.x+(c.k.x*b.x+c.m.x*b.y),e=a.S.F.position.y+(c.k.y*b.x+c.m.y*b.y),c=a.T.F.u,b=a.wc[0].rc,g=a.T.F.position.x+(c.k.x*b.x+c.m.x*b.y),c=a.T.F.position.y+(c.k.y*b.x+c.m.y*b.y),b=g-d,f=c-e,m=b*b+f*f;m>Sc?(m=Math.sqrt(m),this.Ja.x=b/m,this.Ja.y=f/m):(this.Ja.x=1,this.Ja.y=0);this.ya[0].x=.5*(d+g);this.ya[0].y=.5*(e+c);this.Qr[0]=
b*this.Ja.x+f*this.Ja.y-a.hs};ye.prototype.mE=function(a){this.Ja.x=a.S.F.u.k.x*a.kh.x+a.S.F.u.m.x*a.kh.y;this.Ja.y=a.S.F.u.k.y*a.kh.x+a.S.F.u.m.y*a.kh.y;for(var c=a.S.F.position.x+(a.S.F.u.k.x*a.rc.x+a.S.F.u.m.x*a.rc.y),b=a.S.F.position.y+(a.S.F.u.k.y*a.rc.x+a.S.F.u.m.y*a.rc.y),d=0;d<a.cg;d++){var e=a.T.F.position.x+(a.T.F.u.k.x*a.wc[d].rc.x+a.T.F.u.m.x*a.wc[d].rc.y),g=a.T.F.position.y+(a.T.F.u.k.y*a.wc[d].rc.x+a.T.F.u.m.y*a.wc[d].rc.y);this.Qr[d]=(e-c)*this.Ja.x+(g-b)*this.Ja.y-a.hs;this.ya[d].x=
e;this.ya[d].y=g}};ye.prototype.nE=function(a){this.Ja.x=a.T.F.u.k.x*a.kh.x+a.T.F.u.m.x*a.kh.y;this.Ja.y=a.T.F.u.k.y*a.kh.x+a.T.F.u.m.y*a.kh.y;for(var c=a.T.F.position.x+(a.T.F.u.k.x*a.rc.x+a.T.F.u.m.x*a.rc.y),b=a.T.F.position.y+(a.T.F.u.k.y*a.rc.x+a.T.F.u.m.y*a.rc.y),d=0;d<a.cg;d++){var e=a.S.F.position.x+(a.S.F.u.k.x*a.wc[d].rc.x+a.S.F.u.m.x*a.wc[d].rc.y),g=a.S.F.position.y+(a.S.F.u.k.y*a.wc[d].rc.x+a.S.F.u.m.y*a.wc[d].rc.y);this.Qr[d]=(e-c)*this.Ja.x+(g-b)*this.Ja.y-a.hs;this.ya[d].Set(e,g)}this.Ja.x*=
-1;this.Ja.y*=-1};var Vd=function(){this.oh=[]};r=Vd.prototype;r.Ac=function(a,c,b){for(this.Fo=b;this.oh.length<this.Fo;)this.oh[this.oh.length]=new oe;for(a=0;a<b;a++){var d=c[a],e=d.cc,g=d.Xb,f=e.xi.rb,m=g.xi.rb,k=e.mb(),h=g.mb(),n=d.xf,l=Math.sqrt(e.Mv*g.Mv),q,e=e.Tv,g=g.Tv;q=e>g?e:g;var p=k.A.x,s=k.A.y,u=h.A.x,t=h.A.y,z=k.H,A=h.H;ze.Ac(n,k.F,f,h.F,m);e=ze.Ja.x;d=ze.Ja.y;g=this.oh[a];g.S=k;g.T=h;g.vH=n;g.Vd.x=e;g.Vd.y=d;g.cg=n.sc;g.fh=l;g.Dh=q;g.kh.x=n.Cd.x;g.kh.y=n.Cd.y;g.rc.x=n.Ia.x;g.rc.y=
n.Ia.y;g.hs=f+m;g.type=n.sb;for(f=0;f<g.cg;++f){l=n.ya[f];m=g.wc[f];m.uc=l.el;m.Hh=l.il;m.rc.J(l.Ia);l=m.hc.x=ze.ya[f].x-k.n.D.x;q=m.hc.y=ze.ya[f].y-k.n.D.y;var H=m.ic.x=ze.ya[f].x-h.n.D.x,y=m.ic.y=ze.ya[f].y-h.n.D.y,C=l*d-q*e,I=H*d-y*e,C=C*C,I=I*I;m.Di=1/(k.O+h.O+k.V*C+h.V*I);var E=k.Y*k.O+h.Y*h.O,E=E+(k.Y*k.V*C+h.Y*h.V*I);m.xF=1/E;I=d;E=-e;C=l*E-q*I;I=H*E-y*I;C*=C;I*=I;m.uI=1/(k.O+h.O+k.V*C+h.V*I);m.sp=0;l=g.Vd.x*(u+-A*y-p- -z*q)+g.Vd.y*(t+A*H-s-z*l);-1>l&&(m.sp+=-g.Dh*l)}2==g.cg&&(t=g.wc[0],u=
g.wc[1],n=k.O,k=k.V,p=h.O,h=h.V,s=t.hc.x*d-t.hc.y*e,t=t.ic.x*d-t.ic.y*e,z=u.hc.x*d-u.hc.y*e,u=u.ic.x*d-u.ic.y*e,e=n+p+k*s*s+h*t*t,d=n+p+k*z*z+h*u*u,h=n+p+k*s*z+h*t*u,e*e<100*(e*d-h*h)?(g.Me.k.Set(e,h),g.Me.m.Set(h,d),g.Me.ct(g.Di)):g.cg=1)}};r.Ef=function(a){for(var c=0;c<this.Fo;++c){var b=this.oh[c],d=b.S,e=b.T,g=d.O,f=d.V,m=e.O,k=e.V,h=b.Vd.x,n=b.Vd.y,l=n,q=-h,p=0,s=0;if(a.Ti)for(s=b.cg,p=0;p<s;++p){var u=b.wc[p];u.uc*=a.Vc;u.Hh*=a.Vc;var t=u.uc*h+u.Hh*l,z=u.uc*n+u.Hh*q;d.H-=f*(u.hc.x*z-u.hc.y*
t);d.A.x-=g*t;d.A.y-=g*z;e.H+=k*(u.ic.x*z-u.ic.y*t);e.A.x+=m*t;e.A.y+=m*z}else for(s=b.cg,p=0;p<s;++p)d=b.wc[p],d.uc=0,d.Hh=0}};r.jf=function(){for(var a=0;a<this.Fo;a++)this.XD(this.oh[a])};r.XD=function(a){for(var c=a.Vd.x,b=a.Vd.y,d=0;d<a.cg;d++)Vd.prototype.YD(a,a.wc[d]);if(1==a.cg){var d=a.wc[0],e=d.uc-d.Di*((a.T.A.x-a.T.H*d.ic.y-a.S.A.x+a.S.H*d.hc.y)*c+(a.T.A.y+a.T.H*d.ic.x-a.S.A.y-a.S.H*d.hc.x)*b-d.sp),e=0<e?e:0,g=e-d.uc,f=g*c,b=g*b;a.S.A.x-=a.S.O*f;a.S.A.y-=a.S.O*b;a.S.H-=a.S.V*(d.hc.x*b-
d.hc.y*f);a.T.A.x+=a.T.O*f;a.T.A.y+=a.T.O*b;a.T.H+=a.T.V*(d.ic.x*b-d.ic.y*f);d.uc=e}else for(var d=a.wc[0],e=a.wc[1],g=d.uc,f=e.uc,m=(a.T.A.x-a.T.H*d.ic.y-a.S.A.x+a.S.H*d.hc.y)*c+(a.T.A.y+a.T.H*d.ic.x-a.S.A.y-a.S.H*d.hc.x)*b-d.sp,b=(a.T.A.x-a.T.H*e.ic.y-a.S.A.x+a.S.H*e.hc.y)*c+(a.T.A.y+a.T.H*e.ic.x-a.S.A.y-a.S.H*e.hc.x)*b-e.sp,m=m-(a.Me.k.x*g+a.Me.m.x*f),b=b-(a.Me.k.y*g+a.Me.m.y*f);;){c=-(a.Di.k.x*m+a.Di.m.x*b);if(0<=c){var k=-(a.Di.k.y*m+a.Di.m.y*b);if(0<=k){this.Rp(a,d,e,c-g,k-f);d.uc=c;e.uc=k;
break}}c=-d.Di*m;if(0<=c&&0<=a.Me.k.y*c+b){this.Rp(a,d,e,c-g,-f);d.uc=c;e.uc=0;break}c=-e.Di*b;if(0<=c&&0<=a.Me.m.x*c+m){this.Rp(a,d,e,-g,c-f);d.uc=0;e.uc=c;break}if(0<=m&&0<=b){this.Rp(a,d,e,-g,-f);d.uc=0;e.uc=0;break}break}};r.YD=function(a,c){var b=a.Vd.y,d=-a.Vd.x,e=a.fh*c.uc,e=V.Ub(c.Hh-c.uI*((a.T.A.x-a.T.H*c.ic.y-a.S.A.x+a.S.H*c.hc.y)*b+(a.T.A.y+a.T.H*c.ic.x-a.S.A.y-a.S.H*c.hc.x)*d),-e,e),g=e-c.Hh,b=g*b,d=g*d;a.S.A.x-=a.S.O*b;a.S.A.y-=a.S.O*d;a.S.H-=a.S.V*(c.hc.x*d-c.hc.y*b);a.T.A.x+=a.T.O*
b;a.T.A.y+=a.T.O*d;a.T.H+=a.T.V*(c.ic.x*d-c.ic.y*b);c.Hh=e};r.Rp=function(a,c,b,d,e){var g=d*a.Vd.x;d*=a.Vd.y;var f=e*a.Vd.x;e*=a.Vd.y;a.S.A.x-=a.S.O*(g+f);a.S.A.y-=a.S.O*(d+e);a.S.H-=a.S.V*(c.hc.x*d-c.hc.y*g+b.hc.x*e-b.hc.y*f);a.T.A.x+=a.T.O*(g+f);a.T.A.y+=a.T.O*(d+e);a.T.H+=a.T.V*(c.ic.x*d-c.ic.y*g+b.ic.x*e-b.ic.y*f);c.uc=0;b.uc=0};r.Zs=function(){for(var a=0;a<this.Fo;++a)for(var c=this.oh[a],b=c.vH,d=0;d<c.cg;++d){var e=b.ya[d],g=c.wc[d];e.el=g.uc;e.il=g.Hh}};r.hf=function(a){void 0===a&&(a=0);
for(var c=0,b=0;b<this.Fo;b++){var d=this.oh[b],e=d.S,g=d.T,f=e.Y*e.O,m=e.Y*e.V,k=g.Y*g.O,h=g.Y*g.V;Ae.Ac(d);for(var n=Ae.Ja,l=0;l<d.cg;l++){var q=d.wc[l],p=Ae.ya[l],s=Ae.Qr[l],u=p.x-e.n.D.x,t=p.y-e.n.D.y,z=p.x-g.n.D.x,p=p.y-g.n.D.y,c=c<s?c:s,s=-q.xF*V.Ub(a*(s+.005),-.2,0),q=s*n.x,s=s*n.y;e.n.D.x-=f*q;e.n.D.y-=f*s;e.n.R-=m*(u*s-t*q);e.$b();g.n.D.x+=k*q;g.n.D.y+=k*s;g.n.R+=h*(z*s-p*q);g.$b()}}return-.0075<c};var re=function(a,c){$d.call(this,a,c)};Bc(re,$d);re.prototype.xd=function(a,c){$d.prototype.xd.call(this,
a,c)};re.prototype.Ug=function(){this.cc.fd();this.Xb.fd()};var pe=function(a,c){$d.call(this,a,c)};Bc(pe,$d);pe.prototype.xd=function(a,c){$d.prototype.xd.call(this,a,c)};pe.prototype.Ug=function(){a:{var a=this.xf,c=this.cc.fd(),b=this.cc.mb().F,d=this.Xb.fd(),e=this.Xb.mb().F;a.sc=0;for(var g=e.position.x+(e.u.k.x*d.Db.x+e.u.m.x*d.Db.y)-b.position.x,f=e.position.y+(e.u.k.y*d.Db.x+e.u.m.y*d.Db.y)-b.position.y,e=g*b.u.k.x+f*b.u.k.y,b=g*b.u.m.x+f*b.u.m.y,g=0,f=-Number.MAX_VALUE,m=c.rb+d.rb,k=0;k<
c.gb;++k){var h=c.Ka[k].x*(e-c.P[k].x)+c.Ka[k].y*(b-c.P[k].y);if(h>m)break a;h>f&&(f=h,g=k)}h=g+1;h>=c.gb&&(h=0);var k=c.P[g],n=c.P[h];f<Number.MIN_VALUE?(a.sc=1,a.sb=2,a.Cd.J(c.Ka[g]),a.Ia.x=.5*(k.x+n.x),a.Ia.y=.5*(k.y+n.y),a.ya[0].Ia.J(d.Db),a.ya[0].Wf.gk(0)):0>=(e-k.x)*(n.x-k.x)+(b-k.y)*(n.y-k.y)?(e-k.x)*(e-k.x)+(b-k.y)*(b-k.y)>m*m||(a.sc=1,a.sb=2,a.Cd.x=e-k.x,a.Cd.y=b-k.y,a.Cd.be(),a.Ia.J(k),a.ya[0].Ia.J(d.Db),a.ya[0].Wf.gk(0)):0>=(e-n.x)*(k.x-n.x)+(b-n.y)*(k.y-n.y)?(e-n.x)*(e-n.x)+(b-n.y)*(b-
n.y)>m*m||(a.sc=1,a.sb=2,a.Cd.x=e-n.x,a.Cd.y=b-n.y,a.Cd.be(),a.Ia.J(n),a.ya[0].Ia.J(d.Db),a.ya[0].Wf.gk(0)):(h=.5*(k.x+n.x),k=.5*(k.y+n.y),f=(e-h)*c.Ka[g].x+(b-k)*c.Ka[g].y,f>m||(a.sc=1,a.sb=2,a.Cd.x=c.Ka[g].x,a.Cd.y=c.Ka[g].y,a.Cd.be(),a.Ia.Set(h,k),a.ya[0].Ia.J(d.Db),a.ya[0].Wf.gk(0)))}};var se=function(a,c){$d.call(this,a,c)};Bc(se,$d);se.prototype.xd=function(a,c){$d.prototype.xd.call(this,a,c)};se.prototype.Ug=function(){this.cc.fd();this.Xb.fd()};var qe=function(a,c){$d.call(this,a,c)};Bc(qe,
$d);qe.prototype.xd=function(a,c){$d.prototype.xd.call(this,a,c)};qe.prototype.Ug=function(){var a=this.xf,c=this.cc.fd(),b=this.cc.mb().F,d=this.Xb.fd(),e=this.Xb.mb().F;a.sc=0;var g=c.rb+d.rb,f=gd(c,b,d,e),m=f.qy;if(!(f.ws>g)){var k=gd(d,e,c,b);if(!(k.ws>g)){var h=c,n=d,l=b,q=e,p=0;a.sb=2;k.ws>.98*f.ws+.001&&(h=d,n=c,l=e,q=b,m=k.qy,a.sb=4,p=1);c=m;b=q;d=Be;void 0===c&&(c=0);for(var e=l.u.k.x*h.Ka[c].x+l.u.m.x*h.Ka[c].y,f=l.u.k.y*h.Ka[c].x+l.u.m.y*h.Ka[c].y,k=b.u.k.x*e+b.u.k.y*f,f=b.u.m.x*e+b.u.m.y*
f,e=k,k=0,s=Number.MAX_VALUE,u=0;u<n.gb;u++){var t=e*n.Ka[u].x+f*n.Ka[u].y;t<s&&(s=t,k=u)}e=k+1;e>=n.gb&&(e=0);d[0].Cf.x=b.position.x+(b.u.k.x*n.P[k].x+b.u.m.x*n.P[k].y);d[0].Cf.y=b.position.y+(b.u.k.y*n.P[k].x+b.u.m.y*n.P[k].y);d[0].id.Wx(c);d[0].id.Ux(k);d[0].id.Vx(0);d[1].Cf.x=b.position.x+(b.u.k.x*n.P[e].x+b.u.m.x*n.P[e].y);d[1].Cf.y=b.position.y+(b.u.k.y*n.P[e].x+b.u.m.y*n.P[e].y);d[1].id.Wx(c);d[1].id.Ux(e);d[1].id.Vx(1);c=h.P[m];m=m+1<h.gb?h.P[m+1]:h.P[0];Ce.Set(m.x-c.x,m.y-c.y);Ce.be();De.x=
Ce.y;De.y=-Ce.x;Ee.Set(.5*(c.x+m.x),.5*(c.y+m.y));Fe.x=l.u.k.x*Ce.x+l.u.m.x*Ce.y;Fe.y=l.u.k.y*Ce.x+l.u.m.y*Ce.y;Ge.x=-Fe.x;Ge.y=-Fe.y;He.x=Fe.y;He.y=-Fe.x;Ie.x=l.position.x+(l.u.k.x*c.x+l.u.m.x*c.y);Ie.y=l.position.y+(l.u.k.y*c.x+l.u.m.y*c.y);Je.x=l.position.x+(l.u.k.x*m.x+l.u.m.x*m.y);Je.y=l.position.y+(l.u.k.y*m.x+l.u.m.y*m.y);if(!(2>ed(Ke,Be,Ge,-Fe.x*Ie.x-Fe.y*Ie.y+g)||2>ed(Le,Ke,Fe,Fe.x*Je.x+Fe.y*Je.y+g))){a.Cd.J(De);a.Ia.J(Ee);l=He.x*Ie.x+He.y*Ie.y;for(h=m=0;2>h;++h)He.x*Le[h].Cf.x+He.y*Le[h].Cf.y-
l<=g&&(c=Le[h].Cf.x-q.position.x,n=Le[h].Cf.y-q.position.y,a.ya[m].Ia.x=c*q.u.k.x+n*q.u.k.y,a.ya[m].Ia.y=c*q.u.m.x+n*q.u.m.y,a.ya[m].Wf.Set(Le[h].id),a.ya[m].Wf.GD(p),m++);a.sc=m}}}};var Ne=function(){this.$d="Controller"+Me++;this.ab=null;this.yd=new Hd};Ne.prototype.Th=function(){};Ne.prototype.ul=function(a){this.yd.ul(a);a.$m(this)};Ne.prototype.rn=function(a){this.yd.rn(a);a.sn(this)};Ne.prototype.cn=function(){for(var a=this.yd.bb(Gd);a;a=a.next)this.rn(a.body)};var Me=0,Oe=function(){Ne.call(this);
this.Vd=Q.B(0,-1);this.ug=this.offset=0;this.JB=Q.B(0,0);this.ZG=2;this.zE=1;this.EI=!0;this.ez=null};Bc(Oe,Ne);Oe.prototype.Th=function(){this.EI&&(this.ez=this.ab.bA.Rc());for(var a=this.yd.bb(Ld);a;a=a.next){for(var c=a.body,b=Q.B(0,0),d=Q.B(0,0),e=0,g=0,f=c.bt().bb();f;f=f.next){var m=Q.B(0,0),k=f.Of.fd().Cp(this.Vd,this.offset,c.Le(),m),e=e+k;b.x+=k*m.x;b.y+=k*m.y;var h=0,h=1,g=g+k*h;d.x+=k*m.x*h;d.y+=k*m.y*h}e<Number.MIN_VALUE||(b.x/=e,b.y/=e,d.x/=g,d.y/=g,g=this.ez.Yi(),g.ae(this.ug*e),c.Sg(g,
d),g=c.qC(b),g.Et(this.JB),g.ae(-this.ZG*e),c.Sg(g,b),c.zp(-c.Uf/c.Bl()*e*c.Hp()*this.zE),Q.zc(b),Q.zc(d))}};var Pe=function(){Ne.call(this);this.jx=Q.B(0,0)};Bc(Pe,Ne);Pe.prototype.Th=function(a){a=Q.B(this.jx.x*a.Ra,this.jx.y*a.Ra);for(var c=this.yd.bb(Ld);c;c=c.next){var b=c.body,d=b.ck();b.hk(Q.B(d.x+a.x,d.y+a.y))}Q.zc(a)};var Qe=function(){Ne.call(this);this.mC=Q.B(0,0)};Bc(Qe,Ne);Qe.prototype.Th=function(){for(var a=this.yd.bb(Ld);a;a=a.next){var c=a.body;c.Sg(this.mC,c.Cl())}};var Dd=function(){this.bu=
this.au=null;this.oq={}};Dd.prototype.bb=function(){return this.au};Dd.prototype.$m=function(a){var c=a.$d;if(null==this.oq[c]){a=new Re(a);var b=this.bu;null!=b?b.mg(a):this.au=a;a.ng(b);this.bu=a;this.oq[c]=a}};Dd.prototype.sn=function(a){a=a.$d;var c=this.oq[a];if(null!=c){var b=c.dg,c=c.next;null==b?this.au=c:b.mg(c);null==c?this.bu=b:c.ng(b);delete this.oq[a]}};var Re=function(a){this.Ey=a;this.dg=this.next=null};Re.prototype.mg=function(a){this.next=a};Re.prototype.ng=function(a){this.dg=a};
var Se=function(){Ne.call(this);this.ux=1;this.NG=!0};Bc(Se,Ne);Se.prototype.Th=function(){var a=null,c=null,b=0,d=null,e=null,g=0,f=0,m=0,g=null;if(this.NG)for(var k=this.yd.bb(Gd);k;k=k.next)for(var a=k.body,c=a.Cl(),b=a.Bl(),h=this.yd.bb(Gd);h;h=h.next){if(d=h.body,a.Pd()||d.Pd())e=d.Cl(),g=e.x-c.x,f=e.y-c.y,m=g*g+f*f,m<Number.MIN_VALUE||(g=Q.B(g,f),g.ae(this.ux/m/Math.sqrt(m)*b*d.Bl()),a.Pd()&&a.Sg(g,c),g.ae(-1),d.Pd()&&d.Sg(g,e),Q.zc(g))}else for(k=this.yd.bb(Gd);k;k=k.next)for(a=bodyNode.body,
c=a.Cl(),b=a.Bl(),h=this.yd.bb(Gd);h;h=h.next)if(d=bodyNode.body,a.Pd()||d.Pd())e=d.Cl(),g=e.x-c.x,f=e.y-c.y,m=g*g+f*f,m<Number.MIN_VALUE||(g=Q.B(g,f),g.ae(this.ux/m*b*d.Bl()),a.Pd()&&a.Sg(g,c),g.ae(-1),d.Pd()&&d.Sg(g,e),Q.zc(g))};var Te=function(){Ne.call(this);this.eE=new Cc;this.Yv=0};Bc(Te,Ne);Te.prototype.Th=function(a){a=a.Ra;if(!(a<=Number.MIN_VALUE)){a>this.Yv&&0<this.Yv&&(a=this.Yv);for(var c=this.yd.bb(Ld);c;c=c.next){var b=c.body,d=b.et(V.pc(this.eE,b.dt(b.ck())));b.hk(Q.B(b.ck().x+d.x*
a,b.ck().y+d.y*a))}}};var Y=function(a){this.te=new Ue;this.ue=new Ue;this.rh=Q.B(0,0);this.sh=Q.B(0,0);this.sb=a.type;this.Ij=this.ym=null;this.Z=a.S;this.aa=a.T;this.$z=a.Zt};Y.prototype.wd=function(){return this.sb};Y.prototype.jn=function(){return this.Z};Y.prototype.$s=function(){return this.aa};Y.prototype.$i=function(){return this.Z.$i()&&this.aa.$i()};Y.Df=function(a){return a.Df()};Y.prototype.Ef=function(){};Y.prototype.jf=function(){};Y.prototype.Zs=function(){};Y.prototype.hf=function(){return!1};
Y.rF=0;Y.Pl=1;Y.pF=2;Y.ju=3;Y.qF=4;Y.LJ=5;Y.nF=6;Y.oF=7;Y.sF=8;Y.mF=9;Y.he=0;Y.bh=1;Y.Ad=2;Y.oj=3;var Ve=function(){this.type=Y.rF;this.T=this.S=null;this.Zt=!1},Ue=function(){},We=function(a){Y.call(this,a);this.qa=Q.B(0,0);this.ra=Q.B(0,0);this.cd=Q.B(0,0);this.qa.J(a.Rb);this.ra.J(a.Sb);this.Nv=a.length;this.Lv=a.Pq;this.eH=a.xq;this.Zz=this.dl=this.G=0};Bc(We,Y);We.prototype.Ef=function(a){var c,b=0,d=this.Z,e=this.aa;c=d.F.u;var g=this.qa.x-d.n.U.x,f=this.qa.y-d.n.U.y,b=c.k.x*g+c.m.x*f,f=c.k.y*
g+c.m.y*f,g=b;c=e.F.u;var m=this.ra.x-e.n.U.x,k=this.ra.y-e.n.U.y,b=c.k.x*m+c.m.x*k,k=c.k.y*m+c.m.y*k,m=b;this.cd.x=e.n.D.x+m-d.n.D.x-g;this.cd.y=e.n.D.y+k-d.n.D.y-f;b=Math.sqrt(this.cd.x*this.cd.x+this.cd.y*this.cd.y);.005<b?this.cd.ae(1/b):this.cd.ta();c=g*this.cd.y-f*this.cd.x;var h=m*this.cd.y-k*this.cd.x;c=d.O+d.V*c*c+e.O+e.V*h*h;this.Y=0!=c?1/c:0;if(0<this.Lv){var b=b-this.Nv,h=2*Math.PI*this.Lv,n=this.Y*h*h;this.dl=a.Ra*(2*this.Y*this.eH*h+a.Ra*n);this.dl=0!=this.dl?1/this.dl:0;this.Zz=b*a.Ra*
n*this.dl;this.Y=c+this.dl;this.Y=0!=this.Y?1/this.Y:0}a.Ti?(this.G*=a.Vc,a=this.G*this.cd.x,c=this.G*this.cd.y,d.A.x-=d.O*a,d.A.y-=d.O*c,d.H-=d.V*(g*c-f*a),e.A.x+=e.O*a,e.A.y+=e.O*c,e.H+=e.V*(m*c-k*a)):this.G=0};We.prototype.jf=function(){var a=this.qa.x-this.Z.n.U.x,c=this.qa.y-this.Z.n.U.y,b=this.Z.F.u.k.x*a+this.Z.F.u.m.x*c,c=this.Z.F.u.k.y*a+this.Z.F.u.m.y*c,a=b,d=this.ra.x-this.aa.n.U.x,e=this.ra.y-this.aa.n.U.y,b=this.aa.F.u.k.x*d+this.aa.F.u.m.x*e,e=this.aa.F.u.k.y*d+this.aa.F.u.m.y*e,d=b,
g=-this.Y*(this.cd.x*(this.aa.A.x-this.aa.H*e-(this.Z.A.x-this.Z.H*c))+this.cd.y*(this.aa.A.y+this.aa.H*d-(this.Z.A.y+this.Z.H*a))+this.Zz+this.dl*this.G);this.G+=g;b=g*this.cd.x;g*=this.cd.y;this.Z.A.x-=this.Z.O*b;this.Z.A.y-=this.Z.O*g;this.Z.H-=this.Z.V*(a*g-c*b);this.aa.A.x+=this.aa.O*b;this.aa.A.y+=this.aa.O*g;this.aa.H+=this.aa.V*(d*g-e*b)};We.prototype.hf=function(){if(0<this.Lv)return!0;var a=this.qa.x-this.Z.n.U.x,c=this.qa.y-this.Z.n.U.y,b=this.Z.F.u.k.x*a+this.Z.F.u.m.x*c,c=this.Z.F.u.k.y*
a+this.Z.F.u.m.y*c,a=b,d=this.ra.x-this.aa.n.U.x,e=this.ra.y-this.aa.n.U.y,b=this.aa.F.u.k.x*d+this.aa.F.u.m.x*e,e=this.aa.F.u.k.y*d+this.aa.F.u.m.y*e,d=b,g=this.aa.n.D.x+d-this.Z.n.D.x-a,f=this.aa.n.D.y+e-this.Z.n.D.y-c,m=Math.sqrt(g*g+f*f),b=V.Ub(m-this.Nv,-.2,.2),k=-this.Y*b;this.cd.Set(g/m,f/m);g=k*this.cd.x;k*=this.cd.y;this.Z.n.D.x-=this.Z.O*g;this.Z.n.D.y-=this.Z.O*k;this.Z.n.R-=this.Z.V*(a*k-c*g);this.aa.n.D.x+=this.aa.O*g;this.aa.n.D.y+=this.aa.O*k;this.aa.n.R+=this.aa.V*(d*k-e*g);this.Z.$b();
this.aa.$b();return.005>Math.abs(b)};var Lc=function(){Ve.call(this);this.Rb=Q.B(0,0);this.Sb=Q.B(0,0);this.type=Y.ju;this.length=1;this.xq=this.Pq=0};Bc(Lc,Ve);Lc.prototype.Ac=function(a,c,b,d){this.S=a;this.T=c;this.Rb.J(this.S.Od(b));this.Sb.J(this.T.Od(d));a=d.x-b.x;b=d.y-b.y;this.length=Math.sqrt(a*a+b*b);this.xq=this.Pq=0};Lc.prototype.Df=function(){return new We(this)};var Xe=function(a){Y.call(this,a);this.uf=Q.B(0,0);this.vf=Q.B(0,0);this.Qv=new Cc;this.tf=Q.B(0,0);this.uf.J(a.Rb);this.vf.J(a.Sb);
this.Qv.ta();this.Do=0;this.tf.ta();this.oi=0;this.pH=a.xH;this.rH=a.yH};Bc(Xe,Y);Xe.prototype.Ef=function(a){var c,b=0,d=this.Z,e=this.aa;c=d.F.u;var g=this.uf.x-d.n.U.x,f=this.uf.y-d.n.U.y,b=c.k.x*g+c.m.x*f,f=c.k.y*g+c.m.y*f,g=b;c=e.F.u;var m=this.vf.x-e.n.U.x,k=this.vf.y-e.n.U.y,b=c.k.x*m+c.m.x*k,k=c.k.y*m+c.m.y*k,m=b;c=d.O;var b=e.O,h=d.V,n=e.V,l=new Cc;l.k.x=c+b;l.m.x=0;l.k.y=0;l.m.y=c+b;l.k.x+=h*f*f;l.m.x+=-h*g*f;l.k.y+=-h*g*f;l.m.y+=h*g*g;l.k.x+=n*k*k;l.m.x+=-n*m*k;l.k.y+=-n*m*k;l.m.y+=n*m*
m;l.ct(this.Qv);this.Do=h+n;0<this.Do&&(this.Do=1/this.Do);a.Ti?(this.tf.x*=a.Vc,this.tf.y*=a.Vc,this.oi*=a.Vc,a=this.tf,d.A.x-=c*a.x,d.A.y-=c*a.y,d.H-=h*(g*a.y-f*a.x+this.oi),e.A.x+=b*a.x,e.A.y+=b*a.y,e.H+=n*(m*a.y-k*a.x+this.oi)):(this.tf.ta(),this.oi=0)};Xe.prototype.jf=function(a){var c,b=0,d=this.Z,e=this.aa,g=d.A,f=d.H,m=e.A,k=e.H,h=d.O,n=e.O,l=d.V,q=e.V;c=d.F.u;var p=this.uf.x-d.n.U.x,s=this.uf.y-d.n.U.y,b=c.k.x*p+c.m.x*s,s=c.k.y*p+c.m.y*s,p=b;c=e.F.u;var u=this.vf.x-e.n.U.x,t=this.vf.y-e.n.U.y,
b=c.k.x*u+c.m.x*t,t=c.k.y*u+c.m.y*t,u=b;c=0;var b=-this.Do*(k-f),z=this.oi;c=a.Ra*this.rH;this.oi=V.Ub(this.oi+b,-c,c);b=this.oi-z;f-=l*b;k+=q*b;c=V.pc(this.Qv,Q.B(-(m.x-k*t-g.x+f*s),-(m.y+k*u-g.y-f*p)));b=this.tf.Rc();this.tf.Oh(c);c=a.Ra*this.pH;this.tf.Np()>c*c&&(this.tf.be(),this.tf.ae(c));c=V.Qb(this.tf,b);g.x-=h*c.x;g.y-=h*c.y;f-=l*(p*c.y-s*c.x);m.x+=n*c.x;m.y+=n*c.y;k+=q*(u*c.y-t*c.x);d.H=f;e.H=k};Xe.prototype.hf=function(){return!0};var Ye=function(){Ve.call(this);this.Rb=Q.B(0,0);this.Sb=
Q.B(0,0);this.type=Y.mF;this.yH=this.xH=0};Bc(Ye,Ve);Ye.prototype.Ac=function(a,c,b){this.S=a;this.T=c;this.Rb.J(this.S.Od(b));this.Sb.J(this.T.Od(b))};Ye.prototype.Df=function(){return new Xe(this)};var $e=function(a){Y.call(this,a);this.ti=Q.B(0,0);this.vi=Q.B(0,0);this.qa=Q.B(0,0);this.ra=Q.B(0,0);this.Wb=new Ze;var c=a.km.sb,b=a.lm.sb;this.Am=this.hl=this.zm=this.gl=null;var d=0,e=0;this.hH=a.km.jn();this.Z=a.km.$s();c==Y.Pl?(this.gl=a.km,this.ti.J(this.gl.qa),this.qa.J(this.gl.ra),d=this.gl.Ip()):
(this.zm=a.km,this.ti.J(this.zm.qa),this.qa.J(this.zm.ra),d=this.zm.ln());this.iH=a.lm.jn();this.aa=a.lm.$s();b==Y.Pl?(this.hl=a.lm,this.vi.J(this.hl.qa),this.ra.J(this.hl.ra),e=this.hl.Ip()):(this.Am=a.lm,this.vi.J(this.Am.qa),this.ra.J(this.Am.ra),e=this.Am.ln());this.gc=a.df;this.xm=d+this.gc*e;this.G=0};Bc($e,Y);$e.prototype.Ef=function(a){var c=this.hH,b=this.iH,d=this.Z,e=this.aa,g=0,f=0,m=0,k=0,h=m=0,n=0;this.Wb.ta();this.gl?(this.Wb.jk=-1,n+=d.V):(c=c.F.u,f=this.zm.Ce,g=c.k.x*f.x+c.m.x*f.y,
f=c.k.y*f.x+c.m.y*f.y,c=d.F.u,m=this.qa.x-d.n.U.x,k=this.qa.y-d.n.U.y,h=c.k.x*m+c.m.x*k,k=c.k.y*m+c.m.y*k,m=h*f-k*g,this.Wb.Ag.Set(-g,-f),this.Wb.jk=-m,n+=d.O+d.V*m*m);this.hl?(this.Wb.kk=-this.gc,n+=this.gc*this.gc*e.V):(c=b.F.u,f=this.Am.Ce,g=c.k.x*f.x+c.m.x*f.y,f=c.k.y*f.x+c.m.y*f.y,c=e.F.u,m=this.ra.x-e.n.U.x,k=this.ra.y-e.n.U.y,h=c.k.x*m+c.m.x*k,k=c.k.y*m+c.m.y*k,m=h*f-k*g,this.Wb.Bg.Set(-this.gc*g,-this.gc*f),this.Wb.kk=-this.gc*m,n+=this.gc*this.gc*(e.O+e.V*m*m));this.Y=0<n?1/n:0;a.Ti?(d.A.x+=
d.O*this.G*this.Wb.Ag.x,d.A.y+=d.O*this.G*this.Wb.Ag.y,d.H+=d.V*this.G*this.Wb.jk,e.A.x+=e.O*this.G*this.Wb.Bg.x,e.A.y+=e.O*this.G*this.Wb.Bg.y,e.H+=e.V*this.G*this.Wb.kk):this.G=0};$e.prototype.jf=function(){var a=this.Z,c=this.aa,b=-this.Y*this.Wb.fC(a.A,a.H,c.A,c.H);this.G+=b;a.A.x+=a.O*b*this.Wb.Ag.x;a.A.y+=a.O*b*this.Wb.Ag.y;a.H+=a.V*b*this.Wb.jk;c.A.x+=c.O*b*this.Wb.Bg.x;c.A.y+=c.O*b*this.Wb.Bg.y;c.H+=c.V*b*this.Wb.kk};$e.prototype.hf=function(){var a=this.Z,c=this.aa,b=0,d=0,b=this.gl?this.gl.Ip():
this.zm.ln(),d=this.hl?this.hl.Ip():this.Am.ln(),b=-this.Y*(this.xm-(b+this.gc*d));a.n.D.x+=a.O*b*this.Wb.Ag.x;a.n.D.y+=a.O*b*this.Wb.Ag.y;a.n.R+=a.V*b*this.Wb.jk;c.n.D.x+=c.O*b*this.Wb.Bg.x;c.n.D.y+=c.O*b*this.Wb.Bg.y;c.n.R+=c.V*b*this.Wb.kk;a.$b();c.$b();return!0};var af=function(){Ve.call(this);this.type=Y.nF;this.lm=this.km=null;this.df=1};Bc(af,Ve);af.prototype.Ac=function(a,c,b){this.km=a;this.S=a.jn();this.lm=c;this.T=c.jn();this.df=b};af.prototype.Df=function(){return new $e(this)};var Ze=
function(){this.Ag=Q.B(0,0);this.Bg=Q.B(0,0)};Ze.prototype.ta=function(){this.Ag.ta();this.jk=0;this.Bg.ta();this.kk=0};Ze.prototype.Set=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.Ag.J(a);this.jk=c;this.Bg.J(b);this.kk=d};Ze.prototype.fC=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);return this.Ag.x*a.x+this.Ag.y*a.y+this.jk*c+(this.Bg.x*b.x+this.Bg.y*b.y)+this.kk*d};var bf=function(a){Y.call(this,a);this.qa=Q.B(0,0);this.ra=Q.B(0,0);this.Ce=Q.B(0,0);this.wi=Q.B(0,0);this.X=
Q.B(0,0);this.ua=Q.B(0,0);this.na=new Cc;this.G=Q.B(0,0);this.qa.J(a.Rb);this.ra.J(a.Sb);this.Ce.J(a.Zk);this.wi.x=-this.Ce.y;this.wi.y=this.Ce.x;this.G.ta();this.fb=this.ve=0;this.wf=a.Gv;this.yf=a.Yw;this.Rv=a.Xv;this.Jo=a.Gm;this.Dg=a.yk;this.Hj=a.Ql;this.Oa=Y.he;this.X.ta();this.ua.ta()};Bc(bf,Y);bf.prototype.ln=function(){var a=this.Z,c=this.aa,b=a.Lp(this.qa),d=c.Lp(this.ra),c=d.x-b.x,b=d.y-b.y,a=a.et(this.Ce);return a.x*c+a.y*b};bf.prototype.Ef=function(a){var c=this.Z,b=this.aa,d,e=0;this.rh.J(c.dk());
this.sh.J(b.dk());var g=c.Le();b.Le();d=c.F.u;var f=this.qa.x-this.rh.x,m=this.qa.y-this.rh.y,e=d.k.x*f+d.m.x*m,m=d.k.y*f+d.m.y*m,f=e;d=b.F.u;var k=this.ra.x-this.sh.x,h=this.ra.y-this.sh.y,e=d.k.x*k+d.m.x*h,h=d.k.y*k+d.m.y*h,k=e;d=b.n.D.x+k-c.n.D.x-f;e=b.n.D.y+h-c.n.D.y-m;this.ec=c.O;this.fc=b.O;this.Sd=c.V;this.Td=b.V;this.X.J(V.pc(g.u,this.Ce));this.tb=(d+f)*this.X.y-(e+m)*this.X.x;this.ub=k*this.X.y-h*this.X.x;this.ve=this.ec+this.fc+this.Sd*this.tb*this.tb+this.Td*this.ub*this.ub;this.ve=this.ve>
Number.MIN_VALUE?1/this.ve:0;this.ua.J(V.pc(g.u,this.wi));this.zb=(d+f)*this.ua.y-(e+m)*this.ua.x;this.Ab=k*this.ua.y-h*this.ua.x;g=this.ec;f=this.fc;m=this.Sd;k=this.Td;this.na.k.x=g+f+m*this.zb*this.zb+k*this.Ab*this.Ab;this.na.k.y=m*this.zb*this.tb+k*this.Ab*this.ub;this.na.m.x=this.na.k.y;this.na.m.y=g+f+m*this.tb*this.tb+k*this.ub*this.ub;this.Dg?(d=this.X.x*d+this.X.y*e,.01>Math.abs(this.yf-this.wf)?this.Oa=Y.oj:d<=this.wf?this.Oa!=Y.bh&&(this.Oa=Y.bh,this.G.y=0):d>=this.yf?this.Oa!=Y.Ad&&(this.Oa=
Y.Ad,this.G.y=0):(this.Oa=Y.he,this.G.y=0)):this.Oa=Y.he;0==this.Hj&&(this.fb=0);a.Ti?(this.G.x*=a.Vc,this.G.y*=a.Vc,this.fb*=a.Vc,a=this.G.x*this.ua.x+(this.fb+this.G.y)*this.X.x,d=this.G.x*this.ua.y+(this.fb+this.G.y)*this.X.y,e=this.G.x*this.zb+(this.fb+this.G.y)*this.tb,g=this.G.x*this.Ab+(this.fb+this.G.y)*this.ub,c.A.x-=this.ec*a,c.A.y-=this.ec*d,c.H-=this.Sd*e,b.A.x+=this.fc*a,b.A.y+=this.fc*d,b.H+=this.Td*g):(this.G.ta(),this.fb=0)};bf.prototype.jf=function(a){var c=this.Z,b=this.aa,d=c.A,
e=c.H,g=b.A,f=b.H,m=0,k=0,h=0,n=0;this.Hj&&this.Oa!=Y.oj&&(n=this.ve*(this.Jo-(this.X.x*(g.x-d.x)+this.X.y*(g.y-d.y)+this.ub*f-this.tb*e)),m=this.fb,k=a.Ra*this.Rv,this.fb=V.Ub(this.fb+n,-k,k),n=this.fb-m,m=n*this.X.x,k=n*this.X.y,h=n*this.tb,n*=this.ub,d.x-=this.ec*m,d.y-=this.ec*k,e-=this.Sd*h,g.x+=this.fc*m,g.y+=this.fc*k,f+=this.Td*n);k=this.ua.x*(g.x-d.x)+this.ua.y*(g.y-d.y)+this.Ab*f-this.zb*e;this.Dg&&this.Oa!=Y.he?(h=this.X.x*(g.x-d.x)+this.X.y*(g.y-d.y)+this.ub*f-this.tb*e,m=this.G.Rc(),
a=this.na.bj(Q.B(0,0),-k,-h),this.G.Oh(a),this.Oa==Y.bh?this.G.y=Math.max(this.G.y,0):this.Oa==Y.Ad&&(this.G.y=Math.min(this.G.y,0)),k=-k-(this.G.y-m.y)*this.na.m.x,h=0,h=0!=this.na.k.x?k/this.na.k.x+m.x:m.x,this.G.x=h,a.x=this.G.x-m.x,a.y=this.G.y-m.y,m=a.x*this.ua.x+a.y*this.X.x,k=a.x*this.ua.y+a.y*this.X.y,h=a.x*this.zb+a.y*this.tb,n=a.x*this.Ab+a.y*this.ub):(a=0,a=0!=this.na.k.x?-k/this.na.k.x:0,this.G.x+=a,m=a*this.ua.x,k=a*this.ua.y,h=a*this.zb,n=a*this.Ab);d.x-=this.ec*m;d.y-=this.ec*k;e-=
this.Sd*h;g.x+=this.fc*m;g.y+=this.fc*k;f+=this.Td*n;c.A.J(d);c.H=e;b.A.J(g);b.H=f};bf.prototype.hf=function(){var a=this.Z,c=this.aa,b=a.n.D,d=a.n.R,e=c.n.D,g=c.n.R,f,m=0,k=0,h=0,n=0,l=f=0,q=0,k=!1,p=0,s=Cc.Al(d),h=Cc.Al(g);f=s;var q=this.qa.x-this.rh.x,u=this.qa.y-this.rh.y,m=f.k.x*q+f.m.x*u,u=f.k.y*q+f.m.y*u,q=m;f=h;h=this.ra.x-this.sh.x;n=this.ra.y-this.sh.y;m=f.k.x*h+f.m.x*n;n=f.k.y*h+f.m.y*n;h=m;f=e.x+h-b.x-q;m=e.y+n-b.y-u;if(this.Dg){this.X=V.pc(s,this.Ce);this.tb=(f+q)*this.X.y-(m+u)*this.X.x;
this.ub=h*this.X.y-n*this.X.x;var t=this.X.x*f+this.X.y*m;.01>Math.abs(this.yf-this.wf)?(p=V.Ub(t,-.2,.2),l=Math.abs(t),k=!0):t<=this.wf?(p=V.Ub(t-this.wf+.005,-.2,0),l=this.wf-t,k=!0):t>=this.yf&&(p=V.Ub(t-this.yf+.005,0,.2),l=t-this.yf,k=!0)}this.ua=V.pc(s,this.wi);this.zb=(f+q)*this.ua.y-(m+u)*this.ua.x;this.Ab=h*this.ua.y-n*this.ua.x;s=Q.B(0,0);u=this.ua.x*f+this.ua.y*m;l=Math.max(l,Math.abs(u));q=0;k?(k=this.ec,h=this.fc,n=this.Sd,f=this.Td,this.na.k.x=k+h+n*this.zb*this.zb+f*this.Ab*this.Ab,
this.na.k.y=n*this.zb*this.tb+f*this.Ab*this.ub,this.na.m.x=this.na.k.y,this.na.m.y=k+h+n*this.tb*this.tb+f*this.ub*this.ub,this.na.bj(s,-u,-p)):(k=this.ec,h=this.fc,n=this.Sd,f=this.Td,p=k+h+n*this.zb*this.zb+f*this.Ab*this.Ab,s.x=0!=p?-u/p:0,s.y=0);p=s.x*this.ua.x+s.y*this.X.x;k=s.x*this.ua.y+s.y*this.X.y;u=s.x*this.zb+s.y*this.tb;s=s.x*this.Ab+s.y*this.ub;b.x-=this.ec*p;b.y-=this.ec*k;d-=this.Sd*u;e.x+=this.fc*p;e.y+=this.fc*k;g+=this.Td*s;a.n.R=d;c.n.R=g;a.$b();c.$b();return.005>=l&&q<=Nc};var cf=
function(){Ve.call(this);this.Rb=Q.B(0,0);this.Sb=Q.B(0,0);this.Zk=Q.B(0,0);this.type=Y.oF;this.Zk.Set(1,0);this.yk=!1;this.Yw=this.Gv=0;this.Ql=!1;this.Gm=this.Xv=0};Bc(cf,Ve);cf.prototype.Ac=function(a,c,b,d){this.S=a;this.T=c;this.Rb=this.S.Od(b);this.Sb=this.T.Od(b);this.Zk=this.S.dt(d)};cf.prototype.Df=function(){return new bf(this)};var df=function(a){Y.call(this,a);this.qa=Q.B(0,0);this.ra=Q.B(0,0);this.Ce=Q.B(0,0);this.wi=Q.B(0,0);this.X=Q.B(0,0);this.ua=Q.B(0,0);this.na=new Uc;this.G=new Tc(0,
0,0);this.qa.J(a.Rb);this.ra.J(a.Sb);this.Ce.J(a.Zk);this.wi.x=-this.Ce.y;this.wi.y=this.Ce.x;this.sH=a.Bh;this.G.ta();this.fb=this.ve=0;this.wf=a.Gv;this.yf=a.Yw;this.Rv=a.Xv;this.Jo=a.Gm;this.Dg=a.yk;this.Hj=a.Ql;this.Oa=Y.he;this.X.ta();this.ua.ta()};Bc(df,Y);df.prototype.ln=function(){var a=this.Z,c=this.aa,b=a.Lp(this.qa),d=c.Lp(this.ra),c=d.x-b.x,b=d.y-b.y,a=a.et(this.Ce);return a.x*c+a.y*b};df.prototype.Ef=function(a){var c=this.Z,b=this.aa,d,e=0;this.rh.J(c.dk());this.sh.J(b.dk());var g=c.Le();
b.Le();d=c.F.u;var f=this.qa.x-this.rh.x,m=this.qa.y-this.rh.y,e=d.k.x*f+d.m.x*m,m=d.k.y*f+d.m.y*m,f=e;d=b.F.u;var k=this.ra.x-this.sh.x,h=this.ra.y-this.sh.y,e=d.k.x*k+d.m.x*h,h=d.k.y*k+d.m.y*h,k=e;d=b.n.D.x+k-c.n.D.x-f;e=b.n.D.y+h-c.n.D.y-m;this.ec=c.O;this.fc=b.O;this.Sd=c.V;this.Td=b.V;this.X.J(V.pc(g.u,this.Ce));this.tb=(d+f)*this.X.y-(e+m)*this.X.x;this.ub=k*this.X.y-h*this.X.x;this.ve=this.ec+this.fc+this.Sd*this.tb*this.tb+this.Td*this.ub*this.ub;this.ve>Number.MIN_VALUE&&(this.ve=1/this.ve);
this.ua.J(V.pc(g.u,this.wi));this.zb=(d+f)*this.ua.y-(e+m)*this.ua.x;this.Ab=k*this.ua.y-h*this.ua.x;g=this.ec;f=this.fc;m=this.Sd;k=this.Td;this.na.k.x=g+f+m*this.zb*this.zb+k*this.Ab*this.Ab;this.na.k.y=m*this.zb+k*this.Ab;this.na.k.z=m*this.zb*this.tb+k*this.Ab*this.ub;this.na.m.x=this.na.k.y;this.na.m.y=m+k;this.na.m.z=m*this.tb+k*this.ub;this.na.Ga.x=this.na.k.z;this.na.Ga.y=this.na.m.z;this.na.Ga.z=g+f+m*this.tb*this.tb+k*this.ub*this.ub;this.Dg?(d=this.X.x*d+this.X.y*e,.01>Math.abs(this.yf-
this.wf)?this.Oa=Y.oj:d<=this.wf?this.Oa!=Y.bh&&(this.Oa=Y.bh,this.G.z=0):d>=this.yf?this.Oa!=Y.Ad&&(this.Oa=Y.Ad,this.G.z=0):(this.Oa=Y.he,this.G.z=0)):this.Oa=Y.he;0==this.Hj&&(this.fb=0);a.Ti?(this.G.x*=a.Vc,this.G.y*=a.Vc,this.fb*=a.Vc,a=this.G.x*this.ua.x+(this.fb+this.G.z)*this.X.x,d=this.G.x*this.ua.y+(this.fb+this.G.z)*this.X.y,e=this.G.x*this.zb+this.G.y+(this.fb+this.G.z)*this.tb,g=this.G.x*this.Ab+this.G.y+(this.fb+this.G.z)*this.ub,c.A.x-=this.ec*a,c.A.y-=this.ec*d,c.H-=this.Sd*e,b.A.x+=
this.fc*a,b.A.y+=this.fc*d,b.H+=this.Td*g):(this.G.ta(),this.fb=0)};df.prototype.jf=function(a){var c=this.Z,b=this.aa,d=c.A,e=c.H,g=b.A,f=b.H,m=0,k=0,h=0,n=0;this.Hj&&this.Oa!=Y.oj&&(n=this.ve*(this.Jo-(this.X.x*(g.x-d.x)+this.X.y*(g.y-d.y)+this.ub*f-this.tb*e)),m=this.fb,a=a.Ra*this.Rv,this.fb=V.Ub(this.fb+n,-a,a),n=this.fb-m,m=n*this.X.x,k=n*this.X.y,h=n*this.tb,n*=this.ub,d.x-=this.ec*m,d.y-=this.ec*k,e-=this.Sd*h,g.x+=this.fc*m,g.y+=this.fc*k,f+=this.Td*n);h=this.ua.x*(g.x-d.x)+this.ua.y*(g.y-
d.y)+this.Ab*f-this.zb*e;k=f-e;this.Dg&&this.Oa!=Y.he?(a=this.X.x*(g.x-d.x)+this.X.y*(g.y-d.y)+this.ub*f-this.tb*e,m=this.G.Rc(),a=this.na.yn(new Tc(0,0,0),-h,-k,-a),this.G.Oh(a),this.Oa==Y.bh?this.G.z=Math.max(this.G.z,0):this.Oa==Y.Ad&&(this.G.z=Math.min(this.G.z,0)),h=-h-(this.G.z-m.z)*this.na.Ga.x,k=-k-(this.G.z-m.z)*this.na.Ga.y,k=this.na.Gl(Q.B(0,0),h,k),k.x+=m.x,k.y+=m.y,this.G.x=k.x,this.G.y=k.y,a.x=this.G.x-m.x,a.y=this.G.y-m.y,a.z=this.G.z-m.z,m=a.x*this.ua.x+a.z*this.X.x,k=a.x*this.ua.y+
a.z*this.X.y,h=a.x*this.zb+a.y+a.z*this.tb,n=a.x*this.Ab+a.y+a.z*this.ub):(a=this.na.Gl(Q.B(0,0),-h,-k),this.G.x+=a.x,this.G.y+=a.y,m=a.x*this.ua.x,k=a.x*this.ua.y,h=a.x*this.zb+a.y,n=a.x*this.Ab+a.y);d.x-=this.ec*m;d.y-=this.ec*k;e-=this.Sd*h;g.x+=this.fc*m;g.y+=this.fc*k;f+=this.Td*n;c.A.J(d);c.H=e;b.A.J(g);b.H=f};df.prototype.hf=function(){var a=this.Z,c=this.aa,b=a.n.D,d=a.n.R,e=c.n.D,g=c.n.R,f,m=0,k=0,h=0,n=m=f=0,l=0,k=!1,q=0,p=Cc.Al(d),s=Cc.Al(g);f=p;var l=this.qa.x-this.rh.x,u=this.qa.y-this.rh.y,
m=f.k.x*l+f.m.x*u,u=f.k.y*l+f.m.y*u,l=m;f=s;s=this.ra.x-this.sh.x;h=this.ra.y-this.sh.y;m=f.k.x*s+f.m.x*h;h=f.k.y*s+f.m.y*h;s=m;f=e.x+s-b.x-l;m=e.y+h-b.y-u;if(this.Dg){this.X=V.pc(p,this.Ce);this.tb=(f+l)*this.X.y-(m+u)*this.X.x;this.ub=s*this.X.y-h*this.X.x;var t=this.X.x*f+this.X.y*m;.01>Math.abs(this.yf-this.wf)?(q=V.Ub(t,-.2,.2),n=Math.abs(t),k=!0):t<=this.wf?(q=V.Ub(t-this.wf+.005,-.2,0),n=this.wf-t,k=!0):t>=this.yf&&(q=V.Ub(t-this.yf+.005,0,.2),n=t-this.yf,k=!0)}this.ua=V.pc(p,this.wi);this.zb=
(f+l)*this.ua.y-(m+u)*this.ua.x;this.Ab=s*this.ua.y-h*this.ua.x;p=new Tc(0,0,0);u=this.ua.x*f+this.ua.y*m;s=g-d-this.sH;n=Math.max(n,Math.abs(u));l=Math.abs(s);k?(k=this.ec,h=this.fc,f=this.Sd,m=this.Td,this.na.k.x=k+h+f*this.zb*this.zb+m*this.Ab*this.Ab,this.na.k.y=f*this.zb+m*this.Ab,this.na.k.z=f*this.zb*this.tb+m*this.Ab*this.ub,this.na.m.x=this.na.k.y,this.na.m.y=f+m,this.na.m.z=f*this.tb+m*this.ub,this.na.Ga.x=this.na.k.z,this.na.Ga.y=this.na.m.z,this.na.Ga.z=k+h+f*this.tb*this.tb+m*this.ub*
this.ub,this.na.yn(p,-u,-s,-q)):(k=this.ec,h=this.fc,f=this.Sd,m=this.Td,q=f*this.zb+m*this.Ab,t=f+m,this.na.k.Set(k+h+f*this.zb*this.zb+m*this.Ab*this.Ab,q,0),this.na.m.Set(q,t,0),q=this.na.Gl(Q.B(0,0),-u,-s),p.x=q.x,p.y=q.y,p.z=0);q=p.x*this.ua.x+p.z*this.X.x;k=p.x*this.ua.y+p.z*this.X.y;u=p.x*this.zb+p.y+p.z*this.tb;p=p.x*this.Ab+p.y+p.z*this.ub;b.x-=this.ec*q;b.y-=this.ec*k;d-=this.Sd*u;e.x+=this.fc*q;e.y+=this.fc*k;g+=this.Td*p;a.n.R=d;c.n.R=g;a.$b();c.$b();return.005>=n&&l<=Nc};var ef=function(){Ve.call(this);
this.Rb=Q.B(0,0);this.Sb=Q.B(0,0);this.Zk=Q.B(0,0);this.type=Y.pF;this.Zk.Set(1,0);this.Bh=0;this.yk=!1;this.Yw=this.Gv=0;this.Ql=!1;this.Gm=this.Xv=0};Bc(ef,Ve);ef.prototype.Ac=function(a,c,b,d){this.S=a;this.T=c;this.Rb=this.S.Od(b);this.Sb=this.T.Od(b);this.Zk=this.S.dt(d);this.Bh=this.T.Zd()-this.S.Zd()};ef.prototype.Df=function(){return new df(this)};var gf=function(a){Y.call(this,a);this.ti=Q.B(0,0);this.vi=Q.B(0,0);this.qa=Q.B(0,0);this.ra=Q.B(0,0);this.Eb=Q.B(0,0);this.Fb=Q.B(0,0);this.Vf=
this.Z.ab.jH;this.ti.x=a.Xq.x-this.Vf.F.position.x;this.ti.y=a.Xq.y-this.Vf.F.position.y;this.vi.x=a.Yq.x-this.Vf.F.position.x;this.vi.y=a.Yq.y-this.Vf.F.position.y;this.qa.J(a.Rb);this.ra.J(a.Sb);this.gc=a.df;this.xm=a.sv+this.gc*a.tv;this.dA=Math.min(a.fA,this.xm-this.gc*ff);this.eA=Math.min(a.gA,(this.xm-ff)/this.gc);this.qh=this.ph=this.G=0};Bc(gf,Y);gf.prototype.Ef=function(a){var c=this.Z,b=this.aa,d;d=c.F.u;var e=this.qa.x-c.n.U.x,g=this.qa.y-c.n.U.y,f=d.k.x*e+d.m.x*g,g=d.k.y*e+d.m.y*g,e=f;
d=b.F.u;var m=this.ra.x-b.n.U.x,k=this.ra.y-b.n.U.y,f=d.k.x*m+d.m.x*k,k=d.k.y*m+d.m.y*k,m=f;d=b.n.D.x+m;var f=b.n.D.y+k,h=this.Vf.F.position.x+this.vi.x,n=this.Vf.F.position.y+this.vi.y;this.Eb.Set(c.n.D.x+e-(this.Vf.F.position.x+this.ti.x),c.n.D.y+g-(this.Vf.F.position.y+this.ti.y));this.Fb.Set(d-h,f-n);d=this.Eb.Wg();f=this.Fb.Wg();.005<d?this.Eb.ae(1/d):this.Eb.ta();.005<f?this.Fb.ae(1/f):this.Fb.ta();0<this.xm-d-this.gc*f?(this.Uv=Y.he,this.G=0):this.Uv=Y.Ad;d<this.dA?(this.Ov=Y.he,this.ph=0):
this.Ov=Y.Ad;f<this.eA?(this.Pv=Y.he,this.qh=0):this.Pv=Y.Ad;d=e*this.Eb.y-g*this.Eb.x;f=m*this.Fb.y-k*this.Fb.x;this.Ho=c.O+c.V*d*d;this.Io=b.O+b.V*f*f;this.Pr=this.Ho+this.gc*this.gc*this.Io;this.Ho=1/this.Ho;this.Io=1/this.Io;this.Pr=1/this.Pr;a.Ti?(this.G*=a.Vc,this.ph*=a.Vc,this.qh*=a.Vc,a=(-this.G-this.ph)*this.Eb.x,d=(-this.G-this.ph)*this.Eb.y,f=(-this.gc*this.G-this.qh)*this.Fb.x,h=(-this.gc*this.G-this.qh)*this.Fb.y,c.A.x+=c.O*a,c.A.y+=c.O*d,c.H+=c.V*(e*d-g*a),b.A.x+=b.O*f,b.A.y+=b.O*h,
b.H+=b.V*(m*h-k*f)):this.qh=this.ph=this.G=0};gf.prototype.jf=function(){var a=this.Z,c=this.aa,b;b=a.F.u;var d=this.qa.x-a.n.U.x,e=this.qa.y-a.n.U.y,g=b.k.x*d+b.m.x*e,e=b.k.y*d+b.m.y*e,d=g;b=c.F.u;var f=this.ra.x-c.n.U.x,m=this.ra.y-c.n.U.y,g=b.k.x*f+b.m.x*m,m=b.k.y*f+b.m.y*m,f=g,k=g=b=0,h=0;b=h=b=h=k=g=b=0;this.Uv==Y.Ad&&(b=a.A.x+-a.H*e,g=a.A.y+a.H*d,k=c.A.x+-c.H*m,h=c.A.y+c.H*f,b=-(this.Eb.x*b+this.Eb.y*g)-this.gc*(this.Fb.x*k+this.Fb.y*h),h=this.Pr*-b,b=this.G,this.G=Math.max(0,this.G+h),h=this.G-
b,b=-h*this.Eb.x,g=-h*this.Eb.y,k=-this.gc*h*this.Fb.x,h=-this.gc*h*this.Fb.y,a.A.x+=a.O*b,a.A.y+=a.O*g,a.H+=a.V*(d*g-e*b),c.A.x+=c.O*k,c.A.y+=c.O*h,c.H+=c.V*(f*h-m*k));this.Ov==Y.Ad&&(b=a.A.x+-a.H*e,g=a.A.y+a.H*d,b=-(this.Eb.x*b+this.Eb.y*g),h=-this.Ho*b,b=this.ph,this.ph=Math.max(0,this.ph+h),h=this.ph-b,b=-h*this.Eb.x,g=-h*this.Eb.y,a.A.x+=a.O*b,a.A.y+=a.O*g,a.H+=a.V*(d*g-e*b));this.Pv==Y.Ad&&(k=c.A.x+-c.H*m,h=c.A.y+c.H*f,b=-(this.Fb.x*k+this.Fb.y*h),h=-this.Io*b,b=this.qh,this.qh=Math.max(0,this.qh+
h),h=this.qh-b,k=-h*this.Fb.x,h=-h*this.Fb.y,c.A.x+=c.O*k,c.A.y+=c.O*h,c.H+=c.V*(f*h-m*k))};gf.prototype.hf=function(){var a=this.Z,c=this.aa,b,d=this.Vf.F.position.x+this.ti.x,e=this.Vf.F.position.y+this.ti.y,g=this.Vf.F.position.x+this.vi.x,f=this.Vf.F.position.y+this.vi.y,m=0,k=0,h=0,n=0,l=b=0,q=0,p=0,s=l=p=b=l=b=0;this.Uv==Y.Ad&&(b=a.F.u,m=this.qa.x-a.n.U.x,k=this.qa.y-a.n.U.y,l=b.k.x*m+b.m.x*k,k=b.k.y*m+b.m.y*k,m=l,b=c.F.u,h=this.ra.x-c.n.U.x,n=this.ra.y-c.n.U.y,l=b.k.x*h+b.m.x*n,n=b.k.y*h+b.m.y*
n,h=l,b=a.n.D.x+m,l=a.n.D.y+k,q=c.n.D.x+h,p=c.n.D.y+n,this.Eb.Set(b-d,l-e),this.Fb.Set(q-g,p-f),b=this.Eb.Wg(),l=this.Fb.Wg(),.005<b?this.Eb.ae(1/b):this.Eb.ta(),.005<l?this.Fb.ae(1/l):this.Fb.ta(),b=this.xm-b-this.gc*l,s=Math.max(s,-b),b=V.Ub(b+.005,-.2,0),p=-this.Pr*b,b=-p*this.Eb.x,l=-p*this.Eb.y,q=-this.gc*p*this.Fb.x,p=-this.gc*p*this.Fb.y,a.n.D.x+=a.O*b,a.n.D.y+=a.O*l,a.n.R+=a.V*(m*l-k*b),c.n.D.x+=c.O*q,c.n.D.y+=c.O*p,c.n.R+=c.V*(h*p-n*q),a.$b(),c.$b());this.Ov==Y.Ad&&(b=a.F.u,m=this.qa.x-a.n.U.x,
k=this.qa.y-a.n.U.y,l=b.k.x*m+b.m.x*k,k=b.k.y*m+b.m.y*k,m=l,b=a.n.D.x+m,l=a.n.D.y+k,this.Eb.Set(b-d,l-e),b=this.Eb.Wg(),.005<b?(this.Eb.x*=1/b,this.Eb.y*=1/b):this.Eb.ta(),b=this.dA-b,s=Math.max(s,-b),b=V.Ub(b+.005,-.2,0),p=-this.Ho*b,b=-p*this.Eb.x,l=-p*this.Eb.y,a.n.D.x+=a.O*b,a.n.D.y+=a.O*l,a.n.R+=a.V*(m*l-k*b),a.$b());this.Pv==Y.Ad&&(b=c.F.u,h=this.ra.x-c.n.U.x,n=this.ra.y-c.n.U.y,l=b.k.x*h+b.m.x*n,n=b.k.y*h+b.m.y*n,h=l,q=c.n.D.x+h,p=c.n.D.y+n,this.Fb.Set(q-g,p-f),l=this.Fb.Wg(),.005<l?(this.Fb.x*=
1/l,this.Fb.y*=1/l):this.Fb.ta(),b=this.eA-l,s=Math.max(s,-b),b=V.Ub(b+.005,-.2,0),p=-this.Io*b,q=-p*this.Fb.x,p=-p*this.Fb.y,c.n.D.x+=c.O*q,c.n.D.y+=c.O*p,c.n.R+=c.V*(h*p-n*q),c.$b());return.005>s};var ff=1,hf=function(){Ve.call(this);this.Xq=Q.B(0,0);this.Yq=Q.B(0,0);this.Rb=Q.B(0,0);this.Sb=Q.B(0,0);this.type=Y.qF;this.Xq.Set(-1,1);this.Yq.Set(1,1);this.Rb.Set(-1,0);this.Sb.Set(1,0);this.gA=this.tv=this.fA=this.sv=0;this.df=1;this.Zt=!0};Bc(hf,Ve);hf.prototype.Ac=function(a,c,b,d,e,g,f){void 0===
f&&(f=0);this.S=a;this.T=c;this.Xq.J(b);this.Yq.J(d);this.Rb=this.S.Od(e);this.Sb=this.T.Od(g);a=e.x-b.x;b=e.y-b.y;this.sv=Math.sqrt(a*a+b*b);b=g.x-d.x;d=g.y-d.y;this.tv=Math.sqrt(b*b+d*d);this.df=f;f=this.sv+this.df*this.tv;this.fA=f-this.df*ff;this.gA=(f-ff)/this.df};hf.prototype.Df=function(){return new gf(this)};var jf=function(a){Y.call(this,a);this.Me=new Cc;this.nn=new Cc;this.on=new Cc;this.pn=new Cc;this.pd=new Tc(0,0,0);this.vg=Q.B(0,0);this.Ah=Q.B(0,0);this.qa=Q.B(0,0);this.ra=Q.B(0,0);
this.G=new Tc(0,0,0);this.Y=new Uc;this.qa.J(a.Rb);this.ra.J(a.Sb);this.Lo=a.Bh;this.G.ta();this.fb=0;this.Nr=a.Fv;this.Vv=a.Xw;this.qH=a.hA;this.Jo=a.Gm;this.Dg=a.yk;this.Hj=a.Ql;this.Oa=Y.he};Bc(jf,Y);jf.prototype.Ip=function(){return this.aa.n.R-this.Z.n.R-this.Lo};jf.prototype.Ef=function(a){var c=this.Z,b=this.aa,d,e=0;d=c.F.u;var g=this.qa.x-c.n.U.x,f=this.qa.y-c.n.U.y,e=d.k.x*g+d.m.x*f,f=d.k.y*g+d.m.y*f,g=e;d=b.F.u;var m=this.ra.x-b.n.U.x,k=this.ra.y-b.n.U.y,e=d.k.x*m+d.m.x*k,k=d.k.y*m+d.m.y*
k,m=e;d=c.O;var e=b.O,h=c.V,n=b.V;this.Y.k.x=d+e+f*f*h+k*k*n;this.Y.m.x=-f*g*h-k*m*n;this.Y.Ga.x=-f*h-k*n;this.Y.k.y=this.Y.m.x;this.Y.m.y=d+e+g*g*h+m*m*n;this.Y.Ga.y=g*h+m*n;this.Y.k.z=this.Y.Ga.x;this.Y.m.z=this.Y.Ga.y;this.Y.Ga.z=h+n;this.ve=1/(h+n);this.Hj||(this.fb=0);if(this.Dg){var l=b.n.R-c.n.R-this.Lo;Math.abs(this.Vv-this.Nr)<2*Nc?this.Oa=Y.oj:l<=this.Nr?(this.Oa!=Y.bh&&(this.G.z=0),this.Oa=Y.bh):l>=this.Vv?(this.Oa!=Y.Ad&&(this.G.z=0),this.Oa=Y.Ad):(this.Oa=Y.he,this.G.z=0)}else this.Oa=
Y.he;a.Ti?(this.G.x*=a.Vc,this.G.y*=a.Vc,this.fb*=a.Vc,a=this.G.x,l=this.G.y,c.A.x-=d*a,c.A.y-=d*l,c.H-=h*(g*l-f*a+this.fb+this.G.z),b.A.x+=e*a,b.A.y+=e*l,b.H+=n*(m*l-k*a+this.fb+this.G.z)):(this.G.ta(),this.fb=0)};jf.prototype.jf=function(a){var c=this.Z,b=this.aa,d=0,e=d=0,g=0,f=0,m=0,k=c.A,h=c.H,n=b.A,l=b.H,q=c.O,p=b.O,s=c.V,u=b.V;this.Hj&&this.Oa!=Y.oj&&(e=this.ve*-(l-h-this.Jo),g=this.fb,f=a.Ra*this.qH,this.fb=V.Ub(this.fb+e,-f,f),e=this.fb-g,h-=s*e,l+=u*e);if(this.Dg&&this.Oa!=Y.he){a=c.F.u;
e=this.qa.x-c.n.U.x;g=this.qa.y-c.n.U.y;d=a.k.x*e+a.m.x*g;g=a.k.y*e+a.m.y*g;e=d;a=b.F.u;f=this.ra.x-b.n.U.x;m=this.ra.y-b.n.U.y;d=a.k.x*f+a.m.x*m;m=a.k.y*f+a.m.y*m;f=d;a=n.x+-l*m-k.x- -h*g;var t=n.y+l*f-k.y-h*e;this.Y.yn(this.pd,-a,-t,-(l-h));this.Oa==Y.oj?this.G.Oh(this.pd):this.Oa==Y.bh?(d=this.G.z+this.pd.z,0>d&&(this.Y.Gl(this.Ah,-a,-t),this.pd.x=this.Ah.x,this.pd.y=this.Ah.y,this.pd.z=-this.G.z,this.G.x+=this.Ah.x,this.G.y+=this.Ah.y,this.G.z=0)):this.Oa==Y.Ad&&(d=this.G.z+this.pd.z,0<d&&(this.Y.Gl(this.Ah,
-a,-t),this.pd.x=this.Ah.x,this.pd.y=this.Ah.y,this.pd.z=-this.G.z,this.G.x+=this.Ah.x,this.G.y+=this.Ah.y,this.G.z=0));k.x-=q*this.pd.x;k.y-=q*this.pd.y;h-=s*(e*this.pd.y-g*this.pd.x+this.pd.z);n.x+=p*this.pd.x;n.y+=p*this.pd.y;l+=u*(f*this.pd.y-m*this.pd.x+this.pd.z)}else a=c.F.u,e=this.qa.x-c.n.U.x,g=this.qa.y-c.n.U.y,d=a.k.x*e+a.m.x*g,g=a.k.y*e+a.m.y*g,e=d,a=b.F.u,f=this.ra.x-b.n.U.x,m=this.ra.y-b.n.U.y,d=a.k.x*f+a.m.x*m,m=a.k.y*f+a.m.y*m,f=d,this.Y.Gl(this.vg,-(n.x+-l*m-k.x- -h*g),-(n.y+l*f-
k.y-h*e)),this.G.x+=this.vg.x,this.G.y+=this.vg.y,k.x-=q*this.vg.x,k.y-=q*this.vg.y,h-=s*(e*this.vg.y-g*this.vg.x),n.x+=p*this.vg.x,n.y+=p*this.vg.y,l+=u*(f*this.vg.y-m*this.vg.x);c.A.J(k);c.H=h;b.A.J(n);b.H=l};jf.prototype.hf=function(){var a=0,c,b=this.Z,d=this.aa,e=0,g=c=0,f=0,m=0;if(this.Dg&&this.Oa!=Y.he){var a=d.n.R-b.n.R-this.Lo,k=0;this.Oa==Y.oj?(a=V.Ub(a-this.Nr,-Oc,Oc),k=-this.ve*a,e=Math.abs(a)):this.Oa==Y.bh?(a-=this.Nr,e=-a,a=V.Ub(a+Nc,-Oc,0),k=-this.ve*a):this.Oa==Y.Ad&&(e=a-=this.Vv,
a=V.Ub(a-Nc,0,Oc),k=-this.ve*a);b.n.R-=b.V*k;d.n.R+=d.V*k;b.$b();d.$b()}c=b.F.u;k=this.qa.x-b.n.U.x;a=this.qa.y-b.n.U.y;g=c.k.x*k+c.m.x*a;a=c.k.y*k+c.m.y*a;k=g;c=d.F.u;var h=this.ra.x-d.n.U.x,n=this.ra.y-d.n.U.y,g=c.k.x*h+c.m.x*n,n=c.k.y*h+c.m.y*n,h=g,f=d.n.D.x+h-b.n.D.x-k,m=d.n.D.y+n-b.n.D.y-a,l=f*f+m*m;c=Math.sqrt(l);var g=b.O,q=d.O,p=b.V,s=d.V;l>.05*.05&&(l=1/(g+q),f=l*-f,m=l*-m,b.n.D.x-=.5*g*f,b.n.D.y-=.5*g*m,d.n.D.x+=.5*q*f,d.n.D.y+=.5*q*m,f=d.n.D.x+h-b.n.D.x-k,m=d.n.D.y+n-b.n.D.y-a);this.nn.k.x=
g+q;this.nn.m.x=0;this.nn.k.y=0;this.nn.m.y=g+q;this.on.k.x=p*a*a;this.on.m.x=-p*k*a;this.on.k.y=-p*k*a;this.on.m.y=p*k*k;this.pn.k.x=s*n*n;this.pn.m.x=-s*h*n;this.pn.k.y=-s*h*n;this.pn.m.y=s*h*h;this.Me.lg(this.nn);this.Me.yp(this.on);this.Me.yp(this.pn);this.Me.bj(kf,-f,-m);f=kf.x;m=kf.y;b.n.D.x-=b.O*f;b.n.D.y-=b.O*m;b.n.R-=b.V*(k*m-a*f);d.n.D.x+=d.O*f;d.n.D.y+=d.O*m;d.n.R+=d.V*(h*m-n*f);b.$b();d.$b();return.005>=c&&e<=Nc};var kf=Q.B(0,0),Mc=function(){Ve.call(this);this.Rb=Q.B(0,0);this.Sb=Q.B(0,
0);this.type=Y.Pl;this.Rb.ta();this.Sb.ta();this.Gm=this.hA=this.Xw=this.Fv=this.Bh=0;this.Ql=this.yk=!1};Bc(Mc,Ve);Mc.prototype.Ac=function(a,c,b){this.S=a;this.T=c;this.Rb=this.S.Od(b);this.Sb=this.T.Od(b);this.Bh=this.T.Zd()-this.S.Zd()};Mc.prototype.Df=function(){return new jf(this)};var lf=function(a){Y.call(this,a);this.uf=Q.B(0,0);this.vf=Q.B(0,0);this.G=new Tc(0,0,0);this.Y=new Uc;this.uf.J(a.Rb);this.vf.J(a.Sb);this.Lo=a.Bh};Bc(lf,Y);lf.prototype.Ef=function(a){var c,b=0,d=this.Z,e=this.aa;
c=d.F.u;var g=this.uf.x-d.n.U.x,f=this.uf.y-d.n.U.y,b=c.k.x*g+c.m.x*f,f=c.k.y*g+c.m.y*f,g=b;c=e.F.u;var m=this.vf.x-e.n.U.x,k=this.vf.y-e.n.U.y,b=c.k.x*m+c.m.x*k,k=c.k.y*m+c.m.y*k,m=b;c=d.O;var b=e.O,h=d.V,n=e.V;this.Y.k.x=c+b+f*f*h+k*k*n;this.Y.m.x=-f*g*h-k*m*n;this.Y.Ga.x=-f*h-k*n;this.Y.k.y=this.Y.m.x;this.Y.m.y=c+b+g*g*h+m*m*n;this.Y.Ga.y=g*h+m*n;this.Y.k.z=this.Y.Ga.x;this.Y.m.z=this.Y.Ga.y;this.Y.Ga.z=h+n;a.Ti?(this.G.x*=a.Vc,this.G.y*=a.Vc,this.G.z*=a.Vc,d.A.x-=c*this.G.x,d.A.y-=c*this.G.y,
d.H-=h*(g*this.G.y-f*this.G.x+this.G.z),e.A.x+=b*this.G.x,e.A.y+=b*this.G.y,e.H+=n*(m*this.G.y-k*this.G.x+this.G.z)):this.G.ta()};lf.prototype.jf=function(){var a,c=0,b=this.Z,d=this.aa,e=b.A,g=b.H,f=d.A,m=d.H,k=b.O,h=d.O,n=b.V,l=d.V;a=b.F.u;var q=this.uf.x-b.n.U.x,p=this.uf.y-b.n.U.y,c=a.k.x*q+a.m.x*p,p=a.k.y*q+a.m.y*p,q=c;a=d.F.u;var s=this.vf.x-d.n.U.x,u=this.vf.y-d.n.U.y,c=a.k.x*s+a.m.x*u,u=a.k.y*s+a.m.y*u,s=c;a=new Tc(0,0,0);this.Y.yn(a,-(f.x-m*u-e.x+g*p),-(f.y+m*s-e.y-g*q),-(m-g));this.G.Oh(a);
e.x-=k*a.x;e.y-=k*a.y;g-=n*(q*a.y-p*a.x+a.z);f.x+=h*a.x;f.y+=h*a.y;m+=l*(s*a.y-u*a.x+a.z);b.H=g;d.H=m};lf.prototype.hf=function(){var a,c=0,b=this.Z,d=this.aa;a=b.F.u;var e=this.uf.x-b.n.U.x,g=this.uf.y-b.n.U.y,c=a.k.x*e+a.m.x*g,g=a.k.y*e+a.m.y*g,e=c;a=d.F.u;var f=this.vf.x-d.n.U.x,m=this.vf.y-d.n.U.y,c=a.k.x*f+a.m.x*m,m=a.k.y*f+a.m.y*m,f=c;a=b.O;var c=d.O,k=b.V,h=d.V,n=d.n.D.x+f-b.n.D.x-e,l=d.n.D.y+m-b.n.D.y-g,q=d.n.R-b.n.R-this.Lo,p=Math.sqrt(n*n+l*l),s=Math.abs(q);.05<p&&(k*=1,h*=1);this.Y.k.x=
a+c+g*g*k+m*m*h;this.Y.m.x=-g*e*k-m*f*h;this.Y.Ga.x=-g*k-m*h;this.Y.k.y=this.Y.m.x;this.Y.m.y=a+c+e*e*k+f*f*h;this.Y.Ga.y=e*k+f*h;this.Y.k.z=this.Y.Ga.x;this.Y.m.z=this.Y.Ga.y;this.Y.Ga.z=k+h;var u=new Tc(0,0,0);this.Y.yn(u,-n,-l,-q);b.n.D.x-=a*u.x;b.n.D.y-=a*u.y;b.n.R-=k*(e*u.y-g*u.x+u.z);d.n.D.x+=c*u.x;d.n.D.y+=c*u.y;d.n.R+=h*(f*u.y-m*u.x+u.z);b.$b();d.$b();return.005>=p&&s<=Nc};var nf=function(){Ve.call(this);this.Rb=Q.B(0,0);this.Sb=Q.B(0,0);this.type=Y.sF;this.Bh=0};Bc(nf,Ve);nf.prototype.Ac=
function(a,c,b){this.S=a;this.T=c;this.Rb.J(this.S.Od(b));this.Sb.J(this.T.Od(b));this.Bh=this.T.Zd()-this.S.Zd()};nf.prototype.Df=function(){return new lf(this)};var Be=[new ad,new ad],Ke=[new ad,new ad],Le=[new ad,new ad],Ce=Q.B(0,0),De=Q.B(0,0),Ee=Q.B(0,0),He=Q.B(0,0),Fe=Q.B(0,0),Ge=Q.B(0,0),Ie=Q.B(0,0),Je=Q.B(0,0),be=0,ke=0,le=0,ie=0,je=0,ce=new zd,de=new jd,ee=new Dc,fe=new Dc,he=new ud,ge=new kd;Fc.hI=new Dc;Gc.ny=new Gc;new function(){this.position=Q.B(0,0);this.JB=Q.B(0,0);this.Vd=Q.B(0,0);
this.id=new $c};Ic.WJ=new Dc;Ic.YA=new Wc;Ic.ZA=new Wc;var ae=new Ad,ze=new Bd,Ae=new ye}function of(a,c,b,d,e,g){var f;if(f=(b+.1>=a&&a>=e-.1||b-.1<=a&&a<=e+.1)&&(d+.1>=c&&c>=g-.1||d-.1<=c&&c<=g+.1))f=.1<Math.abs(e-b)?.1>Math.abs((g-d)/(e-b)*(a-b)+d-c):.1>Math.abs(a-b);return f}
function pf(a,c){var b=Q,d=qf(a),e=[],g,f,m,k,h,n,l,q,p;h=0;for(n=d.length;h<n;h++){f=d[h];g=[];g.length=f.length;l=p=0;for(q=f.length;l<q;l++)m=f[l],k=f[(l+1)%q],p+=m.x*k.y-m.y*k.x,g[l]=b.B(m.x,m.y);p=Math.abs(p/2);p>=.001*c&&e.push(g)}return e}
function qf(a){var c=[],b=0,d=0,e=0,g=0,f=0,m=f=0,k=0,h=0,n=0,g=0,l,q,p,s,u,t=g=b=0,z=0,e=[],k=[],A=!1,H=[],y=[];for(y.push(a);y.length;){c=y[0];d=c.length;A=!0;for(b=0;b<d;b++)if(h=b,n=b<d-1?b+1:b+1-d,g=b<d-2?b+2:b+2-d,a=c[h],l=c[n],q=c[g],g=a.x,e=a.y,k=l.x,f=l.y,m=q.x,q=q.y,g=g*f+k*q+m*e-e*k-f*m-q*g,0>g){A=!1;k=1E9;for(e=0;e<d;e++)if(e!==h&&e!==n){b=e;g=e<d-1?e+1:0;p=c[b];s=c[g];m=a.x;q=a.y;var C=l.x,I=l.y,f=p.x;p=p.y;var E=s.x;s=s.y;var D=C-m,x=I-q,K=E-f,L=s-p,K=(K*(p-q)-L*(f-m))/(x*K-D*L),D=m+
K*D,x=q+K*x,m=of(C,I,m,q,D,x),f=of(D,x,f,p,E,s);if(q=m&&f?Q.B(D,x):null)f=l.x-q.x,m=l.y-q.y,f=f*f+m*m,f<k&&(z=b,t=g,u=q,k=f)}if(1E9===k)return[];e=[];k=[];b=z;g=t;p=c[b];s=c[g];t=u.y;z=s.y;.1>Math.abs(s.x-u.x)&&.1>Math.abs(z-t)||e.push(u);t=u.y;z=p.y;.1>Math.abs(p.x-u.x)&&.1>Math.abs(z-t)||k.push(u);z=-1;for(t=h;;){if(t!==g)e.push(c[t]);else{if(0>z||z>=d)return[];of(s.x,s.y,c[z].x,c[z].y,a.x,a.y)||e.push(c[t]);break}z=t;0>t-1?t=d-1:t--}e.reverse();z=-1;for(t=n;;){if(t!==b)k.push(c[t]);else{if(0>z||
z>=d)return[];t!==b||of(p.x,p.y,c[z].x,c[z].y,l.x,l.y)||k.push(c[t]);break}z=t;t+1>d-1?t=0:t++}y.push(e,k);y.shift();break}A&&H.push(y.shift())}return H}
function rf(a){for(var c=0;4E3>c;c++)Q.Uh.push(new Q(0,0));this.j=a;this.Ke=new Ic(Q.B(0,10),!0);this.pv=-1;a=new Gc;a.behavior=this;a.Ap=function(a){this.behavior.j.ol(a.cc.mb().Zg.q,a.Xb.mb().Zg.q)};this.Ke.Tx(a);a=new Hc;a.behavior=this;a.ik=function(a,c){if(this.behavior.wE)return!0;var e=a.mb().Zg.q.type,g=c.mb().Zg.q.type,f=e.da.Physics_DisabledCollisions;return f&&f.contains(g)?!1:(f=g.da.Physics_DisabledCollisions)&&f.contains(e)?!1:!0};this.Ke.Sx(a);this.rI=0;this.tp=8;this.Wo=3;this.wE=
!0}
(function(){function a(){}function c(){}var b=Q,d=W,e=Kc,g=X,f=Jc,m=Lc,k=Mc,h=rf.prototype;h.Fa=function(a){this.behavior=a;this.j=a.j};h.Fa.prototype.ma=function(){};h.za=function(a,b){this.type=a;this.behavior=a.behavior;this.q=b;this.j=a.j;this.Ke=this.behavior.Ke};var n=h.za.prototype;n.ma=function(){this.Su=0!==this.M[0];this.By=this.M[1];this.nw=0!==this.M[2];this.ug=this.M[3];this.fh=this.M[4];this.Dh=this.M[5];this.Wk=this.M[6];this.lk=this.M[7];this.qk=0!==this.M[8];this.enabled=0!==this.M[9];this.body=
null;this.q.ib();this.jr=this.q.x;this.kr=this.q.y;this.jh=this.q.N;this.lv=this.qv=0;this.TA=this.ov=!1;this.hv=null;this.jv=-1;this.$e?(this.$e.length=0,this.Yf.length=0,this.li.clear()):(this.$e=[],this.Yf=[],this.li=new ea);var a=this;this.we||(this.Po=function(b){a.So(b)});this.j.Sp(this.Po)};n.KA=function(){this.q.ib();this.rq();this.hv=this.q.Vb;this.jv=this.q.pa};n.Fg=function(){this.Aq();this.Yf.length=0;this.li.clear();this.body&&(this.Ke.Ep(this.body),this.body=null);this.j.VA(this.Po)};
n.oc=function(){var a={e:this.enabled,im:this.Su,pr:this.nw,d:this.ug,fr:this.fh,re:this.Dh,ld:this.Wk,ad:this.lk,b:this.qk,mcj:this.Yf};if(this.enabled){var c=b.B(0,0);c.J(this.body.ck());a.vx=c.x;a.vy=c.y;a.om=this.body.Hp()}return a};n.Ic=function(a){this.Aq();this.Yf.length=0;this.li.clear();this.body&&(this.Ke.Ep(this.body),this.body=null);this.enabled=a.e;this.Su=a.im;this.nw=a.pr;this.ug=a.d;this.fh=a.fr;this.Dh=a.re;this.Wk=a.ld;this.lk=a.ad;this.qk=a.b;this.jr=this.q.x;this.kr=this.q.y;this.jh=
this.q.N;this.qv=this.q.width;this.lv=this.q.height;this.enabled&&(this.rq(),this.body.hk(b.B(a.vx,a.vy)),this.body.vn(a.om),0===a.vx&&0===a.vy&&0===a.om||this.body.Hd(!0),this.Yf=a.mcj)};n.pg=function(){this.enabled&&this.uw();this.behavior.pv=this.j.gf-1};n.So=function(a){var b,c,d,e=a.uid;d=b=0;for(c=this.Yf.length;b<c;b++)this.Yf[d]=this.Yf[b],d<this.$e.length&&(this.$e[d]=this.$e[b]),this.Yf[b].vc[1]==e?this.Ke.Fp(this.$e[b]):d++;this.Yf.length=d;d<this.$e.length&&(this.$e.length=d);this.li.remove(a)};
n.Aq=function(){var a,b;a=0;for(b=this.$e.length;a<b;a++)this.Ke.Fp(this.$e[a]);this.$e.length=0};n.uw=function(){var a,b,c;a=0;for(b=this.Yf.length;a<b;a++)switch(c=this.Yf[a],c.type){case 0:this.WE(c.vc[0],c.vc[1],c.vc[2],c.vc[3],c.vc[4]);break;case 1:this.YE(c.vc[0],c.vc[1]);break;case 2:this.XE(c.vc[0],c.vc[1],c.vc[2],c.vc[3])}};n.Ky=function(){this.body&&(this.Aq(),this.Ke.Ep(this.body),this.body=null,this.q.da.If=null)};var l=[];n.rq=function(){if(this.enabled){var a=this.q,c=!1,h=null,m=null,
k,n,A,H,y,C,I,E,D,x,K,L,da;if(this.body){c=!0;h=b.B(0,0);h.J(this.body.ck());m=this.body.Hp();E=this.li.Pg();k=0;for(n=E.length;k<n;k++)D=E[k].da.If.Zg,D.Aq();this.Ky()}D=new e;D.ug=this.ug;D.fh=this.fh;D.Dh=this.Dh;k=new d;k.type=this.Su?0:2;a.ib();k.position.x=.02*a.Jb.Mj();k.position.y=.02*a.Jb.Nj();k.N=a.N;k.ru=this.nw;k.Wk=this.Wk;k.lk=this.lk;k.qk=this.qk;E=this.q.cb&&!this.q.cb.Ok();this.body=this.Ke.Xs(k);this.body.Zg=this;k=this.By;E||this.q.Pi||0!==this.By||(k=1);n=Math.max(Math.abs(a.width),
1);A=Math.max(Math.abs(a.height),1);x=0>a.width;K=0>a.height;if(0===k)if(a.Pi)for(L=a.Jb.Mj()-a.x,I=a.Jb.Nj()-a.y,a.MJ(l),E=[],k=0,n=l.length;k<n;++k){x=l[k];K=x.YH;if(x.zh){if(!x.zh.pq){y=x.zh.Mc;H=x.zh.Af;for(A=0;A<H;++A)E.push(b.B(y[2*A],y[2*A+1]));A=x.id&3758096384;(-2147483648===A||1073741824===A||536870912===A||A&-2147483648&&A&1073741824&&A&536870912)&&E.reverse();x.zh.pq=pf(E,(K.right-K.left)*(K.bottom-K.top));A=0;for(H=E.length;A<H;++A)b.zc(E[A]);E.length=0}A=0;for(H=x.zh.pq.length;A<H;++A){da=
x.zh.pq[A];y=0;for(C=da.length;y<C;++y)E.push(b.B(.02*(K.left+da[y].x-L),.02*(K.top+da[y].y-I)));D.shape=new g;D.shape.wn(E,E.length);this.body.yl(D);y=0;for(C=E.length;y<C;++y)b.zc(E[y]);E.length=0}}else E.push(b.B(.02*(K.left-L),.02*(K.top-I))),E.push(b.B(.02*(K.right-L),.02*(K.top-I))),E.push(b.B(.02*(K.right-L),.02*(K.bottom-I))),E.push(b.B(.02*(K.left-L),.02*(K.bottom-I))),D.shape=new g,D.shape.wn(E,E.length),this.body.yl(D);A=0;for(H=E.length;A<H;++A)b.zc(E[A]);E.length=0}else{k=a.N;a.N=0;a.ba();
a.ib();L=a.Jb.Mj()-a.x;I=a.Jb.Nj()-a.y;a.N=k;a.ba();a.cb.rk(x?-n:n,K?-A:A,0);y=a.cb.Mc;H=a.cb.Af;E=[];E.length=H;for(k=0;k<H;k++)E[k]=b.B(y[2*k]-L,y[2*k+1]-I);x!==K&&E.reverse();L=pf(E,n*A);for(k=0;k<H;k++)b.zc(E[k]);if(L.length)for(k=0,n=L.length;k<n;k++){E=L[k];A=0;for(H=E.length;A<H;A++)I=E[A],I.x*=.02,I.y*=.02;D.shape=new g;D.shape.wn(E,E.length);this.body.yl(D);A=0;for(H=E.length;A<H;A++)b.zc(E[A])}else D.shape=new g,D.shape.Op(.01*n,.01*A),this.body.yl(D)}else 1===k?(D.shape=new g,D.shape.Op(.01*
n,.01*A)):D.shape=new f(.01*Math.min(n,A)),this.body.yl(D);a.da.If=this.body;this.qv=a.width;this.lv=a.height;if(c)for(this.body.hk(h),this.body.vn(m),b.zc(h),this.uw(),E=this.li.Pg(),k=0,n=E.length;k<n;k++)D=E[k].da.If.Zg,D.uw();l.length=0}};n.Pb=function(){if(this.enabled){var a=this.q,c;0===this.behavior.rI?c=this.j.Jh/60:(c=this.j.sj(this.q),c>1/30&&(c=1/30));this.j.gf>this.behavior.pv&&0<this.j.Jh&&(this.Ke.Th(c,this.behavior.tp,this.behavior.Wo),this.Ke.ox(),this.behavior.pv=this.j.gf);if(this.TA||
a.width!==this.qv||a.height!==this.lv||a.Vb!==this.hv||a.pa!==this.jv||a.Pi&&a.FA)this.rq(),this.TA=!1,this.hv=a.Vb,this.jv=a.pa,a.Pi&&a.FA&&(a.FA=!1);c=a.N!==this.jh;if(a.x!==this.jr||a.y!==this.kr){a.ib();var d=a.Jb.Mj(),e=a.Jb.Nj(),f=d-this.jr,g=e-this.kr;this.body.Bt(b.B(.02*d,.02*e));this.body.hk(b.B(f,g));this.ov=!0;this.body.Hd(!0)}else this.ov&&(this.ov=!1,this.body.hk(b.B(0,0)),this.body.Bt(b.B(.02*a.Jb.Mj(),.02*a.Jb.Nj())));c&&(this.body.un(a.N),this.body.Hd(!0));d=this.body.F.position;
c=d.x/.02;d=d.y/.02;e=this.body.Zd();if(c!==a.x||d!==a.y||e!==a.N)if(a.x=c,a.y=d,a.N=e,a.ba(),a.ib(),c=a.Jb.Mj()-a.x,d=a.Jb.Nj()-a.y,0!==c||0!==d)a.x-=c,a.y-=d,a.ba();this.jr=a.x;this.kr=a.y;this.jh=a.N}};n.Tq=function(a){return-1!==a&&this.q.Qf?0===a&&this.body?(this.body.F.position.x+this.body.dk().x)/.02:this.q.Qf(a,!0):this.q.x};n.Uq=function(a){return-1!==a&&this.q.Qf?0===a&&this.body?(this.body.F.position.y+this.body.dk().y)/.02:this.q.Qf(a,!1):this.q.y};a.prototype.gt=function(){return this.enabled};
h.K=new a;c.prototype.Sg=function(a,c,d){if(this.enabled){var e=this.Tq(d);d=this.Uq(d);this.body.Sg(b.B(a,c),b.B(.02*e,.02*d))}};c.prototype.zp=function(a){this.enabled&&this.body.zp(v(a))};c.prototype.vn=function(a){this.enabled&&(this.body.vn(v(a)),this.body.Hd(!0))};n.WE=function(a,c,d,e,f){if(this.enabled&&(c=this.j.fi(c))&&c!=this.q&&c.da.If){c.da.If.Zg.li.add(this.q);var g=this.Tq(a);a=this.Uq(a);var h;c.Qf?(h=c.Qf(d,!0),d=c.Qf(d,!1)):(h=c.x,d=c.y);var k=g-h,l=a-d,n=new m;n.Ac(this.body,c.da.If,
b.B(.02*g,.02*a),b.B(.02*h,.02*d));n.length=.02*Math.sqrt(k*k+l*l);n.xq=e;n.Pq=f;this.$e.push(this.Ke.Dp(n))}};n.YE=function(a,c){if(this.enabled){var d=this.j.fi(c);if(d&&d!=this.q&&d.da.If){d.da.If.Zg.li.add(this.q);var e=this.Tq(a),f=this.Uq(a),g=new k;g.Ac(this.body,d.da.If,b.B(.02*e,.02*f));this.$e.push(this.Ke.Dp(g))}}};n.XE=function(a,c,d,e){if(this.enabled&&(c=this.j.fi(c))&&c!=this.q&&c.da.If){c.da.If.Zg.li.add(this.q);var f=this.Tq(a);a=this.Uq(a);var g=new k;g.Ac(this.body,c.da.If,b.B(.02*
f,.02*a));g.yk=!0;g.Fv=v(d);g.Xw=v(e);this.$e.push(this.Ke.Dp(g))}};c.prototype.Sh=function(a){this.enabled&&0===a?(this.Ky(),this.enabled=!1):this.enabled||1!==a||(this.enabled=!0,this.rq())};h.ca=new c;h.Cb=new function(){}})();function sf(a){this.j=a}
(function(){function a(){}function c(){}var b=sf.prototype;b.Fa=function(a){this.behavior=a;this.j=a.j};b.Fa.prototype.ma=function(){};b.za=function(a,b){this.type=a;this.behavior=a.behavior;this.q=b;this.j=a.j;this.jp=this.Bs=this.As=this.Qu=this.Hn=this.Mn=this.mm=this.no=this.os=this.yr=!1;this.We=null;this.wv=-1;this.Qk=this.Pk=0;this.Mq=!1;this.Tl=this.rg=0;this.Kq=!0;this.la=this.ka=0};var d=b.za.prototype;d.DB=function(){this.md=Math.cos(this.Xl);this.nd=Math.sin(this.Xl);this.Ki=Math.cos(this.Xl-
Math.PI/2);this.Li=Math.sin(this.Xl-Math.PI/2);this.md=ib(this.md);this.nd=ib(this.nd);this.Ki=ib(this.Ki);this.Li=ib(this.Li);this.zu=this.Te;0>this.Te&&(this.md*=-1,this.nd*=-1,this.Te=Math.abs(this.Te))};d.ma=function(){this.Ai=this.M[0];this.ee=this.M[1];this.Ol=this.M[2];this.lo=this.M[3];this.zu=this.Te=this.M[4];this.kl=this.M[5];this.lu=0!==this.M[6];this.gv=this.M[7]/1E3;this.RE=1===this.M[8];this.enabled=0!==this.M[9];this.Ym=!1;this.wp=this.j.Yj(this.q);this.xv=-1;this.ql=0;this.Xl=v(90);
this.DB();var a=this;this.RE&&!this.j.Ca&&(jQuery(document).keydown(function(b){a.fw(b)}),jQuery(document).keyup(function(b){a.gw(b)}));this.we||(this.Po=function(b){a.So(b)});this.j.Sp(this.Po);this.q.da.isPlatformBehavior=!0};d.oc=function(){return{ii:this.Qu,lfx:this.Pk,lfy:this.Qk,lfo:this.We?this.We.uid:-1,am:this.rg,en:this.enabled,fall:this.Tl,ft:this.Kq,dx:this.ka,dy:this.la,ms:this.Ai,acc:this.ee,dec:this.Ol,js:this.lo,g:this.Te,g1:this.zu,mf:this.kl,wof:this.Ym,woj:this.wp?this.wp.uid:-1,
ga:this.Xl,edj:this.lu,cdj:this.Hn,dj:this.Mn,sus:this.gv}};d.Ic=function(a){this.Qu=a.ii;this.Pk=a.lfx;this.Qk=a.lfy;this.wv=a.lfo;this.rg=a.am;this.enabled=a.en;this.Tl=a.fall;this.Kq=a.ft;this.ka=a.dx;this.la=a.dy;this.Ai=a.ms;this.ee=a.acc;this.Ol=a.dec;this.lo=a.js;this.Te=a.g;this.zu=a.g1;this.kl=a.mf;this.Ym=a.wof;this.xv=a.woj;this.Xl=a.ga;this.lu=a.edj;this.Hn=a.cdj;this.Mn=a.dj;this.gv=a.sus;this.jp=this.Bs=this.As=this.mm=this.no=this.os=this.yr=!1;this.ql=0;this.DB()};d.pg=function(){this.We=
-1===this.wv?null:this.j.fi(this.wv);this.wp=-1===this.xv?null:this.j.fi(this.xv)};d.So=function(a){this.We==a&&(this.We=null)};d.Fg=function(){this.We=null;this.j.VA(this.Po)};d.fw=function(a){switch(a.which){case 38:a.preventDefault();this.no=!0;break;case 37:a.preventDefault();this.yr=!0;break;case 39:a.preventDefault(),this.os=!0}};d.gw=function(a){switch(a.which){case 38:a.preventDefault();this.mm=this.no=!1;break;case 37:a.preventDefault();this.yr=!1;break;case 39:a.preventDefault(),this.os=
!1}};d.PJ=function(){return 0>this.Te?-1:1};d.uz=function(){var a=null,b=null,c,d;c=this.q.x;d=this.q.y;this.q.x+=this.md;this.q.y+=this.nd;this.q.ba();if(this.We&&this.j.Ie(this.q,this.We))return this.q.x=c,this.q.y=d,this.q.ba(),this.We;(a=this.j.vd(this.q))||0!==this.Tl||(b=this.j.Yj(this.q,!0));this.q.x=c;this.q.y=d;this.q.ba();if(a){if(this.j.Ie(this.q,a))return null;this.Mq=!1;return a}if(b&&b.length){d=a=0;for(c=b.length;a<c;a++)b[d]=b[a],this.j.Ie(this.q,b[a])||d++;if(1<=d)return this.Mq=
!0,b[0]}return null};d.Pb=function(){};d.LA=function(){var a=this.j.sj(this.q),b,c,d,k,h,n,l,q,p;this.no||this.jp||(this.mm=!1);var s=this.yr||this.As;d=this.os||this.Bs;var u=(k=this.no||this.jp)&&!this.mm;this.jp=this.Bs=this.As=!1;if(this.enabled){this.Qu&&(u=k=d=s=!1);k||(this.ql=0);q=this.We;p=!1;this.Kq&&((this.j.vd(this.q)||this.j.Yj(this.q))&&this.j.eg(this.q,-this.md,-this.nd,4,!0),this.Kq=!1);!q||0!==this.la||q.y===this.Qk&&q.x===this.Pk||(b=q.x-this.Pk,c=q.y-this.Qk,this.q.x+=b,this.q.y+=
c,this.q.ba(),this.Pk=q.x,this.Qk=q.y,p=!0,this.j.vd(this.q)&&this.j.eg(this.q,-b,-c,2.5*Math.sqrt(b*b+c*c)));var t=this.uz();if(c=this.j.vd(this.q))if(this.q.da.inputPredicted)this.j.eg(this.q,-this.md,-this.nd,10,!1);else if(this.j.RA(this.q,Math.max(this.q.width,this.q.height)/2))this.j.ol(this.q,c);else return;t?(this.Hn=this.Mn=!1,0<this.la&&(this.Ym||(this.j.pw(this.q,-this.md,-this.nd,t),this.Ym=!0),this.la=0),q!=t)?(this.We=t,this.Pk=t.x,this.Qk=t.y,this.j.ol(this.q,t)):p&&(c=this.j.vd(this.q))&&
(this.j.ol(this.q,c),0!==b&&(0<b?this.j.eg(this.q,-this.Ki,-this.Li):this.j.eg(this.q,this.Ki,this.Li)),this.j.eg(this.q,-this.md,-this.nd)):k||(this.Hn=!0);if(t&&u||!t&&this.lu&&k&&this.Hn&&!this.Mn)q=this.q.x,p=this.q.y,this.q.x-=this.md,this.q.y-=this.nd,this.q.ba(),this.j.vd(this.q)?u=!1:(this.ql=this.gv,this.j.trigger(sf.prototype.K.cD,this.q),this.rg=2,this.la=-this.lo,u=!0,t?this.mm=!0:this.Mn=!0),this.q.x=q,this.q.y=p,this.q.ba();t||(k&&0<this.ql?(this.la=-this.lo,this.ql-=a):(this.We=null,
this.la+=this.Te*a,this.la>this.kl&&(this.la=this.kl)),u&&(this.mm=!0));this.Ym=!!t;s==d&&(0>this.ka?(this.ka+=this.Ol*a,0<this.ka&&(this.ka=0)):0<this.ka&&(this.ka-=this.Ol*a,0>this.ka&&(this.ka=0)));s&&!d&&(this.ka=0<this.ka?this.ka-(this.ee+this.Ol)*a:this.ka-this.ee*a);d&&!s&&(this.ka=0>this.ka?this.ka+(this.ee+this.Ol)*a:this.ka+this.ee*a);this.ka>this.Ai?this.ka=this.Ai:this.ka<-this.Ai&&(this.ka=-this.Ai);s=!1;0!==this.ka&&(q=this.q.x,p=this.q.y,b=this.ka*a*this.Ki,c=this.ka*a*this.Li,this.q.x+=
this.Ki*(1<this.ka?1:-1)-this.md,this.q.y+=this.Li*(1<this.ka?1:-1)-this.nd,this.q.ba(),k=!1,h=this.j.vd(this.q),this.q.x=q+b,this.q.y=p+c,this.q.ba(),d=this.j.vd(this.q),!d&&t&&(d=this.j.Yj(this.q))&&(this.q.x=q,this.q.y=p,this.q.ba(),this.j.Ie(this.q,d)?(d=null,k=!1):k=!0,this.q.x=q+b,this.q.y=p+c,this.q.ba()),d?(b=Math.abs(this.ka*a)+2,h||!this.j.eg(this.q,-this.md,-this.nd,b,k,d))?(this.j.ol(this.q,d),b=Math.max(Math.abs(this.ka*a*2.5),30),this.j.eg(this.q,this.Ki*(0>this.ka?1:-1),this.Li*(0>
this.ka?1:-1),b,!1)?!t||k||this.Mq||(q=this.q.x,p=this.q.y,this.q.x+=this.md,this.q.y+=this.nd,this.j.vd(this.q)?this.j.eg(this.q,-this.md,-this.nd,3,!1)||(this.q.x=q,this.q.y=p,this.q.ba()):(this.q.x=q,this.q.y=p,this.q.ba())):(this.q.x=q,this.q.y=p,this.q.ba()),k||(this.ka=0)):!h&&!u&&Math.abs(this.la)<Math.abs(this.lo/4)&&(this.la=0,t||(s=!0)):(q=this.uz(),t&&!q?(c=Math.ceil(Math.abs(this.ka*a))+2,q=this.q.x,p=this.q.y,this.q.x+=this.md*c,this.q.y+=this.nd*c,this.q.ba(),this.j.vd(this.q)||this.j.Yj(this.q)?
this.j.eg(this.q,-this.md,-this.nd,c+2,!0):(this.q.x=q,this.q.y=p,this.q.ba())):q&&0===this.la&&this.j.pw(this.q,-this.md,-this.nd,q)));if(0!==this.la){q=this.q.x;p=this.q.y;this.q.x+=this.la*a*this.md;this.q.y+=this.la*a*this.nd;b=this.q.x;d=this.q.y;this.q.ba();c=this.j.vd(this.q);k=!1;if(!c&&0<this.la&&!t){if((k=0<this.Tl?null:this.j.Yj(this.q,!0))&&k.length){if(this.wp){this.q.x=q;this.q.y=p;this.q.ba();l=h=0;for(n=k.length;h<n;h++)k[l]=k[h],this.j.Ie(this.q,k[h])||l++;k.length=l;this.q.x=b;this.q.y=
d;this.q.ba()}1<=k.length&&(c=k[0])}k=!!c}c&&(this.j.ol(this.q,c),this.ql=0,b=k?Math.abs(this.la*a*2.5+10):Math.max(Math.abs(this.la*a*2.5+10),30),this.j.eg(this.q,this.md*(0>this.la?1:-1),this.nd*(0>this.la?1:-1),b,k,c)?(this.We=c,this.Pk=c.x,this.Qk=c.y,(this.Mq=k)&&(s=!0),this.la=0):(this.q.x=q,this.q.y=p,this.q.ba(),this.Ym=!0,k||(this.la=0)))}3!==this.rg&&0<this.la&&!t&&(this.j.trigger(sf.prototype.K.bD,this.q),this.rg=3);if(t||s)3===this.rg||s||u&&0===this.la?(this.j.trigger(sf.prototype.K.fD,
this.q),this.rg=0===this.ka&&0===this.la?0:1):(0!==this.rg&&0===this.ka&&0===this.la&&(this.j.trigger(sf.prototype.K.qD,this.q),this.rg=0),1===this.rg||0===this.ka&&0===this.la||u||(this.j.trigger(sf.prototype.K.iD,this.q),this.rg=1));0<this.Tl&&this.Tl--;this.wp=this.j.Yj(this.q)}};a.prototype.CC=function(){return 0!==this.ka||0!==this.la};a.prototype.wC=function(a){var b=!1,c=this.q.x,d=this.q.y;this.q.x-=3*this.md;this.q.y-=3*this.nd;this.q.ba();if(this.j.vd(this.q))return this.q.x=c,this.q.y=
d,this.q.ba(),!1;0===a?(this.q.x-=2*this.Ki,this.q.y-=2*this.Li):(this.q.x+=2*this.Ki,this.q.y+=2*this.Li);this.q.ba();b=this.j.vd(this.q);this.q.x=c;this.q.y=d;this.q.ba();return b};a.prototype.AC=function(){return 0>this.la};a.prototype.yC=function(){return 0<this.la};a.prototype.cD=function(){return!0};a.prototype.bD=function(){return!0};a.prototype.qD=function(){return!0};a.prototype.iD=function(){return!0};a.prototype.fD=function(){return!0};b.K=new a;c.prototype.LD=function(a){this.Ai=a;0>this.Ai&&
(this.Ai=0)};c.prototype.KD=function(a){this.kl=a;0>this.kl&&(this.kl=0)};c.prototype.UD=function(a){switch(a){case 0:this.As=!0;break;case 1:this.Bs=!0;break;case 2:this.jp=!0}};c.prototype.SD=function(a){this.la=a};c.prototype.Sh=function(a){this.enabled!==(1===a)&&(this.enabled=1===a,this.enabled||(this.We=null))};b.ca=new c;b.Cb=new function(){}})();function tf(a){this.j=a}
(function(){var a=tf.prototype;a.Fa=function(a){this.behavior=a;this.j=a.j};a.Fa.prototype.ma=function(){};a.za=function(a,c){this.type=a;this.behavior=a.behavior;this.q=c;this.j=a.j};var c=a.za.prototype;c.ma=function(){this.speed=v(this.M[0]);this.ee=v(this.M[1])};c.oc=function(){return{speed:this.speed,acc:this.ee}};c.Ic=function(a){this.speed=a.speed;this.ee=a.acc};c.Pb=function(){var a=this.j.sj(this.q);0!==a&&(0!==this.ee&&(this.speed+=this.ee*a),0!==this.speed&&(this.q.N=Ia(this.q.N+this.speed*
a),this.q.ba()))};a.K=new function(){};a.ca=new function(){};a.Cb=new function(){}})();function uf(a){this.j=a}
(function(){function a(){}var c=uf.prototype;c.Fa=function(a){this.behavior=a;this.j=a.j};c.Fa.prototype.ma=function(){};c.za=function(a,b){this.type=a;this.behavior=a.behavior;this.q=b;this.j=a.j;this.od=0};var b=c.za.prototype,d=2*Math.PI,e=Math.PI/2,g=3*Math.PI/2;b.ma=function(){this.Bc=1===this.M[0];this.Oo=this.M[1];this.hx=this.M[2];this.Ei=this.M[3];this.Ei+=Math.random()*this.M[4];0===this.Ei?this.od=0:(this.od=this.M[5]/this.Ei*d,this.od+=Math.random()*this.M[6]/this.Ei*d);this.De=this.M[7];
this.De+=Math.random()*this.M[8];this.df=this.Jk=this.ob=0;this.init()};b.oc=function(){return{i:this.od,a:this.Bc,mv:this.Oo,w:this.hx,p:this.Ei,mag:this.De,iv:this.ob,iv2:this.Jk,r:this.df,lkv:this.Xe,lkv2:this.po}};b.Ic=function(a){this.od=a.i;this.Bc=a.a;this.Oo=a.mv;this.hx=a.w;this.Ei=a.p;this.De=a.mag;this.ob=a.iv;this.Jk=a.iv2||0;this.df=a.r;this.Xe=a.lkv;this.po=a.lkv2||0};b.init=function(){switch(this.Oo){case 0:this.ob=this.q.x;break;case 1:this.ob=this.q.y;break;case 2:this.ob=this.q.width;
this.df=this.q.height/this.q.width;break;case 3:this.ob=this.q.width;break;case 4:this.ob=this.q.height;break;case 5:this.ob=this.q.N;this.De=v(this.De);break;case 6:this.ob=this.q.opacity;break;case 7:this.ob=0;break;case 8:this.ob=this.q.x,this.Jk=this.q.y}this.Xe=this.ob;this.po=this.Jk};b.Ui=function(a){a%=d;switch(this.hx){case 0:return Math.sin(a);case 1:return a<=e?a/e:a<=g?1-2*(a-e)/Math.PI:(a-g)/e-1;case 2:return 2*a/d-1;case 3:return-2*a/d+1;case 4:return a<Math.PI?-1:1}return 0};b.Pb=function(){var a=
this.j.sj(this.q);if(this.Bc&&0!==a){0===this.Ei?this.od=0:(this.od+=a/this.Ei*d,this.od%=d);switch(this.Oo){case 0:this.q.x!==this.Xe&&(this.ob+=this.q.x-this.Xe);this.q.x=this.ob+this.Ui(this.od)*this.De;this.Xe=this.q.x;break;case 1:this.q.y!==this.Xe&&(this.ob+=this.q.y-this.Xe);this.q.y=this.ob+this.Ui(this.od)*this.De;this.Xe=this.q.y;break;case 2:this.q.width=this.ob+this.Ui(this.od)*this.De;this.q.height=this.q.width*this.df;break;case 3:this.q.width=this.ob+this.Ui(this.od)*this.De;break;
case 4:this.q.height=this.ob+this.Ui(this.od)*this.De;break;case 5:this.q.N!==this.Xe&&(this.ob=Ia(this.ob+(this.q.N-this.Xe)));this.q.N=Ia(this.ob+this.Ui(this.od)*this.De);this.Xe=this.q.N;break;case 6:this.q.opacity=this.ob+this.Ui(this.od)*this.De/100;0>this.q.opacity?this.q.opacity=0:1<this.q.opacity&&(this.q.opacity=1);break;case 8:this.q.x!==this.Xe&&(this.ob+=this.q.x-this.Xe),this.q.y!==this.po&&(this.Jk+=this.q.y-this.po),this.q.x=this.ob+Math.cos(this.q.N)*this.Ui(this.od)*this.De,this.q.y=
this.Jk+Math.sin(this.q.N)*this.Ui(this.od)*this.De,this.Xe=this.q.x,this.po=this.q.y}this.q.ba()}};b.vA=function(a,b){switch(this.Oo){case 2:this.ob*=b.width/a.width;this.df=b.height/b.width;break;case 3:this.ob*=b.width/a.width;break;case 4:this.ob*=b.height/a.height}};a.prototype.$i=function(){return this.Bc};c.K=new a;c.ca=new function(){};c.Cb=new function(){}})();function vf(a){this.j=a}
(function(){var a=vf.prototype;a.Fa=function(a){this.behavior=a;this.j=a.j};a.Fa.prototype.ma=function(){};a.za=function(a,b){this.type=a;this.behavior=a.behavior;this.q=b;this.j=a.j};a=a.za.prototype;a.ma=function(){};a.Pb=function(){this.q.ib();var a=this.q.ac,b=this.q.L.$c;(0>a.right||0>a.bottom||a.left>b.width||a.top>b.height)&&this.j.Qh(this.q)}})();function wf(a){this.j=a;this.Hw=this.zs=this.ip=this.Gw=0}
(function(){function a(){}var c=wf.prototype;c.Fa=function(a){this.behavior=a;this.j=a.j};c.Fa.prototype.ma=function(){};c.za=function(a,b){this.type=a;this.behavior=a.behavior;this.q=b;this.j=a.j};var b=c.za.prototype;b.ma=function(){this.enabled=0!==this.M[0]};b.oc=function(){return{smg:this.behavior.Gw,ss:this.behavior.ip,se:this.behavior.zs,smd:this.behavior.Hw}};b.Ic=function(a){this.behavior.Gw=a.smg;this.behavior.ip=a.ss;this.behavior.zs=a.se;this.behavior.Hw=a.smd};b.Pb=function(){};b.Pw=
function(){if(this.enabled){var a=this.behavior.Rr.Pg(),b=0,c=0,f,m,k,h=0;f=0;for(m=a.length;f<m;f++){a:{k=a[f];for(var n=void 0,l=void 0,q=void 0,n=0,l=k.Qa.length;n<l;++n)if(q=k.Qa[n],q.behavior instanceof wf){k=q;break a}k=null}k&&k.enabled&&(b+=a[f].x,c+=a[f].y,++h)}a=this.q.L.$c;m=this.j.le.Va;k=f=0;m>=this.behavior.ip&&m<this.behavior.zs&&(f=this.behavior.Gw*Math.min(this.j.Jh,1),0===this.behavior.Hw&&(f*=1-(m-this.behavior.ip)/(this.behavior.zs-this.behavior.ip)),m=Math.random()*Math.PI*2,
k=Math.random()*f,f=Math.cos(m)*k,k*=Math.sin(m));a.Cw(b/h+f);a.Dw(c/h+k)}};a.prototype.Sh=function(a){this.enabled=0!==a};c.ca=new a})();function oc(a){this.j=a}
(function(){function a(){}function c(){}var b=oc.prototype;b.Fa=function(a){this.behavior=a;this.j=a.j};b.Fa.prototype.ma=function(){};b.za=function(a,b){this.type=a;this.behavior=a.behavior;this.q=b;this.j=a.j};var d=b.za.prototype;d.ma=function(){this.q.da.solidEnabled=0!==this.M[0]};d.Pb=function(){};a.prototype.gt=function(){return this.q.da.solidEnabled};b.K=new a;c.prototype.Sh=function(a){this.q.da.solidEnabled=!!a};b.ca=new c})();
function nc(){return[pc,qc,rc,sc,tc,uc,B,vc,wc,xc,yc,uf,tf,Ac,oc,rf,sf,wf,zc,vf,w.prototype.K.Ix,pc.prototype.ca.Play,pc.prototype.ca.vD,w.prototype.K.cC,w.prototype.ca.tC,uc.prototype.K.nt,B.prototype.ca.Yd,pc.prototype.ca.bE,w.prototype.ca.JD,B.prototype.ca.Qp,uc.prototype.K.ut,w.prototype.K.KC,Ac.prototype.ca.aE,w.prototype.ca.iE,qc.prototype.ca.ZB,uc.prototype.K.FC,B.prototype.ca.ND,Ac.prototype.ca.zD,w.prototype.ca.MC,w.prototype.ca.uC,w.prototype.K.zC,w.prototype.ca.RD,pc.prototype.ca.uD,w.prototype.K.lC,
B.prototype.ca.OD,B.prototype.ca.QD,uc.prototype.Cb.Kt,uc.prototype.Cb.Lt,wc.prototype.ca.Pp,B.prototype.ca.OC,sc.prototype.K.BC,w.prototype.ca.CD,uc.prototype.ca.FD,w.prototype.K.fE,B.prototype.K.bC,sf.prototype.ca.UD,sc.prototype.K.Gx,B.prototype.K.GC,B.prototype.K.YC,B.prototype.ca.un,B.prototype.ca.ID,oc.prototype.ca.Sh,sf.prototype.ca.KD,B.prototype.K.EC,B.prototype.K.IC,B.prototype.ca.DD,B.prototype.K.eC,B.prototype.ca.MD,sf.prototype.K.CC,sf.prototype.K.AC,sf.prototype.K.yC,B.prototype.ca.ZD,
w.prototype.ca.dE,wc.prototype.K.Vs,B.prototype.ca.HD,w.prototype.K.dC,w.prototype.Cb.Ay,uc.prototype.K.vC,w.prototype.K.kC,B.prototype.ca.OB,B.prototype.K.DC,uc.prototype.K.Lx,w.prototype.ca.PD,w.prototype.K.jE,w.prototype.ca.RB,wc.prototype.ca.cE,sc.prototype.K.Hx,sf.prototype.ca.SD,w.prototype.K.nC,w.prototype.K.aC,w.prototype.Cb.abs,B.prototype.Cb.Kt,B.prototype.Cb.Lt,sf.prototype.ca.LD,sf.prototype.K.wC,B.prototype.ca.AD,pc.prototype.K.HC,w.prototype.Cb.ah,B.prototype.ca.BD,B.prototype.K.Ax,
B.prototype.Cb.SB]};
